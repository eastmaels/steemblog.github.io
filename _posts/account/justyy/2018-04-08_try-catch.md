
---
title: '因为一个 try catch 好几天优秀点赞程序挂掉了我却以为是节点的问题'
permlink: try-catch
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2018-04-08 12:47:06
categories:
- cn
tags:
- cn
- cn-reader
- steemsql
- busy
- cn-programming
thumbnail: https://cdn.pixabay.com/photo/2015/05/11/13/28/software-762486_960_720.jpg
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![](https://cdn.pixabay.com/photo/2015/05/11/13/28/software-762486_960_720.jpg)
*Image Credit: Pixabay.com*

YY银行有四个点赞程序，分别跑于四台服务器上，它们是：
1. 股东点赞（代理给 @justyy ）
2. 自己的号
3. 足球队
4. 优秀作者（排名前30，还有跟随点赞）

这几天我就发现，有些赞没有给出，我还以为是节点的原因，因为查看记录，发现是

> Unexpected Type Error

后来才发现， 因为少打一个字符，把 `vp` 写成 `v` 结果被 try-catch 掉了。这就是为什么尽量不要捕获所有的异常 而是尽量 [**throw often and catch rarely**](https://justyy.com/archives/1456)

## 啥是优秀作者？
除了[日报中的前30名](https://steemit.com/cn-stats/@justyy/--daily-cn-updates-cncnpower-downyy2018-04-08)，银行还会[跟随点赞](https://justyy.com/archives/6183)，比如 参考 @abit 大神的过去2天的点赞列表：

```
SELECT top 30 author FROM TxVotes (NOLOCK) 
where (voter='abit') and 
datediff(hour, timestamp, GetUTCDate()) between 0 and 48
group by author
order by sum(weight) desc
```

并按权重从大到小排序。

## 互利点赞
如果银行发现你给银行点赞了，那么也就是获取过去36小时内给银行点赞比例至少为10%的列表。

```
  select voter, sum(weight) from
  TxVotes (NOLOCK)
  where
  author='justyy' and
  datediff(hour, timestamp, GetUTCDate()) between 0 and 36 and
  weight >= 1000  
  group by
  voter
  order by count(1) desc
```

对于这些支持银行的人，不论是优秀作者或者是股东都会给予小额额外点赞比例的奖励的。

---------------------------------------------------
> @justyy 是 https://justyy.com 的博主，写些帖子挣些小钱养家糊口。**@justyy 也是CN 区的点赞机器人**，对优质内容进行点赞，只要代理给 @justyy 每天收利息(年化率 8-10%)并且能获得一次相应至少2倍的点赞，可以认为是VP 200%+。加入计划最低代理**5 SP**。

1. [CN 区最低保障系统 上线了!](https://steemit.com/cn/@justyy/cn-introduction-to-the-cn-wechat-group-voting-robot-justyy) 
2. [CN 区低保计划（鼓励新人）真的适合你么？](https://steemit.com/cn/@justyy/56dta3-cn)
3. [CN 区优质内容点赞机器人上线了!](https://steemit.com/cn/@justyy/a-good-content-upvote-bot-cn) 
4. [点赞机器人每日点赞记录整合到每日报表中！](https://steemit.com/cn/@justyy/good-content-upvoting-history-now-integrated-into-to-daily-ranking-table)
5. [虽然不挣钱，但是CN区低保计划还会继续下去](https://steemit.com/cn/@justyy/cn)
6. [cnbuddy 和 YY 银行的区别，哪个更适合你？](https://steemit.com/cn/@justyy/cnbuddy-yy)
7. [YY 银行明天加息到 年利率 8%，点赞比重增加](https://steemit.com/cn/@justyy/yy-8)
8. [YY 银行开启互抱大腿模式](https://steemit.com/cn/@justyy/yy)
9. [大家好才是真的好，YY银行足球队，你还有啥理由不加入银行？](https://steemit.com/cn/@justyy/xi2jn-yy)
10. [YY 银行迎来第100个股东！感谢一路上有你们！5 SP即可加盟！](https://steemit.com/cn/@justyy/yy-100-5-sp)
11. **[YY 银行有条件加息试行条例](https://steemit.com/cn/@justyy/2bwmvk-yy)**

通过 [SP 代理工具](https://helloacm.com/tools/steemit/delegate-form/?delegatee=justyy) 成为 YY银行股东，好处多多。只要代理至少 **5 SP** 给 @justyy 即可自动成为YY股东。用同样的工具输入0取消代理退出股东。来去自由，取消代理后系统需要7天才能将您代理的SP退回到您的帐号上。友情提示，不建议把所有SP都代理给银行，因为你需要留一些能量发贴。
> [SteemIt 教程、机器人、在线工具和API接口](https://helloacm.com/tools/steemit-tools/)
> [代理SP给YY银行](https://helloacm.com/tools/steemit/list-of-delegators/?id=justyy)是很划算的，YY银行吃的是草（借的SP），挤的是奶啊（流通性较强的SBD利息），每日发 SBD利息，从不间断。祝股东们都在2018里赚大钱，实现[财务自由](https://justyy.com/archives/3954)啊！

> 加入[公众号](https://justyy.com/archives/6086) **justyyuk** 即可以实时查询 [BTC](https://justyy.com/archives/5685), SBD, STEEM, [YOYOW](https://justyy.com/archives/5657), LTC, [ETH](https://justyy.com/archives/5653) 等[虚拟货币的价格](https://justyy.com/archives/6076).
![](https://justyy.com/wp-content/uploads/2018/01/wechat-justyyuk.jpg)

### Discord 机器人
- 中文 cnsteem 的 [discord](https://justyy.com/archives/6095) 群： https://discord.gg/7ctT3Xt
- Discord 虚拟货币查询[机器人](https://justyy.com/archives/6089)
- Discord 机器人 [steemit](https://justyy.com/archives/6091)           

## 支持我的工作 支持我成为 [见证人](https://steemit.com/cn/@justyy/5h6gyv-cn) 
1. [请在 这里 投我一票](https://steemconnect.com/sign/account_witness_vote?approve=1&witness=justyy), 或者
2. 设置我 [为代理](https://v2.steemconnect.com/sign/account-witness-proxy?proxy=justyy&approve=1).

谢谢您！ 您可能还会喜欢：**[SteemIt 工具、API接口、机器人和教程](https://helloacm.com/tools/steemit-tools/)**
 
## Support me and my work as a [witness](https://steemit.com/witness-category/@justyy/justyy-just-another-witness) by 
1. voting me [here](https://steemconnect.com/sign/account_witness_vote?approve=1&witness=justyy), or
2. voting me as [a proxy](https://v2.steemconnect.com/sign/account-witness-proxy?proxy=justyy&approve=1).

Thank you!  You may also like: **[SteemIt Tools, Bots, APIs and Tutorial](https://helloacm.com/tools/steemit/)**

- - -

This page is synchronized from the post: [因为一个 try catch 好几天优秀点赞程序挂掉了我却以为是节点的问题](https://steemit.com/@justyy/try-catch)
