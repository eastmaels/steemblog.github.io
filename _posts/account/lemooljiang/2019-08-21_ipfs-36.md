
---
title: 'IPFS(星际文件系统)初体验 / 网络研习社#36'
permlink: ipfs-36
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-08-21 15:55:57
categories:
- cn
tags:
- cn
- network-institute
- ipfs
- hash
thumbnail: 'https://cdn.steemitimages.com/DQmP9sBdD5ZoRTFsbjap2Vt2RjqFhkW4dtGLyG3AZr9Nzmm/ipfs3.jpg'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![ipfs3.jpg](https://cdn.steemitimages.com/DQmP9sBdD5ZoRTFsbjap2Vt2RjqFhkW4dtGLyG3AZr9Nzmm/ipfs3.jpg)

https://ipfs.io/

IPFS被称为星际文件系统，号称地球毁灭也将存在的文件系统！好有牛气冲天的样子。它开发了将近两年的时间，现在可以稍微体验一下这个文件系统是如何有别于一般的网络服务。


## 安装和初始化

```
wget https://dist.ipfs.io/go-ipfs/v0.4.22/go-ipfs_v0.4.22_linux-amd64.tar.gz
tar xzf go-ipfs_v0.4.22_linux-amd64.tar.gz
cd go-ipfs
mv ipfs /usr/local/bin/ipfs
```
<br/>
安装起来还蛮容易的，没费什么劲。因为ipfs在国内被墙，所以我使用的是谷歌的云主机（ubuntu18）来测试的。简单几步就可以拉起来使用的。试下`ipfs version `，如果出现版本信息（ipfs version 0.4.22），即是安装成功了。

`ipfs init` 初始化

`ipfs daemon` 运行节点

有这几步就行，可以上传文件测试下啰。

## 上传文件

`ipfs add index.html` 

在本地新建一个文件“index.html”，写入点内容。使用`ipfs add index.html`即可添加文件至节点，它会自动同步到外网中。

![ipfs.jpg](https://cdn.steemitimages.com/DQmcHFmKFX8XchybzLf2qnQBJLBJCpC1Lea7zk7UcPSKnDu/ipfs.jpg)

如上图所示，使用`ipfs add index.html`成功后会生成一个hash值，用它就可以访问该文件了。


![ipfs4.jpg](https://cdn.steemitimages.com/DQmQU9C93YANHxBiH6JThyS5CCHvi8gptNjSu9u6rPTec8a/ipfs4.jpg)

 `https://ap.siderus.io/ipfs/Qmbz86Xvm1uqVpHSfScrUD8iGsxqPBeXHV3mqzxtJ2Erug`

如上图所示去访问，“公共网关+文件 hash值 ”就可以访问到该文件了。因为官网 https://ipfs.io 的公共网关死活都访问不了，折腾了近一个多小时还是不行！后来查了一下，换了一个网关地址，一个就可以了！

所以，正确访问文件的方式是 “**可用的公共网关+文件 hash值** ”！比如这样：`https://ap.siderus.io/ipfs/Qmbz86Xvm1uqVpHSfScrUD8iGsxqPBeXHV3mqzxtJ2Erug`  

可用的公共网关在这： https://ipfs.github.io/public-gateway-checker  网关虽多，但都不太好用，这也可以看出IPFS仍处在比较早期的阶段，离实际的生产应用还有一段距离。

- - -

This page is synchronized from the post: ['IPFS(星际文件系统)初体验 / 网络研习社#36'](https://steemit.com/@lemooljiang/ipfs-36)
