
---
title: '会员卡难办吗？解读下微支付通道 / 学习智能合约#12'
permlink: w51od
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2020-06-10 12:30:45
categories:
- smartcontract
tags:
- smartcontract
- cn
- eth
- web3
- solidity
- vip
- raiden
thumbnail: 'https://steemjiang.com:8081/ipfs/QmY46APWqfXBGHzLvBHPVswaZ1CjhXe7TwUo4wuYzJekP7'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![vip.jpg](https://steemjiang.com:8081/ipfs/QmY46APWqfXBGHzLvBHPVswaZ1CjhXe7TwUo4wuYzJekP7)

现实中我们经常有办卡的需求，比如办张购书卡、饭卡、电影卡等。这些会员卡会带来不少便利，还有不少优惠！这些天研究的**智能合约中微支付通道其本质也就是办张会员卡！**

以太坊转帐贵且慢，对于消费频繁的支付有没有什么好办法呢？答案就是办张会员卡！我们假定这么一个消费支付的场景：
你每天都要去星巴克买咖啡。一来二去的，你可能就会觉得有些麻烦：不想带零钱，也不想带手机，有什么快速地办法买到咖啡呢？办张星巴克的会员卡就解决问题啦。你往卡里充个200块，每次买时店员给你打个勾就可以啰！即不用现金也不用支付宝，快且省事。

既然这个会员卡这么好用，没有理由别人不用吧。于是以太坊的开发人员们就鼓捣出状态通道这么个东东。

![channel.jpg](https://steemjiang.com:8081/ipfs/QmeRCGuaABebGbpnEJaFaqSkkRP4pFMXiTWkqYJ2wJxA4Q)

如上图所示，和会员卡类似，通道合约分三个步骤进行交易：
1. 你部署一个智能合约，将自己的钱转到合约里，打开了一个支付通道。
2. 付钱的时候，你发送一个带自己签名的消息给星巴克，指明自己的消费金额，也就是用会员卡记帐。
3. 星巴克关闭支付通道，通过将上面第二步收到的消息发送给智能合约以取出属于自己的那部分钱，并将剩余的钱退还给你。

就这样，把每次都向以太坊上转帐变成以会员卡来记帐的方式，来节约转帐的费用和时间。所以说，会员卡真是好用啊。

上岛咖啡见星巴克的会员卡业务风生水起的，也动了心思想加入：你这办的卡到我这也能用！于是，**其它的一些咖啡店都用上了会员卡。这时，这个卡就叫雷电网络！** 

撇开高深莫测的技术和代码，理解状态通道和雷电网络还是挺容易的，也就是办张会员卡的事。嗯，这张会员卡到现在还没办好，也可以看出这些个程序猿水平也就这样，哈哈！

- - -

This page is synchronized from the post: ['会员卡难办吗？解读下微支付通道 / 学习智能合约#12'](https://steemit.com/@lemooljiang/w51od)
