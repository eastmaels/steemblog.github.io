
---
title: 'SteemJiang实现评论优化的方法'
permlink: tg6wo
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-11-17 05:15:48
categories:
- steemjiang
tags:
- steemjiang
- cn
- network-institute
- steemjs
- steemdev
thumbnail: 'https://i.loli.net/2019/11/17/7P943k5rebDV1zX.jpg'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![steemjiang.jpg](https://i.loli.net/2019/11/17/7P943k5rebDV1zX.jpg)

**看来是要优化到底啰！** 文章的优化倒还好，直接丢数据库就好了，但是评论部分就没有那么简单了。

首先评论是递归的数据结构，一动就要全动（是不是有点区块链中梅克尔树的意思），没办法单独修改某一条评论。其次是别人的评论你要同步进来啊，这就要涉及如何同步区块链的方法了。

先来试试如何发布评论：

![comment.jpg](https://i.loli.net/2019/11/17/o9fEDTQydVJkbvs.jpg)

发布评论和发布文章是几乎一样的，所以它的处理逻辑和文章相同，都是“先上车再补票”的思路。

展示起来倒是有点困难，难点就在它了。

![showcomment.jpg](https://i.loli.net/2019/11/17/QDhdoBxc3L1Z85J.jpg)

看到这样的玩法是有点头晕。**事实上要做优化确实要这么付出！** 还是看着图做比较好，思路清晰了，逻辑有了，实现起来才会简单。

- - -

This page is synchronized from the post: ['SteemJiang实现评论优化的方法'](https://steemit.com/@lemooljiang/tg6wo)
