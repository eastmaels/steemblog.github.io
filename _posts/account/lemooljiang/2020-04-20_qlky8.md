
---
title: '以太坊 + IPFS 数据存储可行方案'
permlink: qlky8
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2020-04-20 04:09:48
categories:
- cn
tags:
- cn
- network-institute
- etherjiang
- eth
- ipfs
- mapping
thumbnail: 'https://steemjiang.com:8081/ipfs/QmeLf6LbfZVCYFSRBFsVc6CB19t2F98ay91AZSzEt4VUmJ'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![ethipfs.jpg](https://steemjiang.com:8081/ipfs/QmeLf6LbfZVCYFSRBFsVc6CB19t2F98ay91AZSzEt4VUmJ)

画个图来表示下这个可行方案。以区块链来实现数据存储很明显会遇到数据过大的问题，这时IPFS可以派上用场。以太坊 + IPFS 这对组合其实经常被人提起，也算是区块链存储的可行方案了。

## 存数据

文章、图片、视频等内容先上传到IPFS网络，生成哈希值。将哈希值、内容的标题和关键词以mapping的形式存入以太坊。这三个mapping以相同的id关联，也就是说哈希值、内容的标题和关键词对应同一个id。

## 查询数据
查询数据可没有写好的方法供你使用，都得自己实现！我总结一下，大约是四步：
1. 读取以太坊网络中所有的标题和关键词建立索引。这步有点像是字典前面的查询页。
2. 以标题和关键词查出id。
3. 以id查出内容的哈希值。
4. 以内容的哈希值从IPFS中查出内容。

我想，这大概是比较好的办法吧，如果还有更好的，请多多建议！



- - -

This page is synchronized from the post: ['以太坊 + IPFS 数据存储可行方案'](https://steemit.com/@lemooljiang/qlky8)
