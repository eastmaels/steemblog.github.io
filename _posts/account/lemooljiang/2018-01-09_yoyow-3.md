
---
title: "YOYOW见证人炼成记-解析篇 / 挖矿大业 #3"
permlink: yoyow-3
catalog: true
toc_nav_num: true
toc: true
date: 2018-01-09 09:08:54
categories:
- cn
tags:
- cn
- mining
- blockchain
- cryptocurrency
- yoyow
thumbnail: https://steemitimages.com/DQmeLPb7e2eUzjwDaeu4dhqsGhg6tRG4Q4eHAM5y533FYYA/miner.jpg
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


![miner.jpg](https://steemitimages.com/DQmeLPb7e2eUzjwDaeu4dhqsGhg6tRG4Q4eHAM5y533FYYA/miner.jpg)

这篇中我们来深入挖掘下见证人的制度，看看见证人到底是怎么玩的，需要多少成本，有多少收益。这个是大前提。测试篇我们已经搞定了，理论上也要准备充足才行。然后，创建见证人和运行节点那都是件容易的事了！


**一、见证人出块规则**

YOYOW 采用 DPOS 的设计，每3秒一个块。见证人负责出块，维护网络正常运行，并因此获得出块奖励作为报酬。见证人的设计参考了 BitShares，Steem 以及 Dash。

任何账户抵押一定数量的 YOYO 币即可获得见证人身份（目前是 10000 YOYO，并支付 1000 YOYO 手续费）。具体金额由理事会确定。抵押金额可以高于理事会决定的最低金额。见证人随时可以调整抵押金额。见证人在一定情况下可以辞职，辞职后系统会将押金退回，但手续费不退。

获得见证人身份后，则可以被持币人投票。见证人需要运行节点程序才能在安排到时正常出块。

见证人出块顺序由调度算法决定。每若干块为一轮，安排相应数量的见证人；每轮结束时，名单刷新。算法将见证人分三种类型：主力、后备、（虚拟）矿工，每一轮里，三种见证人数量 X，Y，Z 固定，合计 X+Y+Z 即为每轮的块数。具体数量由理事会决定。每种类型的见证人出块奖励也可以不同，仍然由理事会决定。

主力：获得持币人投票数最多的前 X 人。每轮安排出一块。
后备：按得票排名，X 名之外的见证人，每轮安排 Y 人。安排频率与得票数量成正比。
矿工：按抵押金额排名，每轮安排 Z 人。安排频率与抵押金额成正比。

目前能排上出块的是 11 人，9 个主力，1 个后备，1 个矿工。
主力和后备出一个块能得到 1 YOYO，矿工能得到 0.5 YOYO。

每一轮由固定数量的主力+后备+矿工负责出块，出块的见证人可以获得奖励

安排到时，如果 3 秒内没有出块，或者出了块但是没有及时广播到网络，则会导致丢块，同一轮的下一个见证人会尝试在该块号出一个块。如果一个见证人连续丢块数量太多，会被强制离线，不再安排出块。具体数量由理事会决定。强制离线不影响抵押金额及得票排名。见证人可主动重新激活，则会被重新安排。

为降低丢块率，见证人发现自己出块异常时可主动离线，也可运行备用节点，发现异常时进行切换。

押金扣除规则：
如果一个见证人在同一个块号出两个 hash 不同的块，系统认为该见证人有双花意图，将扣除一定金额押金作为惩罚，同时该见证人被强制离线。具体金额或者比例由理事会决定。因此，进行服务器迁移时，以及部署多个节点时，需要特别注意


**二、YOYOW 投票的规则**

投票人的投票票数权益 =【投票人账户当前的 YOYO 余额】和【投票人投票后 90 天内持有 YOYO 余额的平均值】中的较小值。

比如您一个月前充了 20w YOYO 到账户，昨天投票给当时得票为 0 票的见证人 309431443，投票操作的 24 小时后又充了 50w YOYO 到您的账户，投票的72 小时后您转走 70w YOYO。因为 (20w + 89 * 0) ÷ 90 = 2222.2，(20w + (20w + 50w) + 88 * 0) ÷ 90 = 1w，假设这期间没有其他人为 309431443 投票，309431443 在您投票 24 小时后的得票为 2222.2，48 小时后的得票为 1w，72 小时后得票为 0。

见证人的总票数就是以上面的公式得出的所有投票人的票数总和。按目前的主力见证人数量，得票总数前 9 名的见证人可以成为主力见证人，每轮每人出 1 个块，每出一个块获得 1 YOYO 奖励。

其余的见证人按得票数都有机会成为后备见证人，目前每轮 1 个名额，每出一个块获得 1 YOYO 奖励。轮流出块被 YOYOW 的开发者比喻成大家一起跑圈，这个跑道的长度是 2 的 128 次方，见证人的得票数就是这个见证人的速度。见证人出块就相当于是跑到了终点，下一个出块的人是系统预计到终点时间最短的人，这个时间 = (跑道长度 - 见证人当前位置(Position)) ÷ 速度(Position可以在区块浏览器http://yoyow.bts.ai/witness 中查看)。

矿工，见证人按抵押数都有机会成为矿工，目前每轮 1 个名额，每出一个块获得 0.5 YOYO 奖励。矿工跑圈的规则和后备见证人一样，只是矿工的速度是见证人的抵押数量。这个抵押数也不是即时生效的，是 7 天内抵押 YOYO 数量的平均值。


**三、见证人每月收益率**

每月收益率(出块率)与见证人的抵押正相关，与见证人的得票数正相关（一万个YOYO一天大约能产出0.75个币）。所以此项的计算颇为复杂。综合数据，每月收益率约为0.216%（年收益率约2.59%）。此项为网络动态调整，并不固定，以实际出块量为准。此项可在见证人页查找（https://yoyow.bts.ai/witness?locale=zh-CN）。

如果只是以币量的收益率来看是没有什么吸引力的，但是考虑到币价的升值（我们主要寄希望于此吧），那么，

**我们的资金收益率可能会是100%，1000%。投资见证人其实是在投资YOYOW的未来！**

<sub>注：本文内容参考YOYOW官网和YOYOW123社区。</sub>

@lemooljiang #mining

- - -

This page is synchronized from the post: [YOYOW见证人炼成记-解析篇 / 挖矿大业 #3](https://steemit.com/@lemooljiang/yoyow-3)
