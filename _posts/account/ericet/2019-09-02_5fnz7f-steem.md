
---
title: 'Steem终于又好了'
permlink: 5fnz7f-steem
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-09-02 11:26:03
categories:
- cn
tags:
- cn
- cn-reader
- whalepower
- hf22
- sago-freeboard
- ctp
- bilpcoin
- sago
- steem
- steemleo
- sct
- sct-freeboard
- palnet
- zzan
- mediaofficials
- actnearn
- marlians
- neoxian
- lassecash
- upfundme
- sct-cn
- busy
thumbnail: 'https://cdn.steemitimages.com/DQmSJ5anyi5hZh7Y8jX8iXCPSZwFbJJLPuxAWnquEkXo4ts/017591AD-A2FE-443D-B9F5-0F7D5872BA96.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


这次HF实在是不算成功，接连不断的问题。

这次Steem链的问题出在一篇帖子的收益。

看了一下官方的代码修改：

![017591AD-A2FE-443D-B9F5-0F7D5872BA96.png](https://cdn.steemitimages.com/DQmSJ5anyi5hZh7Y8jX8iXCPSZwFbJJLPuxAWnquEkXo4ts/017591AD-A2FE-443D-B9F5-0F7D5872BA96.png)

问题出在old_weight大于new_weight，使得max_vote_weight 变成负数。在尝试转化负数成正整数的时候，负数变成一个超大的值，这个值超过to_unit64能承担的值。问题就发生在这里。

记得上次HF21后，steem链也在最大值这个问题上出现问题。这个问题的确在测试的时候很难测试出来，但是像我之前帖子说的，HF22过于匆忙，不等待几天看看有没有其他问题后再一起修复更新，不然就是无尽的HF。

- - -

This page is synchronized from the post: ['Steem终于又好了'](https://steemit.com/@ericet/5fnz7f-steem)
