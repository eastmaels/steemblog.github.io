
---
title: '给Likecoin的验证人换个服务器'
permlink: likecoin
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2020-04-29 03:54:33
categories:
- cn
tags:
- cn
- cn-reader
- likecoin
- whalepower
- lifestyle
- build-it
- jjm
- mini
- steem2hive
- palnet
- zzan
- dblog
- diamondtoken
- marlians
- neoxian
- lassecash
- upfundme
- actnearn
thumbnail: 'https://cdn.steemitimages.com/DQmSvdnzJSG4krnPQxAcNtW4wMzJHRSnUeyRMgX5x88tMad/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


运行Likecoin验证人的服务器和运行STEEM见证人的服务器是2个不同的服务器

运行Likecoin验证人的服务器价格贵，但是利用率不高。所以纠结了一段时间后，打算把Likecoin验证人的程序搬到STEEM见证人的服务器上去。

Likecoin技术人员告诉我具体怎么操作和一些主要事项：

![](https://cdn.steemitimages.com/DQmSvdnzJSG4krnPQxAcNtW4wMzJHRSnUeyRMgX5x88tMad/image.png)

![WeChat Image_20200428233459.jpg](https://cdn.steemitimages.com/DQmVgTpzBcGTA3wKtb1Utk2miPRWJw6FG6d595VhgGQvBEm/WeChat%20Image_20200428233459.jpg)

基本的流程是：
* 停止验证人程序
* 把整个likecoin-chain的文件全部搬到新的服务器上
* 运行 ./script/build.sh 建构docker 映像后，运行docker-compose up -d 启动程序

看起来简单，但是实际操作起来有一些小问题。

为了不太长时间离线，所以操作要快速完成。总结了自己的经验，可以在离线时间30分钟内重新上线

具体步骤如下：
* 运行docker-compose down -v 停止验证人程序
* 压缩likecoin-chain整个文件夹, 这个过程大概5分钟
* 成功压缩后，重新运行验证人程序(docker-compose up -d)
* 把压缩成功的likecoin-chain文件传输到新的服务器上，这个过程大概20分钟
* 传输成功后，解压缩文件, 这一步骤大概2分钟
* 把旧服务器上的验证人程序停止，然后在新的服务器上运行 ./script/build.sh 建构docker 映像
* 最后docker-compose up -d 启动验证人程序

这是我经过几次失败的测试后，总结的最省时间，也离线最短时间的搬家方式

- - -

This page is synchronized from the post: ['给Likecoin的验证人换个服务器'](https://steemit.com/@ericet/likecoin)
