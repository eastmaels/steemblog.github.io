
---
title: 'steem公链上存储数据的思路和实现'
permlink: steem-1561388929
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-06-25 01:08:57
categories:
- steem
tags:
- steem
- cn-reader
- sct
- sct-cn
- cn
thumbnail: 'https://cdn.steemitimages.com/DQmetCGw1f2USsk6C5KiszHLkhJDiqzVeyKb1K5HeJ9JKhT/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


最近在做一个项目方案，其中有个模块构思想要区块链技术来实现，大致的需求是这样的：

　　当用户双方交易完成后，将关键的数据加密打包后存储到公链上。

　　考虑到两个公链，一个是bts，另一个就是steem。

　　对比分析了下，bts因为每次交易都会产生一定成本费用，而steem则不需要，故选择steem。

　　至于如何实现，@abit建议我联系下@ety001，我看了下，之前竟然没有加过@ety001，于是在群里找到对方，本想加下对方微信，但是发现@ety001设置了隐私模式，也就是说，只能他加我，我无法主动加对方。

　　在群里联系了@ety001后，很快没几分钟，@ety001就加了我的微信，于是在微信上聊起来。

　　我将自己的想法告诉了下@ety001，ETY很热心，直接就告诉了我实现的思路和方法，大致如下，

　　目前就是通过sdk把数据存储为custom类型的数据（https://developers.steem.io/apidefinitions/#broadcast_ops_custom_json），
然后本地数据库的表里多加个txid的字段，存储下txid，方便用的时候能够快速找到。
![](https://cdn.steemitimages.com/DQmetCGw1f2USsk6C5KiszHLkhJDiqzVeyKb1K5HeJ9JKhT/image.png)
红框里的数据，都是可以自定义的。

这样一说，立马让人豁然开朗很快明白了。

唯一麻烦的是，steem在国内无法使用，需要自建节点或做ngix反向代理，并且热心地发给我具体的操作方法：
![ngix.png](https://cdn.steemitimages.com/DQmQEwb7oVPmgPPWwbempRXpHU495xcdaJUb9nHsXD1JvEk/ngix.png)
　　把proxy_pass改为 https://api.steemit.com ，然后再给nginx加上ssl证书


　　再次感谢  @abit 和 @ety001 ，前者给我介绍了对的朋友，后者给我具体的思路和实现！

- - -

This page is synchronized from the post: ['steem公链上存储数据的思路和实现'](https://steemit.com/@rivalhw/steem-1561388929)
