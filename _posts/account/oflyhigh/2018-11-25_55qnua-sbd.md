
---
title: '文章奖励中SBD为什么减少了？'
permlink: 55qnua-sbd
catalog: true
toc_nav_num: true
toc: true
date: 2018-11-25 02:35:36
categories:
- cn
tags:
- cn
- sbd
- steem
- market
- witness-category
thumbnail: https://cdn.steemitimages.com/DQmctmEWMEDngiBa4fuofsJMYe6AwKH5SN8SBT2pNVJF9EQ/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


大家可能注意到文章奖励中，SBD部分已经微乎其微了，在不久之前可还是占50%的比重呢！那么为什么SBD奖励会减少呢？

![](https://cdn.steemitimages.com/DQmctmEWMEDngiBa4fuofsJMYe6AwKH5SN8SBT2pNVJF9EQ/image.png)
(图源 ：[pixabay](https://pixabay.com/))

其实这种事情在STEEM的历史上已经发生过很多次了，简单来讲为了维持SBD接近一美元的价格，STEEM系统控制SBD的供应量占总供应量的一定比例。

在HF19时，SBD供应量控制在2%-5%之间，如果低于2%，那么文章奖励的流动性部分就100%发SBD(亦即SBD+SP)，如果超过5%，那么就停发SBD（以及STEEM+SP)，2%-5%之间呢，则按线性比例发放。

在HF20时，这个供应量比例改为5%-10%，规则还是相同的。所以我们知道了SBD的占比，就会知道SBD的发放比例了。

而STEEM系统中用`current_median_history_price`来计算STEEM的价格，所以SBD的供应量占比可以用如下算式获取：
>`percent_sbd = (current_sbd_supply/median_price)  / (current_supply + current_sbd_supply/median_price )`

用脚本算了一下，大致结果如下：
>![](https://cdn.steemitimages.com/DQmezixuYjtfWhg3qqdaYqPg1mdRT6kmQho5umbdfH8LmVn/image.png)

其中price取的是`current_median_history_price`, virtual_supply_1为直接读出来的总供应量，virtual_supply_2为用`current_supply + current_sbd_supply/median_price `计算出来的量。

最终算出来的比例为9.99%，算出来的***当前SBD_PRINT_RATE为1%***，与读出来的SBD_PRINT_RATE一致。这个就是当前文章奖励中SBD发放的比例了。

到https://www.eztk.net/witnesses.php这个witness列表中查看，我们会发现当前见证人喂价如下：
![](https://cdn.steemitimages.com/DQme66BjLK7McyrGdW3M8yVyM92Yg6JHomuePpj17DABPCt/image.png)

那问题来了，为啥我程序显示出的current_median_history_price是0.418呢？答案是current_median_history_price是3.5日见证人喂价的中间值，也就是说无论是上涨还是下跌，它都要滞后一些。那如果按实际价格计算，当前SBD占比以及SBD_PRINT_RATE应该是多少呢？

我们取个差不多的值0.328，计算结果如下：
![](https://cdn.steemitimages.com/DQmZbSGrCr7GteWnQT9dh256wrDXFVbeFqnWWu5KrhgaqSg/image.png)
也就是说SBD的占比已经达到了12.41%了。

当其实我更倾向于用内盘价格计算，我感觉这个才是最准确反应SBD占比的因素。
![](https://cdn.steemitimages.com/DQmTrVQVeDVyRRK5kJbtfYvzSBakD1QaSkpS1L8uuUVGJdy/image.png)

也就是说，无论是按实际价格还是按内盘价格，SBD的占比都已经超过了10%，SBD_PRINT_RATE应该为0。只不过由于current_median_history_price的滞后才导致现在还能得到1%的SBD，不过估计很快就会和我们说白白了。

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>

- - -

This page is synchronized from the post: [文章奖励中SBD为什么减少了？](https://steemit.com/@oflyhigh/55qnua-sbd)
