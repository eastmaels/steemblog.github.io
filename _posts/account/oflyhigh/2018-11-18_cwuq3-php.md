
---
title: '每天进步一点点：PHP 问号表达式效率问题'
permlink: cwuq3-php
catalog: true
toc_nav_num: true
toc: true
date: 2018-11-18 03:33:15
categories:
- php
tags:
- php
- study
- programming
- code
- cn
thumbnail: https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


在写PHP代码时，遇到简单的判断之类的，总是喜欢用问号表达式而不是IF...ELSE...分支判断。

![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))


今天突发奇想，问号表达式和IF...ELSE...到底谁的效率高呢？然后百度了一下，咦，竟然没人讨论这个问题，看来就我自己闲的难受。

既然闲的难受就写段简单的代码测试一下
```
<?
$loops = 100000;

$start=microtime(true);
for($i=0; $i<$loops; $i++)
{
	($i>$i-1)?$j=0:$j=1;
	($i<$i+1)?$k=0:$k=1;
	($i>$i-1)?$j=0:$j=1;
	($i<$i+1)?$k=0:$k=1;
}
echo round(microtime(true) - $start, 6), "\n";

$start = microtime(true);
for($i=0; $i<$loops; $i++)
{
	if($i>$i-1) $j=0; else $j=1;
	if($i<$i+1) $k=0; else $k=1;
	if($i>$i-1) $j=0; else $j=1;
	if($i<$i+1) $k=0; else $k=1;
}
echo round(microtime(true) - $start, 6), "\n";
?>
```

刷了几遍网页后，输出的结果大致都是类似如下情况
>![](https://cdn.steemitimages.com/DQmeKVzfa2pNS6NpSznWVhftHHXmSY539wtCDfWDeMo17n2/image.png)


也就是说***问号表达式要比IF...ELSE..慢上一倍左右***，不过，讲真，运行10万轮，每轮还运行了四次，不过耗时接近0.04秒，也就是说其实这点效率差异根本是无关紧要的。

所以，用问号表达式还是IF...ELSE...并没有多大区别，浪费不了多少时间，倒是我闲的做这个测试，浪费了自己不少时间，够跑无数次问号表达式啦！

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>

- - -

This page is synchronized from the post: [每天进步一点点：PHP 问号表达式效率问题](https://steemit.com/@oflyhigh/cwuq3-php)
