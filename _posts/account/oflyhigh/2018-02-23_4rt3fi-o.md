
---
title: 'O哥闲扯淡：带宽就是游戏中人物的血槽'
permlink: 4rt3fi-o
catalog: true
toc_nav_num: true
toc: true
date: 2018-02-23 03:10:03
categories:
- cn
tags:
- cn
- bandwidth
- sp
- steem
- limit
thumbnail: https://steemitimages.com/DQmXhFiaz82WJkp6QezRo1UQagAWpPvn7pScEtH9m2Nb1ke/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


昨天有朋友在QQ群里咨询他无法点赞，无法编辑文章，问是什么缘故？于是我看了一下，老生常谈的问题了，带宽不够啦。于是我就回答了一下，说SP太少了，带宽不够啦，所以操作不了啦。

但是这个朋友马上问，SP是啥，带宽又是啥，怎么才能操作？额，这要我三言两语解释清楚还真有点难度，费了点劲总算让他略明白一点。但是我想能否简单明了的让朋友们理解这个问题呢，今天试着扯扯。

![](https://steemitimages.com/DQmXhFiaz82WJkp6QezRo1UQagAWpPvn7pScEtH9m2Nb1ke/image.png)
(图源 ：[pixabay](https://pixabay.com))

**安全提示：O哥闲扯淡系列本就是闲扯淡，诸位千万别当真！**

# 带宽与掉血

如果把STEEM当游戏的话，**带宽相当于游戏中人物的“血”。你在STEEM区块链上的一切操作都会掉血(消耗带宽）**，比如发帖、回复、点赞、转账、Power UP等等。如果没血了，就没法进行操作了，就只能等回血。

其中每次操作掉血的量，就是你在STEEM区块链上操作产生的数据量，亦即一个transaction的占用的字节数。这样看来，单次点赞、转账、Power Up等操作掉血很少。而发帖和回复，则和文章内容长短有关，文章越长，掉血越快。

# SP 与血槽

带宽分配和两个因素有关，一个是系统的当前参数，一个是用户SP。

系统参数估计先不去讨论，可以粗略的认为**用户有效SP决定了血槽的长度**。比如你有1个有效SP，血槽长度是10，那么我有1W SP，血槽长度就是10W。同样的操作，同样的掉血速度，但是你血掉光了，我才掉万分之一。这也就是为何新用户经常遇到带宽超限问题，而老用户很少遇到，因为老用户一般都积累了一些SP。

从STEEM官网渠道注册，官网会借你14.5个SP，一共是15SP，一般而言，只要不是过度挥霍，足够使用了。cnsteem 渠道注册，解决了官网注册难的问题，一般情况会借你2个SP，一共是2.2SP，借你的SP大概7天后收回，所以要争取在注册之后及时发帖赚取SP。或者通过购买SP为账户充值。

# 血槽的恢复

大家可能还会关心一个很重要的问题，就是血槽如何恢复。

计算的方式为：
如果距离上次操作时间 > 7天，Average Bandwidth 为 本次操作Bandwidth
否则Average Bandwidth为 (7天 - 距离上次操作的时间)*之前的Average Bandwidth/7天 + 本次操作Bandwidth

听起来很复杂，但是把Average Bandwidth理解成掉的血就好理解了，也就是说，**掉的血按7天为周期，线性恢复**。比如你掉了10000点血，那么每天恢复约1428点，**当有新操作的时： 掉血=当前掉血+新操作掉血量**

# 血槽为负（爆了）

大家可能会遇到血槽为负的情况，比如这个
![](https://steemitimages.com/DQmS4szowQc3CXLz49psZtp19mm44j4qYVfUZCNNkBsPtk2/image.png)

![](https://steemitimages.com/DQmcnpHJb6GanVRFu3gd7hVbAN913gfk9RxsFaPJNZSUNc6/image.png)

原则上不应该出现，因为血用了，就不让操作了啊

出现这样的情况可能的原因就出在：**带宽分配和两个因素有关，一个是系统的当前参数，一个是用户SP。**我们通篇只讨论了SP，并没有讨论系统参数。

简单来讲系统参数决定了max_virtual_bandwidth
![](https://steemitimages.com/DQmbkP6xofc9PSKb2keXoWZMR5DZxEkQm63qamYdLUYtGXm/image.png)

而总带宽决定了分给用户的带宽也就是血槽啦
**`用户分配带宽 = account_vshares / total_vshares* max_virtual_bandwidth`**

假设我们血槽是1W，然后我们用掉了9000，这时候应该剩余10%。但是由于系统参数的变化，导致我们血槽变成了1000，这时候，相当于我们亏欠了8000，就变成负值啦。

新用户比较容易遇到这样的情况。因为老用户比如我血槽100W，即便因系统计算缘故变成10W，可是我用掉9000，还是嘛影响都没有。

# 结论

写来写去还是觉得没能达成简单明了的目标，不过既然写出来了，就给大家拿去参考吧。

想让血槽变长，不因为掉血而无法操作？
**买装备啊，SP再手，天下我有。**

# 参考链接

* [微信公众号支持查询STEEM用户Bandwidth remaining百分比啦]()
* [How to: 如何计算用户可用带宽 / How to calculate the user's available bandwidth?](https://steemit.com/steemdev/@oflyhigh/how-to-how-to-calculate-the-user-s-available-bandwidth)
* [How to: 如何计算 max_virtual_bandwidth / How to calculate the max_virtual_bandwidth?](https://steemit.com/steemdev/@oflyhigh/how-to-maxvirtualbandwidth-how-to-calculate-the-maxvirtualbandwidth)

- - -

This page is synchronized from the post: [O哥闲扯淡：带宽就是游戏中人物的血槽](https://steemit.com/@oflyhigh/4rt3fi-o)
