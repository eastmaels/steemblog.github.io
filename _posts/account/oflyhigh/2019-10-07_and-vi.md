
---
title: '每天进步一点点：注释 &  vi多行注释/恢复'
permlink: and-vi
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-10-07 03:02:30
categories:
- cn
tags:
- cn
- vi
- code
- study
- linux
thumbnail: 'https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


因为工作的需要，我经常要和一些程序代码和配置文件打交道，有时候有调试等需求需要临时去掉大部分内容，调试过后再恢复过来。

![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))

# 多行注释

如果是C语言/C++/PHP等语言，我是可以多行注释来实现的，比如下面这段C++代码。
```
int main(){
        /*
        vector <string> list = {"rain", "sun", "wind", "me"};
        for( const auto& i : list )
                cout << i << endl;
       */
        return 0;
}
```

其中`/*`和`*/`中间的内容就会被当做注释内容而不被编译。

# 编译预处理指令

除了多行注释外，在C/C++/PHP我还常用的一种手段是编译预处理指令，还以上述代码为例，我可以这样关闭部分代码:
```
int main(){
#if 0
        vector <string> list = {"rain", "sun", "wind", "me"};
        for( const auto& i : list )
                cout << i << endl;
#endif
        return 0;
}
```
其中`#if 0`和`#endif`包裹的内容，再编译期间就被忽略掉了，等同于注释掉。当我需要这段代码工作时，把`#if 0`改成`#if 1`即可，简单明了。

# vi多行注释

如果是C/C++/PHP代码，上述手段无论是在Windows下还是Linux下使用都很方便，但是如果是配置文件之类的，可能就没法用多行注释或者批处理了，那么只能用单行注释逐行注释掉内容了。

如果需要注释的内容比较多，并且以后还要恢复（没法直接删除），逐行注释累死人，尤其是在Linux环境下使用vi时。

好在vi还是很强大的，多行注释对它而言也是小CASE啦，操作步骤如下（还以上述代码为例啦，懒得换代码）：

* 移动光标到要批量添加注释的位置，`CTRL+v`进入VISUAL BLOCK模式
>![](https://cdn.steemitimages.com/DQmZTa6T1r1N4rQwgQ6CHc6LNBnZ5UoWMH4LhNmrRKevvD8/image.png)

* 上下移动光标，选择要添加注释的行
>![](https://cdn.steemitimages.com/DQmNfQdke9Vj67Bm3LcLhvHU9159uoVa8JUUhZ4WL3GPHf9/image.png)

* `Shift+i`进入INSERT模式
>![](https://cdn.steemitimages.com/DQmWWjYRf3jThEdJ78j4ecyoR3ipZwozUjTrjQ9YaNMp5DE/image.png)

* 输入注释内容`//`
>![](https://cdn.steemitimages.com/DQmbnWifSq9JwuhdALW7TNYiftVo5JZUNx47avfnhSZDV29/image.png)

* `ESC`回到命令模式，可以看到批量注释已经添加好啦。
>![](https://cdn.steemitimages.com/DQmcSvw3J6EqAoNTLqjHsGm7RS3D67KYBWq7Se2wkavwK1V/image.png)

# vi 删除批量注释

* 移动光标到注释位置
* `CTRL+v`进入VISUAL BLOCK模式
* 左右、上下移动光标，选择要删除注释的行
>![](https://cdn.steemitimages.com/DQmQnay3P5vtGzfajHhDmPmBZXGnKV5xEikE7V2qtxdVFtd/image.png)
* 按`x`键删除

再也不用在上百行的配置文件逐行注释内容啦，现在回想起来，那个操作好傻啊。

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>

- - -

This page is synchronized from the post: ['每天进步一点点：注释 &  vi多行注释/恢复'](https://steemit.com/@oflyhigh/and-vi)
