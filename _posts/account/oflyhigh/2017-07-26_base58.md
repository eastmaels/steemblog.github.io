
---
title: 'å­¦ä¹ äº†ä¸€ä¸‹Base58ç¼–è§£ç '
permlink: base58
catalog: true
toc_nav_num: true
toc: true
date: 2017-07-26 14:36:57
categories:
- cn
tags:
- cn
- cn-programming
- base58
- python
thumbnail: https://steemitimages.com/DQmVwZZ24xqFnb4CbJmRmFARZxveH2hpkwFhgVdhNNxhxyB/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


ä¹‹å‰YYäº†[åŸºäºSTEEMåŒºå—é“¾çš„èŠå¤©å·¥å…·](https://steemit.com/cn/@oflyhigh/yy-steem)ä»¥åŠ[STEEMIT ç”¨æˆ·åœ°å›¾](https://steemit.com/cn/@oflyhigh/yy-steemit)
å¯æƒœYYä¸èƒ½å¼ºå›½ï¼Œä¹Ÿä¸èƒ½å¥èº«ï¼Œåªæœ‰è¸è¸å®å®çš„åšäº‹æƒ…ï¼Œæ‰æ˜¯æ­£é“å•Šã€‚

![](https://steemitimages.com/DQmVwZZ24xqFnb4CbJmRmFARZxveH2hpkwFhgVdhNNxhxyB/image.png)

# Base58 ç®€ä»‹

æœ€è¿‘ä¸€äº›å­¦å•Šå­¦çš„ï¼Œéƒ½å­¦åè¡€äº†
ç„¶åçªç„¶åˆå‘ç°ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œ***Base58***
è¯è¯´ä»¥å‰åšç½‘ç«™å•Šï¼Œæˆ–è€…é‚®ä»¶å•¥çš„ç»å¸¸å¬è¯´Base64, è¿™ä¸ªBase58åˆæ˜¯ä»€ä¹ˆé¬¼

æŸ¥äº†ä¸€ä¸‹ç»´åŸºç™¾ç§‘ï¼š
https://en.wikipedia.org/wiki/Base58
>Base58 is a group of binary-to-text encoding schemes used to represent large integers as alphanumeric text.

ç²—ç•¥ä¸€çœ‹ï¼ŒåŸæ¥å°±æ˜¯ç”¨äºæŠŠå¤§æ•°å­—è¡¨ç¤ºæˆå­—ç¬¦å½¢å¼
é‚£æˆ‘å°±ä¸æ‡‚äº†ï¼Œç›´æ¥è¡¨ç¤ºæˆåè¿›åˆ¶æˆ–è€…åå…­è¿›åˆ¶å­—ç¬¦å°±å®Œç»“äº†å‘—ï¼Œæä»€ä¹ˆäº‹æƒ…ï¼Ÿï¼ï¼

å†ä»”ç»†ä¸€çœ‹
>Compared to Base64, the following similar-looking letters are omitted: 0 (zero), O (capital o), I (capital i) and l (lower case L) as well as the non-alphanumeric characters + (plus) and / (slash)

è¾“å…¥æ–‡æœ¬ä¸²çš„æ—¶å€™å‚»å‚»çš„åˆ†ä¸æ¸…å‡º0å’ŒOï¼Œ I å’Œl æœ‰æœ¨æœ‰ï¼Ÿä¸­æªçš„ğŸ™‹
è¿™ä¸ªBase58å°±é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œçœ‹æ¥å‡¡äº‹å‡ºç°éƒ½æ˜¯æœ‰ç¼˜ç”±çš„ã€‚

å¬è¯´è¿˜æœ‰ä¸ªå˜ç§Base56ï¼Œå»çš„æ›´å½»åº•ï¼Œä¸è¿‡å’±æ²¡é‡åˆ°ï¼Œå°±ä¸ç ”ç©¶å®ƒäº†
>A variant, Base56, excludes 1 (one) and o (lowercase o) compared to Base 58.

ç„¶åæˆ‘æ€»ç»“äº†ä¸€ä¸‹ï¼Œå°±æ˜¯***æŠŠæ•°å­—è¡¨ç¤ºæˆä¸å®¹æ˜“è¾“å…¥é”™è¯¯çš„æ–‡æœ¬ç¼–ç ***
ç»´åŸºç™¾ç§‘é‡Œå¹¶æ²¡æœ‰è¯´åˆ°ï¼Œå› ä¸º***è¿™ç»„ä¸å®¹æ˜“å‡ºé”™çš„æ–‡æœ¬ç¼–ç ä¸€å…±åŒ…å«58ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å«Base58***

# Base58 ç¼–ç è§„åˆ™

ç»´åŸºç™¾ç§‘ä¸­å¹¶æ²¡æœ‰è¯´æ˜Base58è¯¦ç»†ç¼–ç è§„åˆ™
ç›¸æ¯”ä¹‹ä¸‹ï¼ŒBase64 åˆ™æ˜¯äº²å¦ˆå…»çš„
https://en.wikipedia.org/wiki/Base64

ä½†æ˜¯è®¨è®ºç»´åŸºç™¾ç§‘æ˜¯ä¸æ˜¯Base58çš„äº²å¦ˆï¼Œè²Œä¼¼äºäº‹æ— è¡¥ï¼Œæ‰€ä»¥æˆ‘å†³å®šç»§ç»­æˆ‘çš„æ¢ç´¢ä¹‹è·¯ã€‚
å¥½åœ¨ç»´åŸºç™¾ç§‘è¿˜ç®—åšé“ï¼Œç»™å‡ºäº†Base58äº²å¼Ÿå¼ŸBase58Check_encodingçš„é“¾æ¥
https://en.bitcoin.it/wiki/Base58Check_encoding
ä¹‹æ‰€ä»¥è¯´äº²å¼Ÿå¼Ÿï¼Œæ˜¯å› ä¸ºé•¿æ±Ÿåæµªæ¨å‰æµªï¼Œå¼Ÿå¼Ÿæ¯”å“¥å“¥é•¿å¾—æ›´é«˜æ›´å£®ï¼Œå¥½å§ï¼Œå…¶å®å°±æ˜¯è¿™ä¸ªé“¾æ¥é‡Œçš„ä¿¡æ¯æ›´å¤šè€Œå·²

æ¯”å¦‚è¯´ï¼Œå¤šå‡ºäº†è¿™ä¹ˆä¸ªç©æ„
![](https://steemitimages.com/DQmQoA7V1CGV3LaEYa2nbhfVjsEJNmXsYy1HDPKQeYqkaYP/image.png)
æˆ‘æ¨ªçœ‹ï¼Œç«–çœ‹ï¼Œå·¦çœ‹ï¼Œå³çœ‹ï¼Œæˆ‘è„–å­å“ï¼Œå’‹ä¹Ÿæ²¡çœ‹æ˜ç™½
ç›´åˆ°æˆ‘çœ‹åˆ°ä¸‹è¾¹è¿™è¡Œä»£ç ï¼š

`code_string = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"`
æˆ‘æ“¦ï¼Œä¸å°±æ˜¯æŸ¥è¡¨æ³•çš„ä¸€ä¸ªè¡¨å˜›ï¼Œä½•å¿…æ•´é‚£ä¹ˆå¤æ‚ï¼Œå†å›å¤´çœ‹çœ‹ï¼Œä¸Šè¾¹ä¹Ÿå°±æ˜¯ä¸€ä¸ªè¡¨ï¼Œæˆ‘æ™•

é‡Œè¾¹è¯´äº†åœ°å€ç¼–ç çš„ç®—æ³•
>The algorithm for encoding address_byte_string (consisting of 1-byte_version + hash_or_other_data + 4-byte_check_code) is 

```
   code_string = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"
   x = convert_bytes_to_big_integer(hash_result)
   
   output_string = ""
   
   while(x > 0) 
       {
           (x, remainder) = divide(x, 58)
           output_string.append(code_string[remainder])
       }
   
   repeat(number_of_leading_zero_bytes_in_hash)
       {
       output_string.append(code_string[0]);
       }
   
   output_string.reverse();
```
æˆ‘åˆæƒ³åå­¦äº†ï¼Œæ°”çš„æˆ‘éƒ½ä¸ä¼šæ‰“å­—äº†ï¼Œè¿™åˆ†æ˜æ˜¯æŠŠæœ€åç”Ÿæˆçš„åœ°å€ç¼–ç ä¸€ä¸‹å˜›ï¼Œæ•´çš„æˆ‘å»æ‰¾åŠå¤©å•¥ç®—æ³•å‘¢ï¼Ÿ
è·Ÿè¿™äº›ç©æ„`consisting of 1-byte_version + hash_or_other_data + 4-byte_check_code`æœ‰å•¥å…³ç³»ï¼Ÿå†™ä¸€å¤§å †å¿½æ‚ æˆ‘ã€‚

# Python å®ç°

#### å®ç°ä¹‹ä¸€ï¼š
å’¦ï¼Œè¯è¯´æˆ‘å’‹æ‰¾ä¸åˆ°ä»å“ªé‡Œæ‰¾åˆ°çš„è¿™ä¸ªé“¾æ¥äº†
https://github.com/keis/base58/blob/master/base58.py

#### steem å®˜æ–¹Pythonåº“ä¸­Base58 å®ç°
https://github.com/steemit/steem-python/blob/master/steembase/base58.py
```
# https://github.com/tochev/python3-cryptocoins/raw/master/cryptocoins/base58.py
BASE58_ALPHABET = b"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"

def base58decode(base58_str):
    base58_text = bytes(base58_str, "ascii")
    n = 0
    leading_zeroes_count = 0
    for b in base58_text:
        n = n * 58 + BASE58_ALPHABET.find(b)
        if n == 0:
            leading_zeroes_count += 1
    res = bytearray()
    while n >= 256:
        div, mod = divmod(n, 256)
        res.insert(0, mod)
        n = div
    else:
        res.insert(0, n)
    return hexlify(bytearray(1) * leading_zeroes_count + res).decode('ascii')


def base58encode(hexstring):
    byteseq = bytes(unhexlify(bytes(hexstring, 'ascii')))
    n = 0
    leading_zeroes_count = 0
    for c in byteseq:
        n = n * 256 + c
        if n == 0:
            leading_zeroes_count += 1
    res = bytearray()
    while n >= 58:
        div, mod = divmod(n, 58)
        res.insert(0, BASE58_ALPHABET[mod])
        n = div
    else:
        res.insert(0, BASE58_ALPHABET[n])
    return (BASE58_ALPHABET[0:1] * leading_zeroes_count + res).decode('ascii')
```
æ˜¯ä¸æ˜¯å¾ˆç®€å•?
ç¥é©¬? ä¸æ˜ç™½?

å…¶å®***å°±æ˜¯æŠŠç¼–ç åçš„æ–‡æœ¬æ•°å­—ä¸²ï¼Œè½¬æ¢æˆä¸€ä¸ªå¤§æ•´æ•°ï¼Œç„¶åå†æŒ‰58è¿›åˆ¶è¡¨ç¤º***ã€‚

ä»€ä¹ˆ? 58è¿›åˆ¶æ²¡å¬è¿‡, 16è¿›åˆ¶æ€»å¬è¯´è¿‡å§? ç•¥æœ‰åŒºåˆ«çš„æ˜¯***16è¿›åˆ¶å­—ç¬¦0-15å’Œ0x0 - 0xFæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œè€Œè¿™ä¸ª0-57ï¼Œéœ€è¦æŸ¥è¡¨å¯¹åº”ï¼Œä»…æ­¤è€Œå·²***ï¼è§£ç å°±æ˜¯é€†è¿‡ç¨‹ï¼

(ä¸Šè¾¹è¿™ä¸¤æ®µè¯ï¼Œæ˜¯æˆ‘åè¡€æ€»ç»“å‡ºæ¥çš„!! )

è‡³äºBase58Checkæ˜¯å’‹checkçš„ï¼Œå°±å…ˆä¸ç ”ç©¶äº†ï¼Œåå­¦å»äº†ã€‚

# å‚è€ƒé“¾æ¥

* https://en.wikipedia.org/wiki/Base58
* https://en.bitcoin.it/wiki/Base58Check_encoding
* https://en.wikipedia.org/wiki/Binary-to-text_encoding
* https://github.com/keis/base58
* https://github.com/steemit/steem-python/blob/master/steembase/base58.py

- - -

This page is synchronized from the post: [å­¦ä¹ äº†ä¸€ä¸‹Base58ç¼–è§£ç ](https://steemit.com/@oflyhigh/base58)
