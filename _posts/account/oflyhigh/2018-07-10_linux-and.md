
---
title: 'Linux下硬盘的分区、格式化 & 自动挂载'
permlink: linux-and
catalog: true
toc_nav_num: true
toc: true
date: 2018-07-10 13:41:36
categories:
- cn
tags:
- cn
- diy
- fdisk
- fstab
- mkfs
thumbnail: https://cdn.steemitimages.com/DQmeJqts9gjycMzrYqGxP9CUfH6NZNwrgpBjYX1STNn71j4/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


Intel NUC7I5BNHL 我除了装一块三星 512G的970 Pro，还装了一块2T的机械盘，今天将起分区、格式化并挂载到/backup 上，现将过程记录一下备忘。

![](https://cdn.steemitimages.com/DQmeJqts9gjycMzrYqGxP9CUfH6NZNwrgpBjYX1STNn71j4/image.png)
(图源 ：[pixabay](https://pixabay.com/))

# 分区

>`sudo fdisk -l`

>Disk /dev/sda: 1.8 TiB, 2000398934016 bytes, 3907029168 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes


>`sudo fdisk /dev/sda`

![](https://cdn.steemitimages.com/DQmZtfgj7x3nndqJWHrinAP3dGbm5ao1jh94Ho3T9opsm4s/image.png)

![](https://cdn.steemitimages.com/DQmZKRHXaEMDxWZaKm8Brnpe2niLa1P5UhnD7YXhy4ut5Ca/image.png)

![](https://cdn.steemitimages.com/DQmZ3ikqNrQZyJiJxFjhhMeAXSccFkV9MDa4377g6FAdo8C/image.png)
输入`n`，创建新分区
选择`p`，表示创建主分区
选择`1`，表示选择第一个分区
选择默认的`2048`，表示从头开始
选择默认值`3907029167`，表示使用到最后(硬盘的全部空间)
至此完成新分区的创建。

来用`p`指令看一下我们的分区
>`p`

![](https://cdn.steemitimages.com/DQmVgK5RXviF32c7TgyTugv1Z78GZBHjTymDv391gitXr3q/image.png)

这里再说一下`t`指令，这个用来改变分区类型，我的硬盘类型已经是默认的`Linux类型`了，但是来看看`t`指令：
>`t`

![](https://cdn.steemitimages.com/DQmWEAvybJ7edNDRNr7i8bfsYjoaU6PN9TEgAEvMWQivaES/image.png)
因为我们只有一个分区，所以直接选中啦，然后提示我们输入分区类型，可以用L列出所有类型：
![](https://cdn.steemitimages.com/DQmQ1ah83QCexjhvAHBGkDxsyZTEJdphXKc4vtyhKr7hQ5h/image.png)
比如Linux对应的ID为83，我们已经是83了，我重新输一遍83，其实啥也没干。
![](https://cdn.steemitimages.com/DQmTVSPLW2No1hgnjorL9tqv9Dhbtqf8cecWUUGkYoLibby/image.png)

使用`w`保存修改
>`w`

![](https://cdn.steemitimages.com/DQmW58MrHRTTjYYRmys4ra85TYNiSJoHMrTRWSgb3hep4DV/image.png)
我们之前做的所有操作都是在内存中记录并未实际起作用，直到我们使用`w`保存修改。

至此对硬盘的分区操作完毕。

# 格式化

格式化就简单多了，直接执行以下指令即可：
>`sudo mkfs.ext4 /dev/sda1`

(***注意：根据你的磁盘实际情况选择分区，千万别弄错了***）

![](https://cdn.steemitimages.com/DQmadsuW2YYv9LJuEAnk2ttwQzbvBuHA1BmW1q4ym5ucSQW/image.png)

# 自动挂载

先创建一个目录
>`sudo mkdir /backup`

自动挂载也很简单，还记得格式化时显示的UUID吗？如果忘记了也没关系，使用如下指令找回即可：
>`sudo blkid`

然后编辑执行如下指令：
>`sudo vi /etc/fstab`

在文件最下边追加如下内容：
>UUID=a88be323-1383-4cbf-a3ff-bae3f02f5a52 /backup ext4 defaults 0 0

重启电脑即可。

----

搞定了，我的HDD也可以使用啦。

- - -

This page is synchronized from the post: [Linux下硬盘的分区、格式化 & 自动挂载](https://steemit.com/@oflyhigh/linux-and)
