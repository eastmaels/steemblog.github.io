
---
title: '每天进步一点点：UFW简单使用（一）'
permlink: ufw
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-09-22 01:39:48
categories:
- cn
tags:
- cn
- ufw
- ubuntu
- linux
- study
thumbnail: 'https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


需要在一台ubuntu 18.04的服务器上配置防火墙，最简单的方式莫过于使用UFW了。这里大致简单记录一下，备忘以及供需要的人参考。


![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))

UFW是从Ubuntu 8.04引入到Ubuntu系统中，全称是***Uncomplicated Firewall***，翻译过来是***简单的防火墙***，就像这个名字一样，UFW使用起来非常简单。

# 安装

一般来讲，UFW会随系统安装，如果你安装的是最小系统，那么UFW可能不被包含在内，不过没关系，UFW安装起来非常简单，执行如下指令即可：

`sudo apt-get install ufw`

# 禁用/激活/重置

安装后，UFW的默认状态是被禁用的，我们可以在禁用状态下编辑规则，待编辑好后启用UFW。

激活指令：
>`sudo ufw enable`

***在激活/启用UFW之前，需要确保允许了SSH等协议/端口***，否则可能把自己挡在外边，那就尴尬了。

禁用指令：
>`sudo ufw disable`

编辑了一大堆规则后，如果我们想推倒重来，可以使用重置指令。
>`sudo ufw reset`

# 默认规则

对于防火墙而言，我们可以有两种策略，分别如下：
* 允许所有的，禁止特殊的
* 禁止所有的，允许特殊的


所以UFW的默认规则也可以分别设置为以下两种
>`sudo ufw default allow [incoming|outgoing|routed]`
>`sudo ufw default deny|reject [incoming|outgoing|routed]`

其中`deny`和`reject`的区别是 ，`deny`只是阻止，`reject`拒绝会给出信息。

如果形象一些比喻的话，有一个门在里边锁上了，我们从外边怎么推也推不开，这就是`deny`；但是如果门上贴着，***门已上锁，此路不通***，这就是`reject`。

如果不做任何设置，一般来讲，UFW的默认规则是：
>![](https://cdn.steemitimages.com/DQmVvz59p4sTttwBPSzdjWazfaDgJvvf4zD2x2oEEQ4AKZK/image.png)
>`Default: deny (incoming), allow (outgoing), deny (routed)`

也就是说，禁止所有入站数据，允许所有出站数据，禁止路由。

# 查看帮助

我们可以通过以下指令调出帮助信息：
>`ufw --help`

返回如下：
>![](https://cdn.steemitimages.com/DQmfBNeT1QPZteqSZsFQE74gR26pWdSyEsMxJjRgaBanBYC/image.png)

或者查看详细的手册信息：
`man ufw`

这节先讲这么多，下节将结合一些实例来讲解UFW简单使用，敬请期待。

# 相关链接

* [UncomplicatedFirewall](https://wiki.ubuntu.com/UncomplicatedFirewall)
* [UFW Manual for Ubuntu 18.04](http://manpages.ubuntu.com/manpages/bionic/en/man8/ufw.8.html)
* [Ubuntu Community Documentation on UFW](https://help.ubuntu.com/community/UFW)

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>

- - -

This page is synchronized from the post: ['每天进步一点点：UFW简单使用（一）'](https://steemit.com/@oflyhigh/ufw)
