
---
title: '每天进步一点点：普通用户权限下安装和运行node.js &npm'
permlink: node-js-npm-2019-07-11
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-07-11 09:20:09
categories:
- cn
tags:
- cn
- nodejs
- node
- npm
- busy
thumbnail: 'https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---



之前折腾过[在Ubuntu 18.04上安装指定的node.js版本](https://steemit.com/cn/@oflyhigh/ubuntu-18-04node-js-2019-07-05)，但是其实我并不想在root用户权限下安装任何东西。

![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))

今天突发奇想，将node.js&npm安装在普通用户权限下是否可以行得通呢？

# 添加用户

首先添加一个普通用户

>`sudo adduser user123`

按提示输入当前用户密码并为此用户设置密码，搞定。

# 下载及解压Node.js &NPM

首先到这里选择合适的版本
https://nodejs.org/en/download/

按照提示，我应该选择箭头指向处版本
>![](https://cdn.steemitimages.com/DQmWUus6E8NLk3KjpccRZu7mnHCMH7nY5hBzDmU5BTFEw2E/image.png)

下载：
>`wget https://nodejs.org/dist/v10.16.0/node-v10.16.0-linux-x64.tar.xz`

# 解压

下载得到的文件名后缀为xz，xz是一种压缩文件格式，采用LZMA SDK压缩，目标文件较gzip压缩文件(.gz或·tgz)小30%，较·bz2小15%。

使用如下命令解压到本地：
>`tar -xJvf node-v10.16.0-linux-x64.tar.xz`

其中J可以忽略。
>`-J, --xz                   filter the archive through xz`

# 安装

我们解压后会得到`node-v10.16.0-linux-x64`目录，我们已经可以通过访问node.js，比如：
>~/node-v10.16.0-linux-x64/bin/node -v

但是同样的方式访问npm会出现如下提示：
>/usr/bin/env: ‘node’: No such file or directory

查看lib/node_modules/npm/bin/npm-cli.js，发现文件头有这样一句代码：
>`#!/usr/bin/env node`

所以为了用起来以及用起来顺手，还需要做一些设置：

>`mkdir bin`
>`cd bin`
>`ln -s ~/node-v10.16.0-linux-x64/bin/node node`
>`ln -s ~/node-v10.16.0-linux-x64/bin/npm npm`

好了，安装完毕啦。

# 测试

重新登录用户或者执行`source .bashrc`使~bin目录被包含在查找路径中，然后可以执行如下指令查看node和npm版本啦。

>`node -v`
![](https://cdn.steemitimages.com/DQmTCsGVcummDAsqoxMTGUfvvSs8Sm7LgQBNZMsVPRdfBBP/image.png)

>`npm -v`
![](https://cdn.steemitimages.com/DQmNn31UnkirUK33VjYbWg1f3849ZXuevpeXM3YoQ9qSTa1/image.png)

试了一下重新部署我的项目，完全没有任何问题，完美，看来的想法还是行得通的。

# 相关链接

* https://nodejs.org/en/download/
* https://github.com/nodejs/help/wiki/Installation

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>


- - -

This page is synchronized from the post: ['每天进步一点点：普通用户权限下安装和运行node.js &npm'](https://steemit.com/@oflyhigh/node-js-npm-2019-07-11)
