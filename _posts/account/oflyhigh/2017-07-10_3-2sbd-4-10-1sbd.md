
---
title: '聊聊点赞金额 ，发钱啦（限中文： 前3名回复送价值2SBD的点赞，前4-10送1SBD点赞）'
permlink: 3-2sbd-4-10-1sbd
catalog: true
toc_nav_num: true
toc: true
date: 2017-07-10 14:02:33
categories:
- cn
tags:
- cn
- cn-programming
thumbnail: https://steemitimages.com/DQmQyfVqJMfZmHgpjBN5gyzWeGrPqSZKyTtE6uqGMiQZqcL/image.png
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


今天的帖子聊了文章奖励的问题
[也来说一下帖子的奖励](https://steemit.com/cn/@oflyhigh/7kwevu)

得出的结论，帖子金额和以下因素有关：
* net_rshares: 帖子得到的投票产生的rshares
* total_rshares 系统总投票产生的rshares
* 奖池总金额
* SBD/STEEM 七日均价

我们知道帖子的net_rshares是由一堆点赞者点出来的，那么既然如此，我们是否可以计算出我们的点赞金额呢？好像有好几个网站可以计算我们单次点赞的金额，但是毕竟跑网站上去算比较麻烦，如果能在程序中算出来那就最好了。

![](https://steemitimages.com/DQmQyfVqJMfZmHgpjBN5gyzWeGrPqSZKyTtE6uqGMiQZqcL/image.png)
# 计算点赞金额

之前帖子中我们得到的，帖子奖励的SBD 近似表示公式：
***奖池金额 x (net_rshares / total_rshares ) x STEEM 7日均价***
那么点赞的SBD其实也应该类似
***奖池金额 x (点赞rshares / total_rshares ) x STEEM 7日均价***

所以计算***点赞rshares*** 是计算点赞收益的关键
而点赞rshares是由
* 用户持有的等效SP (SP + 别人代理的 - 代理给别人)
* 用户当前的Voting Power
* 用户点赞的 100%

另外，硬叉19之后点赞威力变成了四倍，所以还应该 x 4
按上述分析我计算出来的rshares比实际点赞的产生的rshare多了一倍 (额)
不管了，除以二，一切正常。

* 关于STEEM POWER
硬叉18后引入了SP代理功能
所以STEEMPOWER 要将用户持有的SP， 比如代理过来的SP，代理给别人的SP都核算进来，才是用户的实际有效SP

* 关于Voting Power
系统中读回的Voting Power是最近一次点赞后的Voting Power值
而Voting Power是随时间线性恢复的，所以为了精准，我们需要计算距离上次点赞操作的时间差值，并根据差值以及Voting Power的恢复速度计算实时的voting Power值。


# 由金额反过来计算百分比

既然我们可以按上述描述计算点赞金额，那么我们是否可以通过指定金额来计算应该设置的点赞比重呢？通过变换公式，我们可以设定SBD金额后换算出应该设置的点赞百分比。

经过测试，一切正常。

----

然后，***福利来了***
试试我的计算程序有没有毛病，顺便也给大家发一些福利。
使用中文回复本贴，前3名送价值2SBD的点赞, 前4-10送1SBD点赞
(回复主贴哦，回复回复贴不计算在内，重复回复只计第一次)

对了，之前说过，系统以及价格因素，帖子的收益随时变动，所以点赞金额也一样。
上述金额，***以我操作时为准，之后降价了可不负责补差价哦***

---

感谢阅读 / Thank you for reading.
欢迎upvote、resteem以及 following me @oflyhigh 😎

- - -

This page is synchronized from the post: [聊聊点赞金额 ，发钱啦（限中文： 前3名回复送价值2SBD的点赞，前4-10送1SBD点赞）](https://steemit.com/@oflyhigh/3-2sbd-4-10-1sbd)
