
---
title: '以讹传讹？ fdisk到底支不支持2T以上容量的硬盘分区？'
permlink: -fdisk2t-2019-11-05
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-11-05 10:43:24
categories:
- cn
tags:
- cn
- fdisk
- parted
- disk
- busy
thumbnail: 'https://cdn.steemitimages.com/DQmWV4vKZAjLiABEY6FDUy2qcdNpXeqLyjAEAtHfsufkHeX/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---



买了个大硬盘，分区时才想起来这是我第一次使用容量超过2TB的硬盘呢，而据说MBR方式不支持超过2T的分区，那么又该分区呢？

![](https://cdn.steemitimages.com/DQmWV4vKZAjLiABEY6FDUy2qcdNpXeqLyjAEAtHfsufkHeX/image.png)
(图源 ：[pixabay](https://pixabay.com/))


我百度查了一下，一般都是磁盘类型用gpt，分区工具用parted，不过fdisk真的不能胜任吗？可是毕竟fdisk我熟啊，撸起袖子直接试吧。

# fdisk分区大硬盘

首先查看一下分区前的磁盘。
>`sudo fdisk -l`

返回信息如下：
>![](https://cdn.steemitimages.com/DQmTF539p1Fn11XvX2pdWtzTvh3P2SVAkm2Xig6SHKi1Xga/image.png)

使用fdisk直接开干：
>`sudo fdisk /dev/sda`

返回信息如下：
>![](https://cdn.steemitimages.com/DQmRyCg6MCUWrg1DrLUgcQ4ayCbkfYF3w6uUPS1vpAdbeYj/image.png)

其中红色高亮部分：
>The size of this disk is 3.7 TiB (4000787030016 bytes). DOS partition table format cannot be used on drives for volumes larger than 2199023255040 bytes for 512-byte sectors. Use GUID partition table format (GPT).

翻译过来就是：
>这个磁盘的大小是3.7 TiB(4000787030016字节)。对于512字节扇区，DOS分区表格式不能用于大于2199023255040字节的驱动器。使用GUID分区表格式(GPT)。

直接输入`p`开始分区试试
>![](https://cdn.steemitimages.com/DQmf4HLNoW2UduTkkgTXpZc5xokx4pi6LC9JK1ZsnCyw3TN/image.png)

可是提示中显示的还是dos类型
>Disklabel type: dos
Disk identifier: 0x6b16bef3

输入`m`看看帮助，注意其中我圈上的部分：
>![](https://cdn.steemitimages.com/DQmetK93Crj25Wt8LFtdqcLtyAW1ss64ZVD2BBRPKsxKqho/image.png)

输入`g`创建新的空白GPT分区表
>![](https://cdn.steemitimages.com/DQmatpYqbePfXeTGEH7tJXGCWAH1VEQMXNUxAVhU8Gs1THR/image.png)

返回如下：
>![](https://cdn.steemitimages.com/DQmZqAc8gVrKsrqCYNuxzfx3j5R51uVLJD7yWNeAkyzzRJJ/image.png)

注意这部分：
>Disklabel type: gpt
Disk identifier: 5FC9A2DF-669E-7A4B-8302-157081750205

可见分区表已经修改为GPT方式啦，剩下的事情就简单啦，一路默认就可以了。之后再用`sudo mkfs.ext4 /dev/sda1`格式化，再编辑/etc/fstab来自动挂载就行啦，此处就不再赘述啦。

挂载后看看空间，一切正常：
>![](https://cdn.steemitimages.com/DQmNfc4RyHooKUEnTvXwuenKhjPiqo1W6ErCRAbsqEEKsLg/image.png)

# 以讹传讹

在网上查找了一下，无论是中文还是英文站点，很多页面中的内容还是说fdisk不支持2T以上分区，必须用parted这个工具。

造成这个问题我猜有几个因素
* 旧版本fdisk确实不支持2T以上分区
* 可能有些朋友用fdisk还是旧的版本
* 直接拿前人的经验，而并没有去尝试

如果不是去尝试一下，我也和其它人一样坚信fdisk不支持2T以上分区呢。

# 相关链接

* [Ubuntu 18.04下NVMe M.2接口SSD的分区、格式化 & 自动挂载](https://steemit.com/cn/@oflyhigh/ubuntu-18-04-nvme-m-2-ssd-and)
* [GUID磁盘分区表](https://baike.baidu.com/item/GUID%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E8%A1%A8/23315986)
* [主引导记录：MBR](https://baike.baidu.com/item/%E4%B8%BB%E5%BC%95%E5%AF%BC%E8%AE%B0%E5%BD%95)
* https://www.gnu.org/software/parted/

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>


- - -

This page is synchronized from the post: ['以讹传讹？ fdisk到底支不支持2T以上容量的硬盘分区？'](https://steemit.com/@oflyhigh/-fdisk2t-2019-11-05)
