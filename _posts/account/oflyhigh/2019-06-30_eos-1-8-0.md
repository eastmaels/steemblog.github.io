
---
title: '编译 EOS 1.8.0'
permlink: eos-1-8-0
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-06-30 02:09:06
categories:
- cn
tags:
- cn
- eos
- nodeos
- study
- busy
thumbnail: 'https://cdn.steemitimages.com/DQmTKdDAhhxpckwPry4SDKKbW5xfMdchfQCE4oezQZDb7oc/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


EOSIO在昨晚发布了EOSIO v1.8.0，这个版本是共识升级版本，简单来讲，相当于STEEM的硬分叉。

![](https://cdn.steemitimages.com/DQmTKdDAhhxpckwPry4SDKKbW5xfMdchfQCE4oezQZDb7oc/image.png)

这篇帖子只是简单记录一下编译的情况，升级过程将会单独开贴说明。

首先是编译参数的变化，多了个`-P`参数：
>The build scripts now support an optional parameter (-P) which will try to pin the versions of the compiler, C++ standard library, Boost library, and a few other dependent libraries that could have an impact on the ability for nodeos to access the shared memory database created by prior versions.

更多细节请参考 [EOSIO v1.8.0 Release Notes](https://github.com/EOSIO/eos/releases/tag/v1.8.0)，我们来看一下支持的参数：
>`./scripts/eosio_build.sh -h`
![](https://cdn.steemitimages.com/DQmWhsLcnEsqg9uWLC9EzqCz86CQtK7rA4s7sCzprh1HnUx/image.png)

另外一点就是不同于之前的版本生成一堆乱七八糟的目录，这次会将依赖等内容统一放到一个目录内，默认为：`$HOME/eosio/1.8/`。这个目录可以用`-i`参数重新指定，但是我觉得没啥必要。

>Both EOSIO and its dependencies will be built and installed by default in a sub-directory within the user's $HOME directory that includes the major and minor version numbers of the EOSIO release. For example, the build script in this release will default to installing everything into $HOME/eosio/1.8/

我使用了`-P`参数进行编译，耗时有点久，大概编译了47分钟，编译完成后的提示图由之前的红色变成了白色，估计是一般红色都表示错误啥的，不过为何不改成绿色呢？
>![](https://cdn.steemitimages.com/DQmTKdDAhhxpckwPry4SDKKbW5xfMdchfQCE4oezQZDb7oc/image.png)

编译好了之后检查一下版本号：
>`nodeos --version`

返回的是1.8.0版本哦，看来没编译错呢，哈哈。
>![](https://cdn.steemitimages.com/DQmbZ5hSdsBiy8KFNPQhvPs6KdxSFUkPP8wjwJipAS8iSDa/image.png)

EOS的这次共识升级（硬分叉）后会支持很多新的协议特性，具体大家看 [EOSIO v1.8.0 Release Notes](https://github.com/EOSIO/eos/releases/tag/v1.8.0)吧，然后就可以在上边跑Voice等应用啦。

# 相关链接

* [EOSIO v1.8.0 Release Notes](https://github.com/EOSIO/eos/releases/tag/v1.8.0)
* [Consensus Protocol Upgrade Process #7237](https://github.com/EOSIO/eos/issues/7237)

- - -

This page is synchronized from the post: ['编译 EOS 1.8.0'](https://steemit.com/@oflyhigh/eos-1-8-0)
