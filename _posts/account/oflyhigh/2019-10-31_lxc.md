
---
title: '纸上得来终觉浅：lxc初体验'
permlink: lxc
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-10-31 01:57:24
categories:
- cn
tags:
- cn
- lxc
- container
- linux
- study
thumbnail: 'https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


最近尝试去了解一下Linux下的虚拟机以及容器之类的内容，知道了lxc、lxd这些神奇的东西，lxc是Linux Container的缩写，简单的来讲在内核的基础上进行轻量级虚拟化，以便隔离进程和资源。

![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))

lxd是lxc的进化版，先试试lxc吧。

# 安装 lxc

先来安装一下试试：
>`sudo apt install lxc`

从提示信息可见，它还一并安装了`bridge-utils` `libpam-cgfs` `lxc-utils`这三个东东
>![](https://cdn.steemitimages.com/DQmcbcnk9KN4RcHkoXdY3aLN62mpyMqxhX5VchfGHLf9CUK/image.png)

# 安装 lxc-templates

安装之后查看一下模板信息：
>`ls /usr/share/lxc/templates/`

发现只有这么四个东东，没有Ubuntu啊
>![](https://cdn.steemitimages.com/DQmXWig2v7AzMWNWfjuFaBX6jFPnLybKaWLckVL39pn9zw2/image.png)

于是再安装`lxc-templates`吧
>`sudo apt install lxc-templates`

好嘛，这就是传说中的全家桶嘛？
>![](https://cdn.steemitimages.com/DQmebg5M3YXhpJXACc3HvPeqNz35noxUhiMWSfxDVJYbVh4/image.png)

装完之后模板果然多了好多
>![](https://cdn.steemitimages.com/DQmTqx8n7qbPWNrY5cqbYLnJvmYLZgzEHBFxnJkPT95JfNf/image.png)

# 创建Container

接下来使用如下命令创建容器：
>`sudo lxc-create -t ubuntu -n xxx`

接下来大量的信息以及漫长的等待，这个过程更有点像网络安装ubuntu系统：
>![](https://cdn.steemitimages.com/DQmTREjwBcFeduw2NfLQ1Dbw4ZqCbWHggxPszN4BuiD2vpB/image.png)

快完成后有这样两句输出，这就相当于烧写磁盘啦
>`Copy /var/cache/lxc/bionic/rootfs-amd64 to /var/lib/lxc/xxx/rootfs ...`
>`Copying rootfs to /var/lib/lxc/xxx/rootfs ...`

最后这段写着初始用户名和密码，也很重要，之后登录要用到这个
>![](https://cdn.steemitimages.com/DQmXoSFWshrAZ4aDhgbDCZHDpVp3hWror32SspmweQZn4WX/image.png)

# 查看Container

我们可以使用如下命令查看我们已经创建的lxc 容器。
>`sudo lxc-ls`

# 进入Container

我们可以使用如下命令进入到Container界面
>` sudo lxc-console -n xxx`

这两个特别的指令要记一下：
>![](https://cdn.steemitimages.com/DQmXgYgEzwAkwDmRbe9CuVnRoS7fJgwHbWy7njeBxR24BGA/image.png)

登录成功后发现和正常安装的Ubuntu没啥区别
>![](https://cdn.steemitimages.com/DQmWF1WhQpDNHxUeUwC5q12kKrc7CaBwcAcgiwmXyo1p2ou/image.png)

# 其它

使用`uname -a`可以看到内核版本与主机的版本是一样的。

使用`lscpu`可以看到CPU信息和主机是完全一致的。

如果想使用`ifconfig`查看网络信息则需要先安装`net-tools`
>`sudo apt install net-tools`

总之，看起来也挺好玩的，不过据说现在已经没谁玩啦，哈哈。

# 相关链接

* https://baike.baidu.com/item/lxc/6014808

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>

- - -

This page is synchronized from the post: ['纸上得来终觉浅：lxc初体验'](https://steemit.com/@oflyhigh/lxc)
