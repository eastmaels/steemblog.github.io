
---
title: '每天进步一点点: 手动安装指定版本的MongoDB PHP Driver'
permlink: -mongodb-php-driver-2019-07-04
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-07-04 10:21:03
categories:
- cn
tags:
- cn
- php
- mongodb
- driver
- busy
thumbnail: 'https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---



在尝试安装某项目时，遇到了如下错误提示：

>`mongodb/mongodb 1.3.2 requires ext-mongodb ^1.4.0 -> the requested PHP extension mongodb is missing from your system.`

但是通过Ubuntu包管理器安装的只有1.3.4版本即：`php-mongodb_1.3.4`，这不符合版本要求，所以只有考虑手动安装。

![](https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png)
(图源 ：[pixabay](https://pixabay.com/))

# 驱动兼容

在[驱动兼容页面](https://docs.mongodb.com/ecosystem/drivers/driver-compatibility-reference/)，我们可以看到如下兼容关心，因为我用的是PHP7.2，所以原则上可以安装MongoDB 的1.3.x、1.4.x或者1.5.x的PHP驱动。
>![](https://cdn.steemitimages.com/DQmXcnEewKzBwZ2WLzvmkgqmDMFct8DgGhgMBZP9PEry3vE/image.png)

尽管在https://docs.mongodb.com/ecosystem/drivers/php/ 这个页面中说明可以用 [PECL](https://www.php.net/manual/en/mongodb.installation.pecl.php)或者 Composer来安装MongoDB PHP Driver，但是我没搞明白怎么选择版本。

# 手动安装

不过我在PHP.NET上找到了一个[Manually Installing the MongoDB PHP Driver](https://www.php.net/manual/en/mongodb.installation.manual.php)

>`git clone https://github.com/mongodb/mongo-php-driver.git`
>`cd mongo-php-driver`
>`git submodule update --init`
>`phpize`
>`./configure`
>`make all`
>`sudo make install`

因为我要选择版本，所以还要在进入目录后，添加这样一句（比如安装1.5.5版本）：
>`git checkout 1.5.5`

# 补充

除了从github获取源文件外，还可以直接从PECL的下载页面获取，地址为：
https://pecl.php.net/package/mongodb

想要1.5.5版本的话，直接执行下列命令即可：
>`wget https://pecl.php.net/get/mongodb-1.5.5.tgz`
>`tar xzvf mongodb-1.5.5.tgz`

其它手动安装的步骤基本不变。

# 结果

按上述手动安装步骤安装后，之前出现的错误提示就消失啦。可是整个项目我还是没有安全配置明白，完全在自己的技能树之外。不过前进一点是一点吧，想必终将会整明白的。



# 相关链接

* https://github.com/mongodb/mongo-php-driver/
* https://docs.mongodb.com/ecosystem/drivers/php/
* [Installing the MongoDB PHP Driver with PECL](https://www.php.net/manual/en/mongodb.installation.pecl.php)
* [Manually Installing the MongoDB PHP Driver](https://www.php.net/manual/en/mongodb.installation.manual.php)
* https://pecl.php.net/package/mongodb

----
<center><strong>Vote For Me As Witness</strong>
https://steemit.com/~witnesses type in **`oflyhigh`** and click ***`VOTE`***
[![](https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png)](https://steemit.com/~witnesses)
[Vote @oflyhigh via Steemconnect](https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&approve=1)
<strong>Thank you!</strong></center>


- - -

This page is synchronized from the post: ['每天进步一点点: 手动安装指定版本的MongoDB PHP Driver'](https://steemit.com/@oflyhigh/-mongodb-php-driver-2019-07-04)
