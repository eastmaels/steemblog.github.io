
---
title: '一键备份服务器及网站数据'
permlink: utp6d
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2018-01-05 14:02:09
categories:
- cn
tags:
- cn
- cn-reader
- backup
- blog
- steemit
thumbnail: None
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


能够通过努力一步步搭建起个人站点，会有莫大的成就感，但同时也就意味着所有的运营维护都要靠自己，包括最重要的一点，备份。

我的网站是在WP上搭建的，12月底的时候通过后来导出过一次，大概200k，大概不含图片，未验证。通过宝塔面板，对服务器进行备份，文件大概1M。总感觉有些不太靠谱，于是按照以下方法又做了次全面备份。

1、登陆服务器后运行以下脚本

wget --no-check-certificate https://github.com/teddysun/across/raw/master/backup.sh chmod +x backup.sh

2、修改并配置脚本（请使用vim或nano工具来修改）

输入vi backup.sh

ENCRYPTFLG （加密FLG，true 为加密，false 为不加密，默认是加密，这里我选择false）
BACKUPPASS （加密密码，重要，务必要修改，如果前面选择的是false，这里不需要变动）
LOCALDIR （备份目录，可自己指定，我选择的是默认/root/backups/）
TEMPDIR （备份目录的临时目录，可自己指定）
LOGFILE （脚本运行产生的日志文件路径）
MYSQL_ROOT_PASSWORD （MySQL的root 用户密码，可在面板中找到）
BACKUP （需要备份的指定目录或文件列表，/www/wwwroot）

保存退出后输入 sh backup.sh 回车直到备份完成

3、https://filezilla-project.org  找到合适的版本下载，安装完成后绑定服务器信息

主机：服务器     
端口：登陆服务器的端口      
协议：SFTP      
登陆类型：正常        
用户：root    
密码：登陆服务器时的密码

在user下找到用户名文件下，点击desktop，就可以开始下载右下角第三个文件

建议注册个比较靠谱的网盘，然后把备份文件丢进去，当然也可以在移动硬盘中放一份，看自己需要。

网站和服务器维护是件很繁琐的事，各种意外就像达摩克利斯之剑一样，所以最好是找一家靠谱的主机托管服务商，有问题直接找他们解决，日常的维护和备份他们也会做好。让专业的人做专业的事，你只需要做好自己的创作就好了。长老如是说。

参考网页：https://teddysun.com/469.html

- - -

This page is synchronized from the post: ['一键备份服务器及网站数据'](https://steemit.com/@nostalgic1212/utp6d)
