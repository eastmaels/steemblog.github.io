
---
title: 'Lens: 用数据看清世界 | Lens: A Clear World via Data'
permlink: lens
catalog: true
toc_nav_num: true
toc: true
position: 9999
date: 2019-08-01 17:09:12
categories:
- steem-engine
tags:
- steem-engine
- cn
- sct
- data
- steem
- palnet
- zzan
- mediaofficials
- actnearn
- marlians
- neoxian
- lassecash
- busy
thumbnail: 'https://cdn.pixabay.com/photo/2017/09/15/08/53/photography-2751464_1280.jpg'
sidebar:
    right:
        sticky: true
widgets:
    -
        type: toc
        position: right
---


本文介绍 Lens 项目，用基于 Steem Smart Contract、Scotbot 的数据，看清项目、组织、市场等的真实情形，了解过去、预测未来。

![](https://cdn.pixabay.com/photo/2017/09/15/08/53/photography-2751464_1280.jpg)
<sup>image source: [Pixabay](https://pixabay.com/zh/photos/%E6%91%84%E5%BD%B1-%E7%85%A7%E7%89%87-%E5%A5%B3%E5%AD%90-%E7%9B%B8%E6%9C%BA-2751464/)</sup>

- https://steem-driver.github.io/lens?page=open_order&token=ENG

这个项目还在非常早期的状态，界面只是花了1个小时左右构建的，所以还很不完善。但接下来会持续改进，以帮助我们用数据看清世界。



## 缘起

Steem作为基于区块链构建的社区，其优势之一在于可以快速建立信任、形成合作，这种信任建立的基础在于公开、可信的数据（即区块链这一数据存储和交互形式）。

诚然，数据（包括语言文字在内；需要注意的是，《说文》中，“信”字从“言”部），是人类建立信任、实现合作、发展文明的基础，但只有原始的数据（或者大数据）不足以建立信任，唯有通过“简化”、“提炼”为人类智力可以理解的元素，才能够形成信任的基础。

Lens （透镜）项目 的意义在于，一方面，通过让原始、真实和可信数据可以被收集和整理出来，并且易于使用，另一方面，通过恰当的展示方式，帮助使用者快速查询和发现有意义的信息、正确决策、快速行动。

推动我们开发这个小工具的起因有多个方面，包括：

1. steem-engine.rocks 在 richlist 排序上不够灵活，查看真正的大鲸时，有些不便，例如无法根据 staked + delegation in 的 token 进行排序；
2. steem-engine 市场中的订单数据其实包含更多的信息，例如订单的发布者（buyer 和 seller），通过公开数据，可以更清晰地看到市场中投机、作价等行为，方便我们更深入的了解市场；
3. steem-engine 市场中的历史交易数据只显示30条，无法获取全部数据。

所以，实际上，这个最初版本的数据展示，也仅仅是为了解决这三方面的问题而实现的。此外，ZZAN 团队也正好需要一个类似的工具，基于这些问题和缘由，我们开发了这个小工具。


## 功能

目前的功能仅有最基本的3个部分：

1. 更透明的Open Order：除了展示价格，更展示挂单的用户和时间，可以看清是谁在主导和影响市场；
2. 更全面的交易数据（Trade History）：默认的Steem Smart Contract只会保留24h的交易数据，这里实现了可以查看所有历史上的交易记录的功能；
3. 更合理的Rich List排序：排序通常关注“财”（Balance）和“权”（Stake, Delegation），这里以Effective Stake（Staked + Delegation In）排序，相比steem-engine.rocks 里的rich list的排序，更合理一些。



###  Open Order 进行中的订单

首先，我们需要注意的是，一般的市场订单数据具有一定的私密性，在常见的交易市场中并不一定不会公开展示的，但基于 Steem Smart Contract的交易数据是完全公开的，所以我们可以查询到所有的相关订单信息。

这一功能本身很容易理解，即添加了Account和Date这两列。

举例1：以下可以看到 ENG 的买入者和卖出者：https://steem-driver.github.io/lens?page=open_order&token=ENG

- 可以看到 @steem.leo 在尝试买入更多 ENG

![image.png](https://files.steempeak.com/file/steempeak/robertyan/dGZ9NqLa-image.png)

举例2：我们也可以看看谁在挂高价卖出 STEEMSPEAK：https://steem-driver.github.io/lens/?page=open_order&token=STEEMSPEAK

- CN区的朋友有很多在参与高价卖出 STEEMSPEAK

![image.png](https://files.steempeak.com/file/steempeak/robertyan/U5cic5sh-image.png)


对于想看清市场交易现状的用户，这个Open Order应该会比 steem-engine的市场更全面一些。

### Trade History 交易历史

交易历史是市场行为中很重要的数据，但一般的交易所也同样不会分享所有的交易历史数据，只能看到交易价格的变化。但 Steem Engine交易所的数据是完全公开的，所以只要对于 Sidechain 上的 transaction 进行一定处理，就能获取到所有的交易历史记录。

在这一页面中，上半部分我们展示的是直接从 Smart Contract中查询的24小时内的交易记录（超过24h的记录被删除），下半部分来自于从 sidechain 解析获取的**全部**交易历史数据。

上半部分的交易记录并无十分特别之处（虽然比 Steem Engine展示数据会更全一些），有趣的在于下半部分。

比如，可以看到最新的 R 的交易记录的参与者与完成时间：https://steem-driver.github.io/lens/?page=trade_history&token=R

![image.png](https://files.steempeak.com/file/steempeak/robertyan/tfhaqpSH-image.png)

有需要也可以导出所有的相关 token 的交易数据，以便做进一步的分析。

其中这里完整的交易数据由于使用的接口不够稳定，可能会花较长时间加载数据。之后会改用一个新的数据接口，以解决此问题。


### Rich List 持有者排名

这一功能优化的不多，主要是几个方面：

1. 增加了一些列，以方便排序，其中 Effective Stake = Staked + Delegation In；Total Holding = Balance + Effective Stake
2. 如果持有或被代理的总额为0，则不会展示；
3. 底部添加了各列的汇总信息。

例如，SCT的Rich List：https://steem-driver.github.io/lens/?page=rich_list&token=SCT，以 Effective Stake 排序

![image.png](https://files.steempeak.com/file/steempeak/robertyan/Zk1DEIbL-image.png)

这一功能，主要是弥补 steem-engine.rocks 在排序上不够灵活的问题。此外，steem-engine.rocks 进场掉线，也挺令人头疼的，所以用了这个小工具以后，我一般便不用 steem-engine.rocks 的Rich List了。

## 计划

由于只是一个最简单的雏形，所以功能还是很不完善的，但接下来计划继续做一些改进，以下是大概的改进计划：

1. 添加对个人市场信息的查询：例如个人的 open order, trade history, token overview, delegation details（代理给谁、接受了谁的代理） 等等
2. 添加其他对 token 市场和货币的分析：持有者的增长变化，投资回报比例等等，以帮助投资者做更好的投资决策；
3. 其他一些有趣的数据科学专题，例如 steemspeak 的价格波动分析，目前我们有一个“数据科学”小组正在基于兴趣进行这方面的研究和探索。如有兴趣，欢迎加入我们。
4. 改进UI界面，添加 token 的选择以及改进整体的风格和交互等。

最后，如果你想试用这个工具，请不要忘了手动修改 https://steem-driver.github.io/lens/?page=rich_list&token={token} 链接中的 {token}。最近会添加可以选择 token 的边栏，以方便用户。

## 参考文献

- 郑也夫，[《信任论》](https://book.douban.com/subject/1556409/)，中国广播电视出版社，2006年

- - -

This page is synchronized from the post: ['Lens: 用数据看清世界 | Lens: A Clear World via Data'](https://steemit.com/@robertyan/lens)
