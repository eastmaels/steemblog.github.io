
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@holger80/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@holger80/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@holger80/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@holger80/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-steemengine-token-class-and-command-line-tool-added/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmZrpLZz5DcAVLKkBSUknoEs1eSR4kJEaW1ZSB8otwt6Kq" alt="Update for steemengine - token class and command line tool added">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-11T13:32:51.000Z">2019-03-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 663 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-steemengine-token-class-and-command-line-tool-added/">Update for steemengine - token class and command line tool added</a>
            
        </h1>
        <div class="content">
            <p><img src="https://ipfs.busy.org/ipfs/QmZrpLZz5DcAVLKkBSUknoEs1eSR4kJEaW1ZSB8otwt6Kq" alt="image.png"></p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemengine" target="_blank" rel="noopener">https://github.com/holgern/steemengine</a></p>
<h3 id="steemengine"><a href="#steemengine" class="headerlink" title="steemengine"></a>steemengine</h3><p><a href="https://github.com/holgern/steemengine" target="_blank" rel="noopener">steemengine</a> is a python library for working with <a href="https://steem-engine.com/" target="_blank" rel="noopener">steem-engine.com</a> tokens.</p>
<p>I released version 0.3.0 which can be installed by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install steemengine</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><h3 id="New-Token-class"><a href="#New-Token-class" class="headerlink" title="New Token class"></a>New <code>Token</code> class</h3><p>I added a token class, that can be used to receive information about a token.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from steemengine.tokenobject import Token</span><br><span class="line">eng = Token(&quot;ENG&quot;)</span><br><span class="line">print(eng)</span><br><span class="line">print(eng.get_holder())</span><br><span class="line">print(eng.get_market_info())</span><br><span class="line">print(eng.get_buy_book())</span><br><span class="line">print(eng.get_sell_book())</span><br></pre></td></tr></tbody></table></figure>
<h4 id="get-holder"><a href="#get-holder" class="headerlink" title="get_holder"></a><code>get_holder</code></h4><p>All accounts that currently are holding a token can be received by the <code>get_holder()</code> function<br>It uses the <code>find</code> function from the api:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">holder = self.api.find(&quot;tokens&quot;, &quot;balances&quot;, query={&quot;symbol&quot;: self.symbol})</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It returns a list of dict-objects. Each dict object is of the following structure:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">{&apos;$loki&apos;: 2,</span><br><span class="line"> &apos;account&apos;: &apos;steemsc&apos;,</span><br><span class="line"> &apos;balance&apos;: &apos;1973148.55400000&apos;,</span><br><span class="line"> &apos;symbol&apos;: &apos;ENG&apos;}</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="get-market-info"><a href="#get-market-info" class="headerlink" title="get_market_info()"></a><code>get_market_info()</code></h4><p>This function uses:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">metrics = self.api.find_one(&quot;market&quot;, &quot;metrics&quot;, query={&quot;symbol&quot;: self.symbol})</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and returns the following structure:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">{&apos;$loki&apos;: 1,</span><br><span class="line"> &apos;highestBid&apos;: &apos;0.81000&apos;,</span><br><span class="line"> &apos;lastDayPrice&apos;: &apos;0.949&apos;,</span><br><span class="line"> &apos;lastDayPriceExpiration&apos;: 1552346331,</span><br><span class="line"> &apos;lastPrice&apos;: &apos;0.949&apos;,</span><br><span class="line"> &apos;lowestAsk&apos;: &apos;0.949&apos;,</span><br><span class="line"> &apos;priceChangePercent&apos;: &apos;0.00%&apos;,</span><br><span class="line"> &apos;priceChangeSteem&apos;: &apos;0.000&apos;,</span><br><span class="line"> &apos;symbol&apos;: &apos;ENG&apos;,</span><br><span class="line"> &apos;volume&apos;: 223.535,</span><br><span class="line"> &apos;volumeExpiration&apos;: 1552346331}</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="get-buy-book-and-get-sell-book"><a href="#get-buy-book-and-get-sell-book" class="headerlink" title="get_buy_book() and get_sell_book()"></a>get_buy_book() and get_sell_book()</h4><p>These functions return the sell/buy book of all currently not fullfilled order at the market.</p>
<h3 id="Command-line-tool"><a href="#Command-line-tool" class="headerlink" title="Command line tool"></a>Command line tool</h3><p>I added a command line tool to the python package. It has currently two commands.<br>After installing the steemengine library, a steemengine command should be available in the terminal.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine --version</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine --help</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>should be working.</p>
<h4 id="steemengine-richlist"><a href="#steemengine-richlist" class="headerlink" title="steemengine richlist"></a>steemengine richlist</h4><p>This command returns the top n token holder.<br>For example the top 10 ENG token holder can be shown be the following command:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine richlist -t 10 ENG</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmZwKFaExY7sewJbaHWnMKpnGYo5AUXeaoBmNbp1tZAWvb" alt="image.png"></p>
<p>The STEEM value of the token balance is obtained by multiplying the balance by the <code>lastPrice</code> field from get_market_info().</p>
<h4 id="steemengine-info"><a href="#steemengine-info" class="headerlink" title="steemengine info"></a>steemengine info</h4><p>This command can be used to receive information about</p>
<h4 id="latest-block"><a href="#latest-block" class="headerlink" title="latest block"></a>latest block</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine info</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://ipfs.busy.org/ipfs/QmXi65CUriwXJatBP2oez2Vjdje1QEfxX48qGyerw7C57Q" alt="image.png"></p>
<h4 id="a-sidechain-block"><a href="#a-sidechain-block" class="headerlink" title="a sidechain block"></a>a sidechain block</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine info 16695</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://ipfs.busy.org/ipfs/QmWykTLoBcxEroBp8LHu9HSTzCX2SMfdZzN2Jz7u1E7MCG" alt="image.png"></p>
<h4 id="a-token"><a href="#a-token" class="headerlink" title="a token"></a>a token</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine info ENG</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://ipfs.busy.org/ipfs/QmYMHKjzH2BP5Ne78VwK1JyZkihyDYiXBask2KA2TF61kC" alt="image.png"></p>
<h4 id="an-account"><a href="#an-account" class="headerlink" title="an account"></a>an account</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine info holger80</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://ipfs.busy.org/ipfs/QmZF2TKmrLMcyTecX8rtNu4fD1gCf1hAv7Wh8SiHEWFXYt" alt="image.png"></p>
<h4 id="a-transaction-id"><a href="#a-transaction-id" class="headerlink" title="a transaction id"></a>a transaction id</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemengine info 12ed6e59179a8b5441809d60dc3025143f17ff9f</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://ipfs.busy.org/ipfs/QmV5fymefs3Yyy8Aj5HYh9DWTJXgFecu8tGBsRQVe2RdkP" alt="image.png"></p>
<h3 id="PyInstaller"><a href="#PyInstaller" class="headerlink" title="PyInstaller"></a>PyInstaller</h3><p>I created two pyinstaller specs, which will create a one file standalone executable and a one-directory standalone excecutable. I setup appveyoer, in order to build a packed version for windows:<br><a href="https://ci.appveyor.com/project/holger80/steemengine" target="_blank" rel="noopener">https://ci.appveyor.com/project/holger80/steemengine</a><br>I will put the newest Windows-Versions to the release page: <a href="https://github.com/holgern/steemengine/releases" target="_blank" rel="noopener">https://github.com/holgern/steemengine/releases</a></p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Changelog-and-pyinstaller-build-instruction-added"><a href="#Changelog-and-pyinstaller-build-instruction-added" class="headerlink" title="Changelog and pyinstaller build instruction added"></a>Changelog and pyinstaller build instruction added</h3><ul>
<li><a href="https://github.com/holgern/steemengine/commit/ff05b22c90812aaf383f81b02920bad626510916" target="_blank" rel="noopener">commit ff05b22</a><h3 id="Add-command-line-tool-for-showing-block-token-and-account-info"><a href="#Add-command-line-tool-for-showing-block-token-and-account-info" class="headerlink" title="Add command line tool for showing block, token and account info"></a>Add command line tool for showing block, token and account info</h3></li>
<li><a href="https://github.com/holgern/steemengine/commit/e8362861c114831d991841ca99ba7e057f5f3d7b" target="_blank" rel="noopener">commit e8362861</a></li>
<li>Add CLI for showing information about blocks, transaction ids, token and accounts</li>
<li>Unit tests for tokenobject and tokens added</li>
<li>get_buy_book and get_sell_book for Wallet added</li>
</ul>
<h3 id="Add-Token-class-remove-unused-imports-and-fix-some-variable-names"><a href="#Add-Token-class-remove-unused-imports-and-fix-some-variable-names" class="headerlink" title="Add Token class, remove unused imports and fix some variable names"></a>Add Token class, remove unused imports and fix some variable names</h3><ul>
<li><a href="https://github.com/holgern/steemengine/commit/d34d5ee6c146cdb5765d33462d4fb0785ab2984b" target="_blank" rel="noopener">commit d34d5ee</a></li>
<li>The new Token class returns, token holder, market information and token information</li>
<li>some camelcase variable names fixed</li>
<li>unused imports removed</li>
<li>version increased to 0.3.0</li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-steemengine-token-class-and-command-line-tool-added" target="_blank" rel="noopener">&#x2018;Update for steemengine - token class and command line tool added&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/how-to-follow-all-steem-engine-token-movements/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmbUjs2Z2aFsi9Vj3Y2WoFLDyiNCL98SsCn3jAC4ABJrS2" alt="How to follow all steem-engine token movements">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-10T00:17:39.000Z">2019-03-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steem-engine/">steem-engine</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 1038 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/how-to-follow-all-steem-engine-token-movements/">How to follow all steem-engine token movements</a>
            
        </h1>
        <div class="content">
            <p>The <a href="https://steem-engine.com" target="_blank" rel="noopener">steem-engine</a> token balance of an account can be influenced by the following actions:</p>
<ul>
<li>issue - can be performed by the token creator and increases the number of token</li>
<li>transfer - a token is transfered between two accounts</li>
<li>buy - when a buy order is fullfilled, the token is transfered into the account</li>
<li>sell - when a sell order is fullfilled the token is permamently removed from the account</li>
</ul>
<p>All these operations are custom_json operation and they have to be accepted by the sidechain. Parsing only the custom_json is not sufficient for knowing who owns token.</p>
<h2 id="Market-operation"><a href="#Market-operation" class="headerlink" title="Market operation"></a>Market operation</h2><h3 id="buy"><a href="#buy" class="headerlink" title="buy"></a>buy</h3><p>A buy order allows an account to buy token from the market. The STEEMP  that are needed in exchange for the tokens is locked into the market. </p>
<h3 id="sell"><a href="#sell" class="headerlink" title="sell"></a>sell</h3><p>A sell order allows an account to sell token to the market. The token that should be sold are locked into the market until the order is fullfiled or canceld.</p>
<h3 id="Fullfilling-a-buy-order"><a href="#Fullfilling-a-buy-order" class="headerlink" title="Fullfilling a buy order"></a>Fullfilling a buy order</h3><p>When there is already a matching sell order on the market, three internal transfers are generated:</p>
<ul>
<li>STEEMP from the buyer is transfered to the market</li>
<li>The tokens are transfered from the market to the buyer</li>
<li>The STEEMP are transfered to the seller</li>
</ul>
<p>When there is no matching sell order, only one transfer is generated:</p>
<ul>
<li>STEEMP  is transfered to the market</li>
</ul>
<p>In both cases, the same custom_json is broadcasted. It is only possible to know, how much token each account has, when it is known if there is a matching sell order or not.</p>
<h3 id="Fullfilling-a-sell-order"><a href="#Fullfilling-a-sell-order" class="headerlink" title="Fullfilling a sell order"></a>Fullfilling a sell order</h3><p>When there is already a matching buy order on the market, three internal transfers are generated:</p>
<ul>
<li>STEEMP from the buyer is transfered to the market</li>
<li>The tokens are transfered from the market to the buyer</li>
<li>The STEEMP are transfered to the seller</li>
</ul>
<p>When there is no matching buy order, only one transfer is generated:</p>
<ul>
<li>tokens are transfered to the market</li>
</ul>
<p>In both cases, the same custom_json is broadcasted. It is only possible to know, how much token each account has, when it is known if there is a matching  buy order or not.</p>
<p>If a order is fullfilled or not can be found out by using <code>get_transaction_info(trx_id)</code> from the steemengine python library. The transaction_id of the broadcasted buy/sell custom_json is needed as function input.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">trx_info = api.get_transaction_info(b[&quot;trx_id&quot;])</span><br><span class="line">payload =json.loads(trx_info[&quot;payload&quot;])</span><br><span class="line">logs = json.loads(trx_info[&quot;logs&quot;])</span><br><span class="line">if &quot;events&quot; in logs:</span><br><span class="line">    print(logs[&quot;events&quot;])</span><br></pre></td></tr></tbody></table></figure>
<p>This function returns a json with a <code>logs</code> field. When it has an <code>events</code> field, the order was sucessfully placed. When only one transfer is stored into <code>logs[&quot;events&quot;]</code>, there was no matching buy/sell order.<br>When there is more than 1 transfer, the buy/sell order was sucessfully.</p>
<h2 id="Token-movement-tracker"><a href="#Token-movement-tracker" class="headerlink" title="Token movement tracker"></a>Token movement tracker</h2><p>The following script prints token movements. When a buy or a sell operation at the market is sucessfully, it is shown and all transfers are shown.<br>In the screen shot,  bobby.madagascer bought 1 FREEX from dakeshi.<br><img src="https://ipfs.busy.org/ipfs/QmbUjs2Z2aFsi9Vj3Y2WoFLDyiNCL98SsCn3jAC4ABJrS2" alt="image.png"></p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"># This Python file uses the following encoding: utf-8</span><br><span class="line"># (c) holger80</span><br><span class="line">from __future__ import absolute_import</span><br><span class="line">from __future__ import division</span><br><span class="line">from __future__ import print_function</span><br><span class="line">from __future__ import unicode_literals</span><br><span class="line">from beem import Steem</span><br><span class="line">from beem.comment import Comment</span><br><span class="line">from beem.nodelist import NodeList</span><br><span class="line">from beem.utils import formatTimeString, addTzInfo</span><br><span class="line">from beem.blockchain import Blockchain</span><br><span class="line">from steemengine.api import Api</span><br><span class="line">import time</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    nodelist = NodeList()</span><br><span class="line">    nodelist.update_nodes()</span><br><span class="line">    stm = Steem(node=nodelist.get_nodes())</span><br><span class="line">    </span><br><span class="line">    api = Api()</span><br><span class="line">    </span><br><span class="line">    blockchain = Blockchain(mode=&quot;head&quot;, steem_instance=stm)</span><br><span class="line"></span><br><span class="line">    start_block = blockchain.get_current_block_num()</span><br><span class="line">    for b in blockchain.stream(start=start_block, opNames=[&quot;custom_json&quot;, &quot;transfer&quot;]):</span><br><span class="line">        if b[&quot;type&quot;] == &quot;custom_json&quot;:</span><br><span class="line">            if b[&quot;id&quot;] != &quot;ssc-mainnet1&quot;:</span><br><span class="line">                continue</span><br><span class="line">            trx_info = api.get_transaction_info(b[&quot;trx_id&quot;])</span><br><span class="line">            if trx_info is None:</span><br><span class="line">                continue</span><br><span class="line">            payload =json.loads(trx_info[&quot;payload&quot;])</span><br><span class="line">            logs = json.loads(trx_info[&quot;logs&quot;])</span><br><span class="line">            if &quot;errors&quot; in logs:</span><br><span class="line">                continue            </span><br><span class="line">            if trx_info[&quot;action&quot;] == &quot;issue&quot;:</span><br><span class="line">                print(&quot;%s issued %s %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;]))</span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;transfer&quot;:</span><br><span class="line">                print(&quot;%s transfered %s %s to %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;to&quot;]))</span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;sell&quot;:</span><br><span class="line"></span><br><span class="line">                if len(logs[&quot;events&quot;]) == 1:</span><br><span class="line">                    print(&quot;%s put sell order %s %s for %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                else:</span><br><span class="line">                    print(&quot;%s sold %s %s for %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                    for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                        print(&quot;    - %s transfers %s %s to %s&quot; % (transfer[&quot;data&quot;][&quot;from&quot;], transfer[&quot;data&quot;][&quot;quantity&quot;], transfer[&quot;data&quot;][&quot;symbol&quot;], transfer[&quot;data&quot;][&quot;to&quot;]))                    </span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;buy&quot;:</span><br><span class="line">                if len(logs[&quot;events&quot;]) == 1:</span><br><span class="line">                    print(&quot;%s put buy order  %s %s for %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                else:</span><br><span class="line">                    print(&quot;%s bought %s %s for %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                    for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                        print(&quot;    - %s transfers %s %s to %s&quot; % (transfer[&quot;data&quot;][&quot;from&quot;], transfer[&quot;data&quot;][&quot;quantity&quot;], transfer[&quot;data&quot;][&quot;symbol&quot;], transfer[&quot;data&quot;][&quot;to&quot;]))</span><br><span class="line">                    </span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;cancel&quot;:</span><br><span class="line">                print(&quot;%s cancel %s order with %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;type&quot;], payload[&quot;id&quot;]))</span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;withdraw&quot;:</span><br><span class="line">                print(&quot;%s withdraw %s STEEMP&quot; % (trx_info[&quot;sender&quot;], payload[&quot;quantity&quot;]))</span><br><span class="line">                </span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;updateMetadata&quot;:</span><br><span class="line">                continue</span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;create&quot;:</span><br><span class="line">                print(&quot;%s created the %s token&quot; % (trx_info[&quot;sender&quot;], payload[&quot;symbol&quot;]))</span><br><span class="line">            else:</span><br><span class="line">                print(trx_info)</span><br><span class="line">        elif b[&quot;type&quot;] == &quot;transfer&quot;:</span><br><span class="line">            if &quot;ssc-mainnet1&quot; not in b[&quot;memo&quot;]:</span><br><span class="line">                continue</span><br><span class="line">            trx_info = api.get_transaction_info(b[&quot;trx_id&quot;])</span><br><span class="line">            if trx_info is None:</span><br><span class="line">                continue</span><br><span class="line">            payload =json.loads(trx_info[&quot;payload&quot;])</span><br><span class="line">            if trx_info[&quot;action&quot;] == &quot;buy&quot;:</span><br><span class="line">                print(&quot;%s bought STEEMP for %s&quot; % (trx_info[&quot;sender&quot;], payload[&quot;amountSTEEMSBD&quot;]))</span><br><span class="line">            elif trx_info[&quot;action&quot;] == &quot;removeWithdrawal&quot;:</span><br><span class="line">                print(&quot;%s withdraw STEEMP for %s&quot; % (payload[&quot;recipient&quot;], payload[&quot;amountSTEEMSBD&quot;]))</span><br><span class="line">            else:</span><br><span class="line">                print(trx_info)</span><br></pre></td></tr></tbody></table></figure>
<p>In order to run the script, steemengine must be install by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install steemengine</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It can than be run by storing the content into a py file and running the  script by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python monitor_tokens.py</span><br></pre></td></tr></tbody></table></figure><p></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/how-to-follow-all-steem-engine-token-movements" target="_blank" rel="noopener">&#x2018;How to follow all steem-engine token movements&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemrewarding-com-upvoting-of-paid-out-posts-possible-and-rules-table-improved/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="steemrewarding.com - upvoting of paid-out posts possible and rules table improved">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-08T23:18:45.000Z">2019-03-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 1039 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemrewarding-com-upvoting-of-paid-out-posts-possible-and-rules-table-improved/">steemrewarding.com - upvoting of paid-out posts possible and rules table improved</a>
            
        </h1>
        <div class="content">
            <p></p><center><br><img src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="rewarding_batch2.png"><br></center><p></p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a></p>
<p>steemrewarding.com is a feature-rich automatic voting tool. It can be used to create voting rules at <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a>, when posting authority was given to the @rewarding account. I created a discord server for all topics regarding steemrewarding.com: <a href="https://discord.gg/qpsR8hf" target="_blank" rel="noopener">discord invitation</a>.</p>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><h3 id="Upvoting-already-paid-out-posts"><a href="#Upvoting-already-paid-out-posts" class="headerlink" title="Upvoting already paid-out posts"></a>Upvoting already paid-out posts</h3><p>The delayed vote tab can now also be used to upvote already paid-out posts. When a paid-out post is given, a comment is replied with 100% benficiaries set to the author and upvoted.</p>
<p>There are three ways to do this:</p>
<ul>
<li>Go to <a href="https://steemrewarding.com/delayed_vote" target="_blank" rel="noopener">https://steemrewarding.com/delayed_vote</a> and enter the authorperm</li>
<li>replace steemit by steemrewarding: e.g.: <a href="https://steemrewarding.com/steempeak/@steempeak/keychain-integration-now-live-on-steempeak-com" target="_blank" rel="noopener">https://steemrewarding.com/steempeak/@steempeak/keychain-integration-now-live-on-steempeak-com</a></li>
<li>Write a comment as:</li>
</ul>
<p><img src="https://ipfs.busy.org/ipfs/QmW6WTJT4TsY4Jxjt9L1LkEmYsJg6QsvZhVuAWLZNkX1rJ" alt="image.png"></p>
<p>The created comment has 100% beneficiaries set to the author. In 7 days, the author of the already paid out post will receive the author rewards of the upvoted comment.</p>
<h3 id="Assuring-that-a-command-is-only-parsed-once"><a href="#Assuring-that-a-command-is-only-parsed-once" class="headerlink" title="Assuring that a command is only parsed once"></a>Assuring that a command is only parsed once</h3><p> New checks have been added for assuring that each command is only parsed once. The timestamp of the last parsed commend <code>last_command</code> is stored in a json file at the end of the script. When the json file would be deleted, all rewarding commands would be parsed again.</p>
<p>In order to prevent this, a command inside a comment must be not older than 3 hours:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Skip not processed commands that are older than 3 hours</span><br><span class="line">if (datetime.utcnow() - command[&quot;created&quot;]).total_seconds() / 60 / 60 &gt; 3:</span><br><span class="line">    continue</span><br></pre></td></tr></tbody></table></figure>
<p>A second check is implemented that checks of the comment that contains the comment was already upvoted by @rewarding:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">already_voted = False</span><br><span class="line">for v in c_comment[&quot;active_votes&quot;]:</span><br><span class="line">    if v[&quot;voter&quot;] == rewarding_account:</span><br><span class="line">        already_voted = True</span><br><span class="line">if already_voted:</span><br><span class="line">    continue</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>As a comment containing a rewarding command is alsways upvoted, checking for upvotes from rewarding will also prevent that accidentially a command is parsed twice.</p>
<h3 id="Improved-rules-trail-rules-table-and-copying-of-rules-possible"><a href="#Improved-rules-trail-rules-table-and-copying-of-rules-possible" class="headerlink" title="Improved rules/trail rules table and copying of rules possible"></a>Improved rules/trail rules table and copying of rules possible</h3><p>It is now possible to add the author and change if comments or posts ( <code>main_post</code> flag) should be upvoted.</p>
<p>After pressing the button in the rule editing from:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rule_dict = rule_dict_from_form(name, form)</span><br><span class="line">if rule_dict[&quot;author&quot;] != author or rule_dict[&quot;main_post&quot;] != main_post:</span><br><span class="line">    if copy_rule is None or not copy_rule:</span><br><span class="line">        voteRulesTrx.delete(name, author, main_post)</span><br><span class="line">    voteRulesTrx.add(rule_dict)</span><br><span class="line">else:</span><br><span class="line">    voteRulesTrx.update(rule_dict)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It is checked of the author and/or the main_post flag was changed. If this is the case, a new rule is created. When copy_rule is not set, the old rule is deleted. </p>
<p>The vote rule table has been improved. Links for edit/copy/delete a rule are now on the left side:<br><img src="https://ipfs.busy.org/ipfs/QmWsrzKUoE7ros5TaDKUeGvUKsjhGuDdNkx3LQxZFbGeNo" alt="image.png"><br>When I press the edit link:<br><img src="https://ipfs.busy.org/ipfs/QmNjQ3o6UayhrJpxisJByRRJdB71rzqYNJsyZuSUJtG5fe" alt="image.png"><br>All changes at the author field will create a new rule and the old rule will be deleted.</p>
<p>When I press the copy link:<br><img src="https://ipfs.busy.org/ipfs/QmSDtcPapsBxZDZjfaUiVbrmcxJUyXfa9PEKFR2kT5Bm3H" alt="image.png"><br>All changes at the author field will create a new rule with the same parameters. The old rule stays unchanged.</p>
<h2 id="Maximum-vote-delay-parameter-added"><a href="#Maximum-vote-delay-parameter-added" class="headerlink" title="Maximum vote delay parameter added"></a>Maximum vote delay parameter added</h2><p>A new parameter was added for vote rules:<br><img src="https://ipfs.busy.org/ipfs/QmV8nAes35ve8bH18wAg3U5wA8Wh7jyqtCqtfsgf1vZd6Y" alt="image.png"><br>It is now possible to limit the validity of a rule which is vote power based. A post/comment is then upvoted when <code>min_vp</code> is smaller than the vote power and when the delay is below of <code>maximum_vote_delay_min</code>.</p>
<h2 id="min-vp-vote-sbd-and-vote-when-vp-reached-added-to-delayed-vote"><a href="#min-vp-vote-sbd-and-vote-when-vp-reached-added-to-delayed-vote" class="headerlink" title="min_vp, vote_sbd  and vote_when_vp_reached  added to delayed vote"></a>min_vp, vote_sbd  and vote_when_vp_reached  added to delayed vote</h2><p>It is now possible to queue vote-power based votes. The following setting will queue a vote which is later upvted when a vote power of 90% is reached.<br><img src="https://ipfs.busy.org/ipfs/QmaZsbbBY69PnVvv7vGvW3K952z3XfPmuf2rJyweLATc8D" alt="image.png"></p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Add-creating-of-of-comments-with-beneficiaries-to-flask-app"><a href="#Add-creating-of-of-comments-with-beneficiaries-to-flask-app" class="headerlink" title="Add creating of of comments with beneficiaries to flask app"></a>Add creating of of comments with beneficiaries to flask app</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/5cd32924adcb5a6d276c8e65c572051e7f98fea4" target="_blank" rel="noopener">commit 5cd3292</a><h3 id="fix-permlink-of-comment-for-upvoting"><a href="#fix-permlink-of-comment-for-upvoting" class="headerlink" title="fix permlink of comment for upvoting"></a>fix permlink of comment for upvoting</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/e8363fdc481dd448099878ec6bf42024959c4576" target="_blank" rel="noopener">commit e8363fd</a><h3 id="Copy-item-added-to-vote-rules-and-trail-vote-rules"><a href="#Copy-item-added-to-vote-rules-and-trail-vote-rules" class="headerlink" title="Copy item added to vote rules and trail vote rules"></a>Copy item added to vote rules and trail vote rules</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/ead68fc1fc88ccb86e37900eea345dd5389e1cd7" target="_blank" rel="noopener">commit ead68fc</a></li>
<li>table layout improved</li>
<li>description added to edit and delete rule/trail rule</li>
<li>copying a rule/trail rule is possible</li>
<li>form field for deleting a rule / trail rule is shorted<h3 id="Add-more-form-fields-for-delayed-vote-and-add-max-vote-delay"><a href="#Add-more-form-fields-for-delayed-vote-and-add-max-vote-delay" class="headerlink" title="Add more form fields for delayed vote and add max vote delay"></a>Add more form fields for delayed vote and add max vote delay</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/047fb7816fedb8567ae8a93fd947458a1dceb940" target="_blank" rel="noopener">commit 047fb78</a></li>
<li>show account information at start page</li>
<li>More form fields for delayed vote</li>
<li>maximum vote delay added as form field<h3 id="Add-checks-for-command-parsing-that-will-prevent-that-a-comment-is-parsed-twice"><a href="#Add-checks-for-command-parsing-that-will-prevent-that-a-comment-is-parsed-twice" class="headerlink" title="Add checks for command parsing that will prevent that a comment is parsed twice"></a>Add checks for command parsing that will prevent that a comment is parsed twice</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/6c0f4817fb34735f87bf6fae738681aab9e2efb3" target="_blank" rel="noopener">commit 6c0f481</a><h3 id="add-rewarding-of-paid-out-post-older-than-7days-post"><a href="#add-rewarding-of-paid-out-post-older-than-7days-post" class="headerlink" title="add rewarding of paid-out post (older than 7days post)"></a>add rewarding of paid-out post (older than 7days post)</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/fdc6921af2b01cdff92d3d88039f10f3bab21e64" target="_blank" rel="noopener">commit fdc6921</a></li>
<li>when a already paid-out post should be upvoted, a comment<br>with beneficiaries is upvoted instead.</li>
<li>add short notice to dalayed vote tab<h3 id="add-more-help-text-to-forms-and-improve-scripts"><a href="#add-more-help-text-to-forms-and-improve-scripts" class="headerlink" title="add more help text to forms and improve scripts"></a>add more help text to forms and improve scripts</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/8305093383408fbf023d88cea21e0f17ab566ab7" target="_blank" rel="noopener">commit 8305093</a></li>
<li>prevent negative vote weight</li>
<li>add pool_recycle to database connector</li>
<li>add hours, minutes and days to command parsing</li>
<li>sorting rules by author</li>
<li>improve app check in post</li>
<li>add unit tests for command parsing</li>
<li>add try/except for loading post/comment from authorperm</li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemrewarding-com-upvoting-of-paid-out-posts-possible-and-rules-table-improved" target="_blank" rel="noopener">&#x2018;steemrewarding.com - upvoting of paid-out posts possible and rules table improved&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-steemengine-token-transfer-and-market-operation-added/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmVrVEAKKAwVESH2nBLnu3dQ8KNixFZuVg9nVEtdTTR65W" alt="Update for steemengine - token transfer and market operation added">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-07T14:36:42.000Z">2019-03-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 941 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-steemengine-token-transfer-and-market-operation-added/">Update for steemengine - token transfer and market operation added</a>
            
        </h1>
        <div class="content">
            <p><img src="https://ipfs.busy.org/ipfs/QmVrVEAKKAwVESH2nBLnu3dQ8KNixFZuVg9nVEtdTTR65W" alt="image.png"></p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemengine" target="_blank" rel="noopener">https://github.com/holgern/steemengine</a></p>
<h3 id="steemengine"><a href="#steemengine" class="headerlink" title="steemengine"></a>steemengine</h3><p><a href="https://github.com/holgern/steemengine" target="_blank" rel="noopener">steemengine</a> is a python library for working with <a href="https://steem-engine.com/" target="_blank" rel="noopener">steem-engine.com</a> tokens.</p>
<p>I released version 0.2.0 which can be installed by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install steemengine</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><p> It is now possible to view the wallet of a user and receive information about all registered token. Sending of token is possible and creating Buy/Sell order on the market can be done. It is also possible to deposit STEEM and withdraw STEEMP.</p>
<p>As a token transfer is a custom_json operation, there is the possibility that broadcasting a transfer will not change the token amount. There are some rules in place that may prevent that a transfer run trough( e.g. quantity must be a string and not a float). I tried to prevent such cases by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;symbol&quot;:symbol.upper(),&quot;to&quot;:to,&quot;quantity&quot;:str(amount),&quot;memo&quot;:memo}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>assuring that the symbol contains only upper chars and that the quantity is a string.</p>
<p>I updated my beem library, in order to allow token transfer (spaces in the custom json field were removed and broadcasting a custom json with an active key is now possible). Thus, all described functions work only with a beem version <code>&gt;=0.20.19</code>. The beem version can be checked with<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beempy --version</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Wallet-password"><a href="#Wallet-password" class="headerlink" title="Wallet password"></a>Wallet password</h3><p>Instead of unlocking the wallet<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>the active key can be set directly:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stm = Steem(keys=[&quot;5xx&quot;])</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="View-Token-balance"><a href="#View-Token-balance" class="headerlink" title="View Token balance"></a>View Token balance</h3><p>It is possible to get the token balance for an account using the <code>Wallet</code> class.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from steemengine.wallet import Wallet</span><br><span class="line">wallet = Wallet(&quot;holger80&quot;)</span><br><span class="line">print(wallet)</span><br><span class="line">print(wallet.get_token(&quot;JAR&quot;))</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Token-transfer"><a href="#Token-transfer" class="headerlink" title="Token transfer"></a>Token transfer</h3><p>Token transfer is possible using the new <code>Wallet</code> class. The account name and the token balance is checked before sending.<br>The exception <code>TokenNotInWallet</code> is raised, when the token is available in the wallet. When the transfer amount is higher than the balance, a <code>InsufficientTokenAmount</code> exception is raised.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.wallet import Wallet</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">wallet = Wallet(&quot;holger80&quot;, steem_instance=stm)</span><br><span class="line">wallet.transfer(&quot;jarunik&quot;,1, &quot;JAR&quot;, memo=&quot;https://steemit.com/utopian-io/@holger80/update-for-steemengine-token-transfer-and-market-operation-added&quot;)</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Market-deposit"><a href="#Market-deposit" class="headerlink" title="Market deposit"></a>Market deposit</h3><p>The STEEM balance is checked before sending the deposit. When not sufficient STEEM are in the account, a <code>InsufficientTokenAmount</code> is raised.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">m.deposit(&quot;holger80&quot;, 0.01)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmayDL9jQjyEAvBqwgzYXMTN9wK4Frs7n2pfm1bfNmCcWM" alt="image.png"></p>
<p><img src="https://ipfs.busy.org/ipfs/QmZDS3qPvrsxyKeN7Cr4p1pXE76CrhxYnFh4MASdc7vVGG" alt="image.png"></p>
<h2 id="Market-withdraw"><a href="#Market-withdraw" class="headerlink" title="Market withdraw"></a>Market withdraw</h2><p>The <code>STEEMP</code> token balance is checked before. When the amount is not sufficient, a <code>InsufficientTokenAmount</code> is raised.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">m.withdraw(&quot;holger80&quot;, 0.009)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmYMK7o1XZVN1jmqJJn4FPRvJvB9UhkD1T9UnNdEpuSJ5Y" alt="image.png"></p>
<h2 id="Buy-order"><a href="#Buy-order" class="headerlink" title="Buy order"></a>Buy order</h2><p>The <code>STEEMP</code> token balance is checked, when it is below <code>amount_token_to_buy * price</code>, a <code>InsufficientTokenAmount</code> is raised.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">m.buy(&quot;holger80&quot;, 1, &quot;JAR&quot;, 0.09)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmPsQ14kCnfBdJ4xi7MQAHtgC6fKwKmyp9Aq9Zd2aa7Piz" alt="image.png"></p>
<h2 id="Cancel-a-buy-order"><a href="#Cancel-a-buy-order" class="headerlink" title="Cancel a buy order"></a>Cancel a buy order</h2><p>A buy order can be cancelled, when the buy order ID is known. It can be found out by using the <code>get_buy_book</code> function.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">open_buy_orders = m.get_buy_book(&quot;JAR&quot;, &quot;holger80&quot;)</span><br><span class="line">m.cancel(&quot;holger80&quot;, &quot;buy&quot;, open_buy_orders[0][&quot;$loki&quot;])</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="Sell-order"><a href="#Sell-order" class="headerlink" title="Sell order"></a>Sell order</h2><p>The token balance is checked, when it is to low, a <code>InsufficientTokenAmount</code> is raised.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">m.sell(&quot;holger80&quot;, 1, &quot;JAR&quot;, 10)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmTVhzb95Y5UcL8kctSd8Mb4YbCG9nLcTJkQhaDXcGRCTq" alt="image.png"></p>
<h2 id="Cancel-a-sell-order"><a href="#Cancel-a-sell-order" class="headerlink" title="Cancel a sell order"></a>Cancel a sell order</h2><p>A sell order can be cancelled, when the sell order ID is known. It can be found out by using the <code>get_sell_book</code> function.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from steemengine.market import Market</span><br><span class="line">stm = Steem()</span><br><span class="line">stm.unlock(&quot;wallet_pass&quot;)</span><br><span class="line">m=Market(steem_instance=stm)</span><br><span class="line">open_sell_orders = m.get_sell_book(&quot;JAR&quot;, &quot;holger80&quot;)</span><br><span class="line">m.cancel(&quot;holger80&quot;, &quot;sell&quot;, open_sell_orders [0][&quot;$loki&quot;])</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="View-all-tokens"><a href="#View-all-tokens" class="headerlink" title="View all tokens"></a>View all tokens</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from steemengine.tokens import Tokens</span><br><span class="line">tokens = Tokens()</span><br><span class="line">print(&quot;%d token were registered&quot; % len(tokens))</span><br><span class="line">print(tokens.get_token(&quot;ENG&quot;))</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Changelog-and-more-examples-added-to-readme"><a href="#Changelog-and-more-examples-added-to-readme" class="headerlink" title="Changelog and more examples added to readme"></a>Changelog and more examples added to readme</h3><ul>
<li><a href="https://github.com/holgern/steemengine/commit/5e396444e144044725cae2108cf7508b3ee2c800" target="_blank" rel="noopener">commit 5e39644</a></li>
<li>Doku to some functions added<h3 id="Add-Market-Tokens-and-Wallet-classes"><a href="#Add-Market-Tokens-and-Wallet-classes" class="headerlink" title="Add Market, Tokens and Wallet classes"></a>Add Market, Tokens and Wallet classes</h3></li>
<li><a href="https://github.com/holgern/steemengine/commit/dc38ce97ea10c50fee9c54051e43744daacd3512" target="_blank" rel="noopener">commit dc38ce9</a></li>
<li>Market() can be used for deposit,withdrawel, buy and sell.</li>
<li>Wallet() can be used for checking the wallet balance and sending tokens</li>
<li>Tokens() can be used for checking all available tokens<h3 id="Rename-function-names-to-meet-PEP8-conventions"><a href="#Rename-function-names-to-meet-PEP8-conventions" class="headerlink" title="Rename function names to meet PEP8 conventions"></a>Rename function names to meet PEP8 conventions</h3></li>
<li><a href="https://github.com/holgern/steemengine/commit/4c067b0bdeb19c7eb626cd4ec6402fade520a9da" target="_blank" rel="noopener">commit 4c067b0</a></li>
<li>Add two exapmles (token sending and token upvote bot)</li>
<li>Increase version number</li>
<li>find returns an array</li>
<li>find_one returns an object</li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-steemengine-token-transfer-and-market-operation-added" target="_blank" rel="noopener">&#x2018;Update for steemengine - token transfer and market operation added&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/which-cards-dominate-the-steemmonsters-tournaments/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmQ1H2vWgq8Hksi2Ri4fT2ZVSNczjqFYqFdgjcQKb19m6E" alt="Which cards dominate the steemmonsters tournaments?">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-05T13:29:36.000Z">2019-03-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steemmonsters/">steemmonsters</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 456 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/which-cards-dominate-the-steemmonsters-tournaments/">Which cards dominate the steemmonsters tournaments?</a>
            
        </h1>
        <div class="content">
            <p><img src="https://ipfs.busy.org/ipfs/QmQ1H2vWgq8Hksi2Ri4fT2ZVSNczjqFYqFdgjcQKb19m6E" alt="image.png"></p>
<h2 id="Which-cards-are-winning-in-the-tournament"><a href="#Which-cards-are-winning-in-the-tournament" class="headerlink" title="Which cards are winning in the tournament?"></a>Which cards are winning in the tournament?</h2><p>The following table shows how often the different cards have been used in battles across all leagues (<code>n</code>) and the overal winning ratio (<code>win ratio</code>) in percentage. Then, the winning ratio for the different leagues is shown. </p>
<p>7896 tournament battles were included, alpha_only and gold_only tournaments were skipped.<br>The Diamont league has to few battles to be meaningful and are excluded. The cards are sorted by the overall winning ratio.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>n</th>
<th>win ratio [%]</th>
<th>win ratio Novice  [%]</th>
<th>win ratio Bronze  [%]</th>
<th>win ratio Silver  [%]</th>
<th>win ratio Gold  [%]</th>
</tr>
</thead>
<tbody>
<tr>
<td>Prince Rennyn</td>
<td>559</td>
<td>73.9</td>
<td>70.3</td>
<td>78.5</td>
<td>65.3</td>
<td>76.5</td>
</tr>
<tr>
<td>Plado Emberstorm</td>
<td>302</td>
<td>67.2</td>
<td>66.7</td>
<td>72.7</td>
<td>55.4</td>
<td>40.0</td>
</tr>
<tr>
<td>Dragon Whelp</td>
<td>6</td>
<td>66.7</td>
<td>80.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Swamp Thing</td>
<td>1544</td>
<td>63.9</td>
<td>65.2</td>
<td>65.4</td>
<td>60.0</td>
<td>55.9</td>
</tr>
<tr>
<td>Xander Foxwood</td>
<td>198</td>
<td>63.1</td>
<td>62.7</td>
<td>67.1</td>
<td>57.1</td>
<td>57.1</td>
</tr>
<tr>
<td>Valnamor</td>
<td>122</td>
<td>63.1</td>
<td>70.7</td>
<td>59.6</td>
<td>43.8</td>
<td>0.0</td>
</tr>
<tr>
<td>Javelin Thrower</td>
<td>567</td>
<td>61.6</td>
<td>61.9</td>
<td>64.2</td>
<td>50.0</td>
<td>50.0</td>
</tr>
<tr>
<td>Peaceful Giant</td>
<td>426</td>
<td>60.8</td>
<td>55.4</td>
<td>63.4</td>
<td>64.8</td>
<td>53.6</td>
</tr>
<tr>
<td>Jarlax the Undead</td>
<td>81</td>
<td>60.5</td>
<td>67.4</td>
<td>55.6</td>
<td>45.5</td>
<td>0.0</td>
</tr>
<tr>
<td>Spirit of the Forest</td>
<td>448</td>
<td>60.0</td>
<td>66.3</td>
<td>56.9</td>
<td>63.2</td>
<td>51.5</td>
</tr>
<tr>
<td>Earth Elemental</td>
<td>2405</td>
<td>59.8</td>
<td>60.9</td>
<td>60.4</td>
<td>57.4</td>
<td>54.3</td>
</tr>
<tr>
<td>Magi of the Forest</td>
<td>728</td>
<td>59.3</td>
<td>63.8</td>
<td>59.3</td>
<td>52.6</td>
<td>60.0</td>
</tr>
<tr>
<td>Brownie</td>
<td>1446</td>
<td>59.0</td>
<td>61.0</td>
<td>58.9</td>
<td>54.2</td>
<td>62.1</td>
</tr>
<tr>
<td>Hobgoblin</td>
<td>189</td>
<td>58.2</td>
<td>64.3</td>
<td>61.4</td>
<td>34.4</td>
<td>75.0</td>
</tr>
<tr>
<td>Serpent of the Flame</td>
<td>356</td>
<td>57.9</td>
<td>57.0</td>
<td>63.5</td>
<td>48.7</td>
<td>45.5</td>
</tr>
<tr>
<td>Selenia Sky</td>
<td>1650</td>
<td>57.8</td>
<td>61.1</td>
<td>58.7</td>
<td>56.0</td>
<td>51.5</td>
</tr>
<tr>
<td>Exploding Dwarf</td>
<td>287</td>
<td>57.5</td>
<td>57.5</td>
<td>60.6</td>
<td>50.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Manticore</td>
<td>824</td>
<td>57.2</td>
<td>66.6</td>
<td>46.0</td>
<td>48.3</td>
<td>37.5</td>
</tr>
<tr>
<td>Flesh Golem</td>
<td>3127</td>
<td>56.6</td>
<td>59.9</td>
<td>56.4</td>
<td>48.3</td>
<td>47.5</td>
</tr>
<tr>
<td>Elemental Phoenix</td>
<td>263</td>
<td>56.3</td>
<td>25.0</td>
<td>66.9</td>
<td>46.6</td>
<td>45.0</td>
</tr>
<tr>
<td>Air Elemental</td>
<td>602</td>
<td>55.8</td>
<td>55.7</td>
<td>58.7</td>
<td>47.6</td>
<td>40.0</td>
</tr>
<tr>
<td>Shin-Lo</td>
<td>90</td>
<td>55.6</td>
<td>73.9</td>
<td>37.0</td>
<td>57.7</td>
<td>57.1</td>
</tr>
<tr>
<td>Cerberus</td>
<td>996</td>
<td>55.0</td>
<td>55.0</td>
<td>57.7</td>
<td>48.6</td>
<td>36.8</td>
</tr>
<tr>
<td>Hydra</td>
<td>463</td>
<td>54.6</td>
<td>46.7</td>
<td>57.8</td>
<td>56.5</td>
<td>45.8</td>
</tr>
<tr>
<td>Imp Bowman</td>
<td>110</td>
<td>54.5</td>
<td>58.3</td>
<td>52.6</td>
<td>64.3</td>
<td>0.0</td>
</tr>
<tr>
<td>Goblin Shaman</td>
<td>599</td>
<td>54.4</td>
<td>52.8</td>
<td>57.2</td>
<td>49.5</td>
<td>45.0</td>
</tr>
<tr>
<td>Xia Seachan</td>
<td>208</td>
<td>54.3</td>
<td>52.5</td>
<td>45.3</td>
<td>63.0</td>
<td>52.2</td>
</tr>
<tr>
<td>Creeping Ooze</td>
<td>3854</td>
<td>54.2</td>
<td>55.4</td>
<td>55.1</td>
<td>49.9</td>
<td>52.5</td>
</tr>
<tr>
<td>Wood Nymph</td>
<td>2043</td>
<td>54.1</td>
<td>57.5</td>
<td>51.5</td>
<td>53.3</td>
<td>46.2</td>
</tr>
<tr>
<td>Centaur</td>
<td>914</td>
<td>54.0</td>
<td>53.1</td>
<td>51.9</td>
<td>57.3</td>
<td>61.4</td>
</tr>
<tr>
<td>Serpentine Soldier</td>
<td>499</td>
<td>53.9</td>
<td>56.2</td>
<td>58.1</td>
<td>45.0</td>
<td>42.3</td>
</tr>
<tr>
<td>The Peakrider</td>
<td>130</td>
<td>53.8</td>
<td>54.8</td>
<td>47.2</td>
<td>65.5</td>
<td>50.0</td>
</tr>
<tr>
<td>Frost Giant</td>
<td>337</td>
<td>53.4</td>
<td>64.8</td>
<td>47.4</td>
<td>51.1</td>
<td>11.1</td>
</tr>
<tr>
<td>Crypt Mancer</td>
<td>120</td>
<td>53.3</td>
<td>45.0</td>
<td>61.4</td>
<td>55.6</td>
<td>44.4</td>
</tr>
<tr>
<td>Highland Archer</td>
<td>581</td>
<td>53.0</td>
<td>49.6</td>
<td>53.0</td>
<td>57.5</td>
<td>50.0</td>
</tr>
<tr>
<td>Kobold Miner</td>
<td>1278</td>
<td>53.0</td>
<td>53.0</td>
<td>55.4</td>
<td>44.5</td>
<td>60.6</td>
</tr>
<tr>
<td>Defender of Truth</td>
<td>561</td>
<td>52.4</td>
<td>46.4</td>
<td>54.6</td>
<td>53.3</td>
<td>60.0</td>
</tr>
<tr>
<td>Angel of Light</td>
<td>146</td>
<td>52.1</td>
<td>25.0</td>
<td>43.8</td>
<td>60.3</td>
<td>57.1</td>
</tr>
<tr>
<td>Pirate Captain</td>
<td>924</td>
<td>51.7</td>
<td>53.5</td>
<td>45.5</td>
<td>57.7</td>
<td>57.6</td>
</tr>
<tr>
<td>Crystal Werewolf</td>
<td>190</td>
<td>51.6</td>
<td>44.1</td>
<td>55.4</td>
<td>54.7</td>
<td>75.0</td>
</tr>
<tr>
<td>Lord Arianthus</td>
<td>1140</td>
<td>51.5</td>
<td>42.4</td>
<td>51.5</td>
<td>55.7</td>
<td>50.0</td>
</tr>
<tr>
<td>Pirate Archer</td>
<td>1300</td>
<td>51.3</td>
<td>50.5</td>
<td>47.8</td>
<td>57.3</td>
<td>57.9</td>
</tr>
<tr>
<td>Magi Sphinx</td>
<td>657</td>
<td>51.3</td>
<td>55.6</td>
<td>50.8</td>
<td>35.9</td>
<td>46.7</td>
</tr>
<tr>
<td>Daria Dragonscale</td>
<td>1650</td>
<td>50.9</td>
<td>56.9</td>
<td>46.1</td>
<td>41.1</td>
<td>22.2</td>
</tr>
<tr>
<td>Undead Priest</td>
<td>718</td>
<td>50.6</td>
<td>43.7</td>
<td>56.2</td>
<td>46.1</td>
<td>45.5</td>
</tr>
<tr>
<td>Lord of Darkness</td>
<td>313</td>
<td>50.5</td>
<td>43.2</td>
<td>49.1</td>
<td>57.3</td>
<td>60.0</td>
</tr>
<tr>
<td>Elven Cutthroat</td>
<td>1906</td>
<td>50.5</td>
<td>48.4</td>
<td>49.6</td>
<td>53.9</td>
<td>56.5</td>
</tr>
<tr>
<td>Mushroom Seer</td>
<td>657</td>
<td>49.9</td>
<td>51.1</td>
<td>48.0</td>
<td>51.8</td>
<td>50.0</td>
</tr>
<tr>
<td>Screaming Banshee</td>
<td>245</td>
<td>49.8</td>
<td>42.7</td>
<td>55.7</td>
<td>51.9</td>
<td>0.0</td>
</tr>
<tr>
<td>Ruler of the Seas</td>
<td>1155</td>
<td>49.6</td>
<td>52.2</td>
<td>48.1</td>
<td>46.9</td>
<td>45.0</td>
</tr>
<tr>
<td>Crustacean King</td>
<td>2100</td>
<td>49.4</td>
<td>47.6</td>
<td>47.1</td>
<td>56.0</td>
<td>50.4</td>
</tr>
<tr>
<td>Cocatrice</td>
<td>1604</td>
<td>49.1</td>
<td>44.4</td>
<td>48.4</td>
<td>55.2</td>
<td>56.8</td>
</tr>
<tr>
<td>Malric Inferno</td>
<td>1293</td>
<td>48.6</td>
<td>44.7</td>
<td>52.2</td>
<td>46.4</td>
<td>44.7</td>
</tr>
<tr>
<td>Talia Firestorm</td>
<td>64</td>
<td>48.4</td>
<td>25.0</td>
<td>50.0</td>
<td>52.0</td>
<td>45.5</td>
</tr>
<tr>
<td>Divine Healer</td>
<td>1735</td>
<td>48.4</td>
<td>44.4</td>
<td>49.6</td>
<td>51.1</td>
<td>58.7</td>
</tr>
<tr>
<td>Stone Golem</td>
<td>269</td>
<td>48.3</td>
<td>45.3</td>
<td>47.1</td>
<td>54.7</td>
<td>44.4</td>
</tr>
<tr>
<td>Spineback Turtle</td>
<td>1509</td>
<td>48.2</td>
<td>50.1</td>
<td>45.8</td>
<td>49.4</td>
<td>56.4</td>
</tr>
<tr>
<td>Lightning Dragon</td>
<td>52</td>
<td>48.1</td>
<td>71.4</td>
<td>48.1</td>
<td>20.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Peacebringer</td>
<td>1062</td>
<td>48.0</td>
<td>44.4</td>
<td>51.4</td>
<td>43.5</td>
<td>50.0</td>
</tr>
<tr>
<td>Silvershield Paladin</td>
<td>1464</td>
<td>48.0</td>
<td>43.5</td>
<td>49.2</td>
<td>50.2</td>
<td>55.0</td>
</tr>
<tr>
<td>Skeleton Assassin</td>
<td>796</td>
<td>47.9</td>
<td>43.6</td>
<td>50.6</td>
<td>48.4</td>
<td>38.9</td>
</tr>
<tr>
<td>Mischievous Mermaid</td>
<td>999</td>
<td>47.8</td>
<td>54.2</td>
<td>43.3</td>
<td>46.6</td>
<td>28.0</td>
</tr>
<tr>
<td>Raging Impaler</td>
<td>44</td>
<td>47.7</td>
<td>53.8</td>
<td>33.3</td>
<td>50.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Lyanna Natura</td>
<td>1949</td>
<td>47.4</td>
<td>47.8</td>
<td>47.4</td>
<td>45.7</td>
<td>52.0</td>
</tr>
<tr>
<td>Fire Demon</td>
<td>339</td>
<td>47.2</td>
<td>38.4</td>
<td>53.8</td>
<td>45.7</td>
<td>35.7</td>
</tr>
<tr>
<td>Feral Spirit</td>
<td>1175</td>
<td>47.1</td>
<td>40.8</td>
<td>45.3</td>
<td>55.7</td>
<td>58.5</td>
</tr>
<tr>
<td>Divine Sorceress</td>
<td>264</td>
<td>47.0</td>
<td>37.3</td>
<td>52.0</td>
<td>47.1</td>
<td>33.3</td>
</tr>
<tr>
<td>Haunted Spirit</td>
<td>1463</td>
<td>46.8</td>
<td>43.2</td>
<td>50.0</td>
<td>44.6</td>
<td>42.9</td>
</tr>
<tr>
<td>Kiara Lightbringer</td>
<td>94</td>
<td>46.8</td>
<td>50.0</td>
<td>40.5</td>
<td>58.3</td>
<td>28.6</td>
</tr>
<tr>
<td>Twisted Jester</td>
<td>1020</td>
<td>46.7</td>
<td>45.0</td>
<td>49.9</td>
<td>38.8</td>
<td>57.1</td>
</tr>
<tr>
<td>Goblin Sorcerer</td>
<td>804</td>
<td>46.6</td>
<td>49.4</td>
<td>45.6</td>
<td>40.9</td>
<td>56.7</td>
</tr>
<tr>
<td>Spineback Wolf</td>
<td>293</td>
<td>46.4</td>
<td>29.2</td>
<td>53.2</td>
<td>44.9</td>
<td>50.0</td>
</tr>
<tr>
<td>Silvershield Knight</td>
<td>488</td>
<td>45.7</td>
<td>51.5</td>
<td>41.9</td>
<td>38.9</td>
<td>60.0</td>
</tr>
<tr>
<td>Clay Golem</td>
<td>352</td>
<td>45.2</td>
<td>46.9</td>
<td>46.3</td>
<td>33.3</td>
<td>66.7</td>
</tr>
<tr>
<td>Tyrus Paladium</td>
<td>1752</td>
<td>45.0</td>
<td>39.8</td>
<td>45.9</td>
<td>48.4</td>
<td>60.0</td>
</tr>
<tr>
<td>Zintar Mortalis</td>
<td>1235</td>
<td>45.0</td>
<td>35.1</td>
<td>49.9</td>
<td>46.7</td>
<td>61.1</td>
</tr>
<tr>
<td>Enchanted Pixie</td>
<td>582</td>
<td>45.0</td>
<td>45.6</td>
<td>42.2</td>
<td>47.9</td>
<td>54.5</td>
</tr>
<tr>
<td>Medusa</td>
<td>1007</td>
<td>45.0</td>
<td>46.5</td>
<td>41.8</td>
<td>52.2</td>
<td>36.4</td>
</tr>
<tr>
<td>Haunted Spider</td>
<td>812</td>
<td>45.0</td>
<td>37.5</td>
<td>50.0</td>
<td>41.5</td>
<td>55.6</td>
</tr>
<tr>
<td>Neb Seni</td>
<td>9</td>
<td>44.4</td>
<td>0.0</td>
<td>50.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Gold Dragon</td>
<td>212</td>
<td>44.3</td>
<td>21.1</td>
<td>45.4</td>
<td>47.2</td>
<td>50.0</td>
</tr>
<tr>
<td>Frozen Soldier</td>
<td>327</td>
<td>44.0</td>
<td>47.4</td>
<td>39.9</td>
<td>47.8</td>
<td>47.1</td>
</tr>
<tr>
<td>Naga Warrior</td>
<td>234</td>
<td>43.2</td>
<td>37.5</td>
<td>37.2</td>
<td>53.2</td>
<td>46.7</td>
</tr>
<tr>
<td>Water Elemental</td>
<td>847</td>
<td>43.1</td>
<td>42.1</td>
<td>43.4</td>
<td>47.3</td>
<td>33.3</td>
</tr>
<tr>
<td>Fire Beetle</td>
<td>372</td>
<td>43.0</td>
<td>41.0</td>
<td>45.5</td>
<td>37.3</td>
<td>54.5</td>
</tr>
<tr>
<td>Alric Stormbringer</td>
<td>2438</td>
<td>42.8</td>
<td>47.1</td>
<td>39.2</td>
<td>44.8</td>
<td>25.6</td>
</tr>
<tr>
<td>Chromatic Dragon</td>
<td>93</td>
<td>41.9</td>
<td>33.3</td>
<td>50.0</td>
<td>39.1</td>
<td>25.0</td>
</tr>
<tr>
<td>Phantom Soldier</td>
<td>92</td>
<td>41.3</td>
<td>25.0</td>
<td>52.9</td>
<td>40.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Sabre Shark</td>
<td>563</td>
<td>41.2</td>
<td>44.6</td>
<td>35.9</td>
<td>46.5</td>
<td>41.4</td>
</tr>
<tr>
<td>Giant Roc</td>
<td>356</td>
<td>40.7</td>
<td>32.2</td>
<td>46.1</td>
<td>42.1</td>
<td>25.0</td>
</tr>
<tr>
<td>Sacred Unicorn</td>
<td>276</td>
<td>40.6</td>
<td>44.8</td>
<td>36.1</td>
<td>40.0</td>
<td>66.7</td>
</tr>
<tr>
<td>Silvershield Archers</td>
<td>361</td>
<td>39.6</td>
<td>41.8</td>
<td>39.4</td>
<td>31.2</td>
<td>100.0</td>
</tr>
<tr>
<td>Sea Genie</td>
<td>465</td>
<td>39.4</td>
<td>40.6</td>
<td>34.3</td>
<td>49.4</td>
<td>16.7</td>
</tr>
<tr>
<td>Stonesplitter Orc</td>
<td>313</td>
<td>39.3</td>
<td>41.1</td>
<td>37.4</td>
<td>41.7</td>
<td>0.0</td>
</tr>
<tr>
<td>Sea Monster</td>
<td>743</td>
<td>38.8</td>
<td>46.2</td>
<td>29.9</td>
<td>22.9</td>
<td>0.0</td>
</tr>
<tr>
<td>Flame Imp</td>
<td>155</td>
<td>38.1</td>
<td>21.4</td>
<td>45.5</td>
<td>39.6</td>
<td>25.0</td>
</tr>
<tr>
<td>Dark Enchantress</td>
<td>116</td>
<td>37.9</td>
<td>34.0</td>
<td>44.2</td>
<td>27.3</td>
<td>0.0</td>
</tr>
<tr>
<td>Minotaur Warrior</td>
<td>234</td>
<td>37.6</td>
<td>28.6</td>
<td>42.2</td>
<td>39.4</td>
<td>33.3</td>
</tr>
<tr>
<td>Skeletal Warrior</td>
<td>131</td>
<td>37.4</td>
<td>34.0</td>
<td>44.8</td>
<td>26.3</td>
<td>0.0</td>
</tr>
<tr>
<td>Grumpy Dwarf</td>
<td>226</td>
<td>37.2</td>
<td>34.7</td>
<td>39.7</td>
<td>30.0</td>
<td>50.0</td>
</tr>
<tr>
<td>Rexxie</td>
<td>142</td>
<td>35.9</td>
<td>41.5</td>
<td>33.8</td>
<td>25.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Cyclops</td>
<td>195</td>
<td>35.4</td>
<td>34.5</td>
<td>35.1</td>
<td>30.8</td>
<td>100.0</td>
</tr>
<tr>
<td>Silvershield Warrior</td>
<td>255</td>
<td>34.1</td>
<td>37.5</td>
<td>33.9</td>
<td>19.4</td>
<td>75.0</td>
</tr>
<tr>
<td>Prismatic Energy</td>
<td>150</td>
<td>34.0</td>
<td>35.6</td>
<td>32.4</td>
<td>33.3</td>
<td>0.0</td>
</tr>
<tr>
<td>Vampire</td>
<td>74</td>
<td>33.8</td>
<td>19.0</td>
<td>35.1</td>
<td>50.0</td>
<td>50.0</td>
</tr>
<tr>
<td>Naga Fire Wizard</td>
<td>55</td>
<td>30.9</td>
<td>37.5</td>
<td>30.4</td>
<td>12.5</td>
<td>0.0</td>
</tr>
<tr>
<td>Pit Ogre</td>
<td>233</td>
<td>30.0</td>
<td>26.7</td>
<td>31.9</td>
<td>37.5</td>
<td>0.0</td>
</tr>
<tr>
<td>Undead Minotaur</td>
<td>29</td>
<td>27.6</td>
<td>12.5</td>
<td>36.8</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Royal Dragon Archer</td>
<td>15</td>
<td>26.7</td>
<td>75.0</td>
<td>0.0</td>
<td>20.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Black Dragon</td>
<td>21</td>
<td>23.8</td>
<td>12.5</td>
<td>37.5</td>
<td>20.0</td>
<td>0.0</td>
</tr>
<tr>
<td>Goblin Mech</td>
<td>242</td>
<td>22.3</td>
<td>25.6</td>
<td>19.6</td>
<td>16.7</td>
<td>0.0</td>
</tr>
<tr>
<td>Animated Corpse</td>
<td>78</td>
<td>21.8</td>
<td>12.9</td>
<td>27.5</td>
<td>28.6</td>
<td>0.0</td>
</tr>
<tr>
<td>Rusty Android</td>
<td>69</td>
<td>18.8</td>
<td>23.5</td>
<td>17.2</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>
<h2 id="Splinter"><a href="#Splinter" class="headerlink" title="Splinter"></a>Splinter</h2><table>
<thead>
<tr>
<th>splinter</th>
<th>n</th>
<th>win ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>Blue/Water</td>
<td>2768</td>
<td>44.6</td>
</tr>
<tr>
<td>Red/Fire</td>
<td>1659</td>
<td>52.0</td>
</tr>
<tr>
<td>Green/Earth</td>
<td>2706</td>
<td>54.0</td>
</tr>
<tr>
<td>White/Life</td>
<td>1976</td>
<td>45.7</td>
</tr>
<tr>
<td>Black/Death</td>
<td>1436</td>
<td>46.6</td>
</tr>
<tr>
<td>Gold/Dragon</td>
<td>3309</td>
<td>54.3</td>
</tr>
</tbody>
</table>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The new legendary summoners are really strong and show a good winning ratio.</p>
<p>Prince Rennyn and Plado Emberstorm show the best winning ratio of all cards. </p>
<p>The standard rare summoner show all an overall winning ratio of under 50%.<br>In order to be able to win some tournaments, having some epic or legendary summoner is a must.</p>
<p>Gold/Dragon, Green/Earth and Blue/Water are the most played splinters. Green/Earth and Gold/Dragon have the highest winning ratio.</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/which-cards-dominate-the-steemmonsters-tournaments" target="_blank" rel="noopener">&#x2018;Which cards dominate the steemmonsters tournaments?&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/witness-update-new-server-with-ubuntu-18-04-is-running-steem-0-20-9/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmVnwwtCBjhz9hLt6uY4DsXrjrdqm3knLB6bTtmAj2YQRB" alt="Witness update: new server with ubuntu 18.04 is running steem 0.20.9">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-03-04T13:11:57.000Z">2019-03-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/witness-category/">witness-category</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 942 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/witness-update-new-server-with-ubuntu-18-04-is-running-steem-0-20-9/">Witness update: new server with ubuntu 18.04 is running steem 0.20.9</a>
            
        </h1>
        <div class="content">
            <p>I had to rent a new server with a bigger hard drive, as the free disc space is shrinking by 0.2G a day and I had only 4G left.</p>
<p>Yesterday, I switched my witness key and the new server is running and signing blocks.<br><img src="https://ipfs.busy.org/ipfs/QmVnwwtCBjhz9hLt6uY4DsXrjrdqm3knLB6bTtmAj2YQRB" alt="image.png"></p>
<p>My old server had a 256G ssd which would be full in around 20 days, so I advice all witnesses who have a server with a 256G drive to check for free space.</p>
<p>There was no Ubuntu 16.04. available f&#xFC;r the new server, so I had to patch the steem source code. You can find more information about it in this <a href="https://steemit.com/witness-category/@holger80/witness-update-new-server-with-512-gb-ssd-and-compile-steem-0-20-9-unter-ubuntu-18-04" target="_blank" rel="noopener">post</a>. I created a gist for my patch: <a href="https://gist.github.com/holgern/e38881ef79ce93006cd5d763869afb29" target="_blank" rel="noopener">https://gist.github.com/holgern/e38881ef79ce93006cd5d763869afb29</a></p>
<h2 id="Step-by-step-introduction-for-setting-up-a-witness-server-Ubuntu-18-04"><a href="#Step-by-step-introduction-for-setting-up-a-witness-server-Ubuntu-18-04" class="headerlink" title="Step by step introduction for setting up a witness server (Ubuntu 18.04)"></a>Step by step introduction for setting up a witness server (Ubuntu 18.04)</h2><h3 id="Install-a-firewall-ufw-and-failtoban"><a href="#Install-a-firewall-ufw-and-failtoban" class="headerlink" title="Install a firewall (ufw) and failtoban"></a>Install a firewall (ufw) and failtoban</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install -y ufw </span><br><span class="line">apt-get install -y fail2ban</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Create-a-new-user-and-disable-login-through-root"><a href="#Create-a-new-user-and-disable-login-through-root" class="headerlink" title="Create a new user and disable login through root"></a>Create a new user and disable login through root</h3><p>I will use <code>newuser</code> as user name in the following. You can chose a different name and replace all <code>newuser</code> with your username.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser newuser</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Now we can edit the ssh config file and disable root login:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/ssh/sshd_config</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>by changing the following parameters:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Port 2020</span><br><span class="line">PermitRootLogin no</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I changed also the ssh port, so that a standard port scan does not work.</p>
<p>Restart the ssh service:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and create a filewall rule:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 2020</span><br><span class="line">ufw enable</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Now, we need to add the user to the sudoers file:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sudoers</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>by adding<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newuser ALL=(ALL) ALL</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Relogin-as-newuser"><a href="#Relogin-as-newuser" class="headerlink" title="Relogin as newuser"></a>Relogin as newuser</h3><p>We can now logout and login as new user.<br>We need now sudo in front of each command.</p>
<h3 id="Install-ntp"><a href="#Install-ntp" class="headerlink" title="Install ntp"></a>Install ntp</h3><p>We need a accurate clock:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-ntp no</span><br><span class="line">sudo apt-get install ntp</span><br><span class="line">sudo ntpq -np</span><br><span class="line">sudo systemctl status ntp</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="zram"><a href="#zram" class="headerlink" title="zram"></a>zram</h3><p>I&#x2019;m using zram on my witness server,  it worked well for me.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y zram-config</span><br><span class="line">sudo sed -i &apos;s|/ 2 /|/ 1 /|g&apos; /usr/bin/init-zram-swapping</span><br><span class="line">sudo systemctl restart zram-config</span><br></pre></td></tr></tbody></table></figure>
<h3 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h3><p>I will also add a swap, so that the system has a fallback solution, when the RAM is not sufficient.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo dd if=/dev/zero of=/swapfile bs=1M count=4096</span><br><span class="line">mkswap /swapfile</span><br><span class="line">echo &quot;/swapfile swap swap defaults 0 0&quot; | sudo tee /etc/fstab</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Mount-the-ramdisk"><a href="#Mount-the-ramdisk" class="headerlink" title="Mount the ramdisk"></a>Mount the ramdisk</h3><p>I set the ram disk to <code>2*64 G + 4 -1 = 131 G</code><br>The size for the fstab is then <code>(131 + 0.5 ) * 1024 =</code>134656</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -o remount,size=134656 /dev/shm</span><br><span class="line">echo &quot;tmpfs   /dev/shm         tmpfs   defaults,noexec,nosuid,size=134656      0  0&quot; | sudo tee /etc/fstab</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Download-the-blockchain"><a href="#Download-the-blockchain" class="headerlink" title="Download the blockchain"></a>Download the blockchain</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://gtg.steem.house/get/blockchain/block_log</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Create-a-steemd-directory-inside-the-newuser-home"><a href="#Create-a-steemd-directory-inside-the-newuser-home" class="headerlink" title="Create a .steemd directory inside the newuser home"></a>Create a .steemd directory inside the newuser home</h3><p>I created the .steemd by running steemd as root<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steemd</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>pressing strg+c and moving it to the new place:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /root/.steemd /home/newuser/</span><br><span class="line">sudo chown -R newuser:newuser /home/newuser/.steemd</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Now we can move the blockchain file into it:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv ~/block_log ~/.steemd/blockchain/</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Changing-the-config-file"><a href="#Changing-the-config-file" class="headerlink" title="Changing the .config file"></a>Changing the .config file</h3><p>You can find my config.ini here:<br><a href="https://gist.github.com/holgern/26cebeab2882d4546c5e0d7a58c90b40" target="_blank" rel="noopener">https://gist.github.com/holgern/26cebeab2882d4546c5e0d7a58c90b40</a></p>
<p>witness and private-key must be edited:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano .steemd/config.ini</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>with<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># name of witness controlled by this node (e.g. initwitness )</span><br><span class="line">witness = &quot;holger80&quot;</span><br><span class="line"></span><br><span class="line"># WIF PRIVATE KEY to be used by one or more witnesses or miners</span><br><span class="line">private-key = 5xxxx</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Create-a-systemd-service"><a href="#Create-a-systemd-service" class="headerlink" title="Create a systemd service"></a>Create a systemd service</h3><p>I&#x2019;m using a systemctl service for running steemd:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/systemd/system/steemd.service</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>with the following content:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=steemd_server</span><br><span class="line">After=network.target  zram-config.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">WorkingDirectory=/home/newuser/.steemd</span><br><span class="line">ExecStart=/usr/bin/steemd --data-dir=/home/newuser/.steemd</span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>For the first run, a replay is necessary. Thus, I change the service file and replace:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecStart=/usr/bin/steemd --data-dir=/home/newuser/.steemd</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecStart=/usr/bin/steemd --data-dir=/home/newuser/.steemd --replay</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Starting-the-service-and-replaying"><a href="#Starting-the-service-and-replaying" class="headerlink" title="Starting the service and replaying"></a>Starting the service and replaying</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl enable steemd.service</span><br><span class="line">sudo systemctl start steemd.service</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Checking-the-log"><a href="#Checking-the-log" class="headerlink" title="Checking the log"></a>Checking the log</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo journalctl -f -u steemd</span><br></pre></td></tr></tbody></table></figure>
<p>which will result in the following output when everything is running and the blockchain is replayed:<br><img src="https://ipfs.busy.org/ipfs/QmTU9gH8vWY6sMXHnz4JL92hTak8rjkG8gZQp9qSJr56zh" alt="image.png"></p>
<h2 id="Pricefeed"><a href="#Pricefeed" class="headerlink" title="Pricefeed"></a>Pricefeed</h2><p>I do not want my active key stored on my server. Thus, most of the price feed toolboxes can not be used.</p>
<p>I will use  beempy pricefeed, which needs only the witness key, which is already stored in the config.ini file.</p>
<p>At first, I create a new file <code>~/update_feed</code><br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">/home/newuser/.local/bin/beempy updatenodes</span><br><span class="line">/home/newuser/.local/bin/beempy witnessfeed holger80 5xxx</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>where 5xx is my witness wif.<br>In order to be able to run this, I need beem to be installed:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip python3-dev build-essential libssl-dev</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Then I install beem locally:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install beem</span><br><span class="line">pip3 install cryptography</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>After logout and login again, <code>`beempy</code> should be available:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which beempy</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>should result in<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/newuser/.local/bin/beempy</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Creating-a-simple-crontab-job-for-running-updating-the-feed-every-6-hours"><a href="#Creating-a-simple-crontab-job-for-running-updating-the-feed-every-6-hours" class="headerlink" title="Creating a simple crontab job for running updating the feed every 6 hours"></a>Creating a simple crontab job for running updating the feed every 6 hours</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></tbody></table></figure>
<p>and enter<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 */6 * * * (sh  /home/newuser/update_feed) &gt;&gt; /tmp/crontab.log 2&gt;&amp;1</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="price-feed-was-sucessfully-updated"><a href="#price-feed-was-sucessfully-updated" class="headerlink" title="price feed was sucessfully updated"></a>price feed was sucessfully updated</h3><p><img src="https://ipfs.busy.org/ipfs/Qmdp1srGShaxSeBT353v8EBjWDZp9i3EJbuJUFBzyRyjU6" alt="image.png"></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/witness-update-new-server-with-ubuntu-18-04-is-running-steem-0-20-9" target="_blank" rel="noopener">&#x2018;Witness update: new server with ubuntu 18.04 is running steem 0.20.9&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/6/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/8/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/6/">6</a></li>
            
            <li><a class="pagination-link is-current" href="/@holger80/page/7/">7</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/8/">8</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/45/">45</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

