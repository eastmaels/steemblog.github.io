
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@holger80/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@holger80/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@holger80/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@holger80/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/witness-update-1-first-unexpected-server-reboot/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmXhdwmKhVBo64eVMPhmfTUjjWjtMaCAWKCzPooeS8PYit" alt="Witness update #1 - first unexpected server reboot">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-08T12:43:30.000Z">2018-06-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/witness/">witness</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 495 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/witness-update-1-first-unexpected-server-reboot/">Witness update #1 - first unexpected server reboot</a>
            
        </h1>
        <div class="content">
            <p></p><center><br><img src="https://ipfs.busy.org/ipfs/QmXhdwmKhVBo64eVMPhmfTUjjWjtMaCAWKCzPooeS8PYit" alt="image.png"><br></center><br>Today I learned that letting a  witness server running 24/7 is quite a challenge job. This morning, my server was not reachable anymore. After contacting the support and managing to power on the server, I saw that the RAID SSD drive was mounted readonly. Thus, all scripts failed and the blockchain file was damaged. I had to start replaying again.<p></p>
<p>At first, I disabled my signing key by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beempy witnessdisable</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>After remounting in write mode, downloading the blockchain file from gtg, I&#x2019;m replaying at the moment.</p>
<p>In the meantime, I wrote some scripts to speed downloading and replaying for the next unexpected reboot. You can find my scripts here:<br><a href="https://github.com/holgern/witness-shm-setup" target="_blank" rel="noopener">https://github.com/holgern/witness-shm-setup</a><br>It is a work in progress.<br>When the replay is finished, I will set my signing key again.</p>
<p>In order to prevent a complete replay, I wrote two scripts, one for backup the ramdisk:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync --quiet --archive --delete --recursive --force /dev/shm/ ${shm_backup_dir}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and one script for restoring it<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount -o remount,size=${shared_file_size} /dev/shm</span><br><span class="line">rsync --quiet --archive ${shm_backup_dir}/ /dev/shm/</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I hope, this will save time and let me start steemd directly after restoring.</p>
<hr>
<h2 id="Witness-rank-and-activity"><a href="#Witness-rank-and-activity" class="headerlink" title="Witness rank and activity"></a>Witness rank and activity</h2><p>My active rank is currently #135. Thanks again for the support! I will sign my first block in about 9 days.</p>
<p>I released a new update for <a href="https://steemit.com/utopian-io/@holger80/update-for-beem-fullnodeupdate-integrated-and-witness-tools-added" target="_blank" rel="noopener">beem</a> and I&#x2019;m very active in the <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">beem-discord server</a>. I&#x2019;ve answered all kind of questions and fixed some bugs in beem.</p>
<p>I&#x2019;ve worked on my new @fullnodeupdate project. This project provides a list of currently working nodes. Currently, It is only used by beem, but it can be used in all steem related libraries, steem-js, python-steem, &#x2026;.. The only requirement is that the library understand json and can read json_metadata from an account.</p>
<p>I&#x2019;m currently spending my entire free time on both projects.</p>
<hr>
<p>If you like what I&#x2019;m doing, please consider @holger80 as one of your witnesses. You can use <a href="https://v2.steemconnect.com/sign/account-witness-vote?witness=holger80&amp;approve=1" target="_blank" rel="noopener">steemconnect.com for approving your vote</a> or go to <a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> and enter my name into the vote field:</p>
<p></p><center><br><img src="https://ipfs.busy.org/ipfs/QmWdfhuztZaJQkttRRhajrnTAwxUbxz4UoHdhfoJi2Ze9p" alt="image.png"></center><p></p>
<hr>
<ul>
<li><a href="https://steemit.com/witness-category/@holger80/robust-price-feed-publishing-with-beempy" target="_blank" rel="noopener">Robust price feed publishing with beempy</a></li>
<li><a href="https://steemit.com/witness-category/@holger80/measuring-seed-node-ping-times-with-python" target="_blank" rel="noopener">Measuring seed-node ping times with python</a></li>
<li><a href="https://steemit.com/witness-category/@holger80/my-witness-application-holger80" target="_blank" rel="noopener">My Witness Application - holger80</a></li>
</ul>
<hr>
<p><a href="https://pixabay.com/en/error-www-keyboard-tap-type-in-102074/" target="_blank" rel="noopener">Image source</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/witness-update-1-first-unexpected-server-reboot" target="_blank" rel="noopener">&#x2018;Witness update #1 - first unexpected server reboot&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/robust-price-feed-publishing-with-beempy/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmNooQbP5ekXr4iXGcQj4WR3YRndq1Q12AofUh1tky1FmA" alt="Robust price feed publishing with beempy">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-07T14:11:30.000Z">2018-06-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/witness-category/">witness-category</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 576 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/robust-price-feed-publishing-with-beempy/">Robust price feed publishing with beempy</a>
            
        </h1>
        <div class="content">
            <p>As you may read in my last <a href="https://steemit.com/utopian-io/@holger80/update-for-beem-fullnodeupdate-integrated-and-witness-tools-added" target="_blank" rel="noopener">beem update</a>, I released version 0.19.36. The command line tool <code>beempy</code> has now a robust price feed publish function for witnesses.</p>
<h2 id="What-does-robust-mean"><a href="#What-does-robust-mean" class="headerlink" title="What does robust mean?"></a>What does robust mean?</h2><p>The other available price feed tools have the problem that a working full-node has to be set. Otherwise, the feed cannot be broadcasted. Robust means that broadcasting is always possible, no matter if all but one full node are failing.</p>
<h2 id="Why-is-beempy-robust"><a href="#Why-is-beempy-robust" class="headerlink" title="Why is  beempy robust?"></a>Why is  <code>beempy</code> robust?</h2><p><code>beempy</code> can be used together with updatenodes, which receives an hourly updated full-node configuration. You can see the hourly account updates here: <a href="https://steemd.com/@fullnodeupdate" target="_blank" rel="noopener">https://steemd.com/@fullnodeupdate</a></p>
<p><img src="https://ipfs.busy.org/ipfs/QmNooQbP5ekXr4iXGcQj4WR3YRndq1Q12AofUh1tky1FmA" alt="image.png"></p>
<p><code>beempy updatenodes</code> fetches the actual node configuration and is building a score. All nodes with positive score are than set as default nodes.<br><img src="https://ipfs.busy.org/ipfs/QmaRhtWUKKXmCb5tirDRgAXkgDp7bzGyFQryqpNEpTH9sR" alt="image.png"></p>
<h2 id="Price-feed-publishing"><a href="#Price-feed-publishing" class="headerlink" title="Price feed publishing"></a>Price feed publishing</h2><p>The price feed can be published with <code>beempy witnessfeed</code>.  <code>--support-peg</code> can be set to support peg. If not set, quote is always 1 STEEM.</p>
<p>The base price is calculated from btc_usd and steem_usd prices similar to the conductor from @furion. It uses for BTC_USD<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;https://api.bitfinex.com/v1/pubticker/BTCUSD&quot;,</span><br><span class="line">&quot;https://api.gdax.com/products/BTC-USD/ticker&quot;,</span><br><span class="line">&quot;https://api.kraken.com/0/public/Ticker?pair=XBTUSD&quot;,</span><br><span class="line">&quot;https://www.okcoin.com/api/v1/ticker.do?symbol=btc_usd&quot;,</span><br><span class="line">&quot;https://www.bitstamp.net/api/v2/ticker/btcusd/&quot;,</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and for STEEM_BTC:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;https://poloniex.com/public?command=returnTicker&quot;,</span><br><span class="line">&quot;https://bittrex.com/api/v1.1/public/getmarketsummary?market=BTC-STEEM&quot;,</span><br><span class="line">&quot;https://api.binance.com/api/v1/ticker/24hr&quot;,</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>SBD_USD (only needed when supporting PEG)  is calculated from the internal market.</p>
<h2 id="Installing-and-setting-up-beempy"><a href="#Installing-and-setting-up-beempy" class="headerlink" title="Installing and setting up beempy"></a>Installing and setting up beempy</h2><p>The alternative package installer <code>pip</code>/<code>pip3</code> for python3 is needed. It can be installed on ubuntu by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In the next step, beem is installed for the current user by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install beem -U --user</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In the first step, a new wallet should be created:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beempy createwallet</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The active key of the witness account has to be stored in the wallet:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beempy addkey</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>We need to know where <code>beempy</code> is installed:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which beempy</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I wrote a small script for unlocking the wallet, updating the nodes and publishing a price feed:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">export UNLOCK=&apos;secret_password&apos;</span><br><span class="line">/home/holger80/.local/bin/beempy updatenodes</span><br><span class="line">/home/holger80/.local/bin/beempy witnessfeed holger80</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I saved this script as <code>update_feed</code> and  added it to a crontab by  running<code>crontab -e</code> and entering:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 * * * * (sh /home/holger80/update_feed) &gt;&gt; /tmp/crontab.log 2&gt;&amp;1</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>You can check <code>/etc/crontab.log</code> if everything is working fine.</p>
<hr>
<p>If you like what I&#x2019;m doing, please consider @holger80 as one of your witnesses. You can use <a href="https://v2.steemconnect.com/sign/account-witness-vote?witness=holger80&amp;approve=1" target="_blank" rel="noopener">steemconnect.com for approve your vote</a> or go to <a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> and enter my name into the vote field:</p>
<p></p><center><br><img src="https://ipfs.busy.org/ipfs/QmWdfhuztZaJQkttRRhajrnTAwxUbxz4UoHdhfoJi2Ze9p" alt="image.png"></center><p></p>
<hr>
<ul>
<li><a href="https://steemit.com/witness-category/@holger80/measuring-seed-node-ping-times-with-python" target="_blank" rel="noopener">Measuring seed-node ping times with python</a></li>
<li><a href="https://steemit.com/witness-category/@holger80/my-witness-application-holger80" target="_blank" rel="noopener">My Witness Application - holger80</a></li>
</ul>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/robust-price-feed-publishing-with-beempy" target="_blank" rel="noopener">&#x2018;Robust price feed publishing with beempy&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-beem-fullnodeupdate-integrated-and-witness-tools-added/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="Update for beem - fullnodeupdate integrated and witness tools added">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-06T21:19:21.000Z">2018-06-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 minutes read (About 1202 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-beem-fullnodeupdate-integrated-and-witness-tools-added/">Update for beem - fullnodeupdate integrated and witness tools added</a>
            
        </h1>
        <div class="content">
            <h4 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h4><p> <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></p>
<p></p><center><img src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="beem-logo.png"><br></center><br><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> is a python library for steem. beem has now 500 unit tests and a coverage of 78 %. The current version is 0.19.36.<br>I created a discord channel for answering a question or discussing beem: <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">https://discord.gg/4HM592V</a><p></p>
<h3 id="Bug-fix-for-Cannot-fetch-account-history-of-early-created-accounts-block-number-estimation-gives-negative-values"><a href="#Bug-fix-for-Cannot-fetch-account-history-of-early-created-accounts-block-number-estimation-gives-negative-values" class="headerlink" title="Bug fix for: Cannot fetch account history of early created accounts, block number estimation gives negative values"></a>Bug fix for: Cannot fetch account history of early created accounts, block number estimation gives negative values</h3><ul>
<li>The bug was described in detail <a href="https://steemit.com/utopian-io/@stmdev/beem-cannot-fetch-account-history-of-early-created-accounts-block-number-estimation-gives-negative-values" target="_blank" rel="noopener">here</a>.</li>
<li>Fix in <a href="https://github.com/holgern/beem/commit/6f305700af83a1a5c550245458eefa3eb94cdccc" target="_blank" rel="noopener">commit 6f30570</a></li>
<li>The bug could be fixed by allowing only positive block_numbers inside the block number estimation function.</li>
</ul>
<h3 id="Obtain-a-ranked-full-API-node-list-from-fullnodeupdate"><a href="#Obtain-a-ranked-full-API-node-list-from-fullnodeupdate" class="headerlink" title="Obtain a ranked full API node list from @fullnodeupdate"></a>Obtain a ranked full API node list from @fullnodeupdate</h3><p>I created the new account <a href="https://steemd.com/@fullnodeupdate" target="_blank" rel="noopener">fullnodeupdate</a> and I&#x2019;m sending an account update every hour with JSON Metadata including:</p>
<ul>
<li><code>nodes</code></li>
<li><code>failing_nodes</code></li>
<li><code>report</code></li>
<li><code>parameter</code></li>
</ul>
<p>I will publish a post about this project and releasing the source code.</p>
<p>I created a <code>update_nodes</code> function in the <code>NodeList</code> class. First, I&#x2019;m extracting the json-metadata:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">account = Account(&quot;fullnodeupdate&quot;, steem_instance=steem)</span><br><span class="line">metadata = json.loads(account[&quot;json_metadata&quot;])</span><br><span class="line">report = metadata[&quot;report&quot;]</span><br><span class="line">failing_nodes = metadata[&quot;failing_nodes&quot;]</span><br><span class="line">parameter = metadata[&quot;parameter&quot;]</span><br><span class="line">benchmarks = parameter[&quot;benchmarks&quot;]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The obtained data are used to generate a score for each working node.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from beem.nodelist import NodeList</span><br><span class="line">nodes = NodeList()</span><br><span class="line">nodes.update_nodes()</span><br><span class="line">print(nodes.get_nodes())</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>returns the ranked nodes:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&apos;wss://rpc.steemviz.com&apos;, &apos;wss://steemd.pevo.science&apos;, &apos;wss://steemd.minnowsupportproject.org&apos;, &apos;wss://steemd.privex.io&apos;, &apos;wss://rpc.buildteam.io&apos;, &apos;wss://gtg.steem.house:8090&apos;, &apos;https://rpc.buildteam.io&apos;, &apos;https://api.steemit.com&apos;, &apos;https://api.steem.house&apos;, &apos;https://rpc.steemviz.com&apos;, &apos;https://gtg.steem.house:8090&apos;, &apos;https://steemd.pevo.science&apos;, &apos;https://steemd.minnowsupportproject.org&apos;, &apos;https://rpc.curiesteem.com&apos;]</span><br><span class="line">`</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I&#x2019;m using <code>update_nodes()</code> in the beginning of each unit test now and it worked great.</p>
<h3 id="beempy-nodesupdate"><a href="#beempy-nodesupdate" class="headerlink" title="beempy nodesupdate"></a>beempy nodesupdate</h3><p><img src="https://ipfs.busy.org/ipfs/QmW94J3aSGXh6jjSWDBq1Fw1PFyDsRyS6au4FxxFRgvFd4" alt="image.png"><br><code>beempy nodesupdate --show</code><br><img src="https://ipfs.busy.org/ipfs/QmUuE9C74Gix9hV5o25yF8ZeiREWFLHEEasf4exwmjLqpS" alt="image.png"><br>Nodes with negative scores will not be considered.</p>
<h3 id="beempy-keygen"><a href="#beempy-keygen" class="headerlink" title="beempy keygen"></a>beempy keygen</h3><p>This command creates a new random brain key, which is not related to any account. This can be used as witness signing key.<br><img src="https://ipfs.busy.org/ipfs/QmaqM1fwEjjWN5qTCj7G3YCxhg6FCmBHNCPtXxVzJvYsrQ" alt="image.png"></p>
<h3 id="beempy-witnessfeed"><a href="#beempy-witnessfeed" class="headerlink" title="beempy witnessfeed"></a>beempy witnessfeed</h3><p><img src="https://ipfs.busy.org/ipfs/QmVii9o4QipC1tBvQ4yJ38MUwDSjnkXiHBReTngmKhRLYt" alt="image.png"></p>
<p>Uses the exchange API calls to determine the current BTC_USD and the STEEM_USD prices and calculates the base base from it. The quote can be either &#x201C;1 STEEM&#x201D;, or when <code>support-peg</code> is set, it will be inverse of the SBD_USD price. This price is calculated from the internal STEEM_SBD market.<br>I used source code from <a href="https://github.com/Netherdrake/conductor/blob/master/conductor/markets.py" target="_blank" rel="noopener">https://github.com/Netherdrake/conductor/blob/master/conductor/markets.py</a>.</p>
<p><code>beempy witnessfeed holger80</code><br><img src="https://ipfs.busy.org/ipfs/QmViJigMk7xR9kiySKBAwUpyM8RARE4j7Kit1yF3JrXuT4" alt="image.png"></p>
<h3 id="beempy-witness"><a href="#beempy-witness" class="headerlink" title="beempy witness"></a>beempy witness</h3><p>This command shows information about a witness.<br><code>beempy witness holger80</code><br><img src="https://ipfs.busy.org/ipfs/QmYGgLSnu2VDWfzMhTNNwedVnaUdj2o7P3htxZnMiFqfBM" alt="image.png"><br>Added information:</p>
<ul>
<li>rank: witness rank</li>
<li>active_rank: active witness rank</li>
<li><code>virtual_time_diff</code>: Difference between <code>virtual_scheduled_time</code> and <code>current_virtual_time</code></li>
<li><code>block_diff_est</code>: <code>virtual_time_diff</code>*<code>int(witness_schedule[&quot;num_scheduled_witnesses&quot;]) / (lap_length / (vote_sum + 1))</code>, where <code>lap_length</code> = <code>config[&quot;VIRTUAL_SCHEDULE_LAP_LENGTH2&quot;]</code> and vote_sum is the summed up votes of the first 250 witnesses.</li>
<li><code>time_diff_est</code> : <code>block_diff_est</code> * 3 seconds</li>
</ul>
<p>The <code>virtual_scheduled_time</code> increases every 21 block by  <code>VIRTUAL_SCHEDULE_LAP_LENGTH2/(vote_sum + 1)</code>. I used this information, for a time estimation of the next block signing of a witness.</p>
<h3 id="beempy-witnessenable"><a href="#beempy-witnessenable" class="headerlink" title="beempy witnessenable"></a>beempy witnessenable</h3><p>Can be used to enable a disabled witness or for a fall-back to a second witness server with a different signing key.</p>
<h3 id="beempy-witnessdisable"><a href="#beempy-witnessdisable" class="headerlink" title="beempy witnessdisable"></a>beempy witnessdisable</h3><p>Disables a witness by replacing the signing key by  <code>STM1111111111111111111111111111111114T1Anm</code>.</p>
<h3 id="Commit-history"><a href="#Commit-history" class="headerlink" title="Commit history"></a>Commit history</h3><h4 id="Fixes-17"><a href="#Fixes-17" class="headerlink" title="Fixes #17"></a>Fixes #17</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/6f305700af83a1a5c550245458eefa3eb94cdccc" target="_blank" rel="noopener">commit 6f30570</a></li>
</ul>
<h4 id="Several-Bug-fixes"><a href="#Several-Bug-fixes" class="headerlink" title="Several Bug fixes"></a>Several Bug fixes</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/e7159e255b3b04f861e9161222ae3373ab87a6b1" target="_blank" rel="noopener">commit e7159e2</a></li>
<li>added use_stored_data to all steem function that uses constants e.g. get_config()</li>
<li>Fix author for steem.post(), when a account object is entered</li>
<li>**kwargs added to all broadcast function of steem<h5 id="Account"><a href="#Account" class="headerlink" title="Account"></a>Account</h5></li>
<li>fix desribtion of update_account_profile</li>
<li>added update_account_metadata</li>
</ul>
<h4 id="More-bug-fixes"><a href="#More-bug-fixes" class="headerlink" title="More bug fixes"></a>More bug fixes</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/b4f8cfb49c7ab64240291de531b6261b28a762fc" target="_blank" rel="noopener">commit b4f8cfb</a><h5 id="Votes"><a href="#Votes" class="headerlink" title="Votes"></a>Votes</h5><ul>
<li>fix ActiveVotes when no vote are made for a comment<h5 id="Steemconnect"><a href="#Steemconnect" class="headerlink" title="Steemconnect"></a>Steemconnect</h5></li>
<li>Try to fix for python 2.7<br>Fix test_wallet unit test</li>
</ul>
</li>
</ul>
<h4 id="More-improvements"><a href="#More-improvements" class="headerlink" title="More improvements"></a>More improvements</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/5f156fdf5a75367c32d85efb02e456abfa2719f6" target="_blank" rel="noopener">commit 5f156fd</a></li>
<li>Raise OfflineHasNoRPCException in offline mode, when rpc should be used</li>
<li>Unit test for beneficiaries</li>
<li>Fixes bug for python 2.7 in blockchain</li>
</ul>
<h4 id="Use-fullnodeupdate-for-updating-the-node-score-in-all-unit-tests"><a href="#Use-fullnodeupdate-for-updating-the-node-score-in-all-unit-tests" class="headerlink" title="Use fullnodeupdate for updating the node score in all unit tests"></a>Use fullnodeupdate for updating the node score in all unit tests</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/7a9fe77c99ab0722535055c57ea8b4cd37042786" target="_blank" rel="noopener">commit 7a9fe77</a><h5 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>updatenodes added, this command can be used to update the nodes list<h5 id="NodeList"><a href="#NodeList" class="headerlink" title="NodeList"></a>NodeList</h5></li>
<li>update_nodes added, this command reads the metadata from fullnodeupdate, which contain newest nodes information</li>
<li>add option wss and https fo get_nodes<h5 id="Unit-tests"><a href="#Unit-tests" class="headerlink" title="Unit tests"></a>Unit tests</h5></li>
<li>use updatenodes in all tests</li>
</ul>
<h4 id="Add-more-witness-commands-to-cli"><a href="#Add-more-witness-commands-to-cli" class="headerlink" title="Add more witness commands to cli"></a>Add more witness commands to cli</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/6b89da14031a9b16a942eea37b64edb950b73874" target="_blank" rel="noopener">commit 6b89da1</a><h5 id="CLI-1"><a href="#CLI-1" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>add witnessenable, witnessdisable, witnessfeed and witness<h5 id="Vote"><a href="#Vote" class="headerlink" title="Vote"></a>Vote</h5></li>
<li>fix reputation</li>
</ul>
<h4 id="Huge-witness-update"><a href="#Huge-witness-update" class="headerlink" title="Huge witness update"></a>Huge witness update</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/709efc7994e74c3b2322ad7c2c37aa571c42f5b8" target="_blank" rel="noopener">commit 709efc7</a><h5 id="Market"><a href="#Market" class="headerlink" title="Market"></a>Market</h5></li>
<li>_weighted_average, btc_usd_ticker, steem_btc_ticker and steem_usd_implied added<h5 id="Witness"><a href="#Witness" class="headerlink" title="Witness"></a>Witness</h5></li>
<li>get_votes_sum added to witnesses object<h5 id="Graphenerpc"><a href="#Graphenerpc" class="headerlink" title="Graphenerpc"></a>Graphenerpc</h5></li>
<li>fix handling of WebSocketConnectionClosedException<h5 id="CLI-2"><a href="#CLI-2" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>witnessfeed: uses the new market ticker to calculate the current steem_usd price as base. When using support-peg the sbd_usd price is calculated from the internal ticker and used for quote.</li>
<li>Witness: shows the rank and active rank (when it is below 250). virtual_time_to_block_num is calculated from num_scheduled_witnesses, VIRTUAL_SCHEDULE_LAP_LENGTH2 and vote_sum. This is then used to estimate the next block producing time.</li>
<li>witnesses uses a proxy now, when set.</li>
</ul>
<h4 id="Add-vote-count-and-remove-suppress-import"><a href="#Add-vote-count-and-remove-suppress-import" class="headerlink" title="Add vote count and remove suppress import"></a>Add vote count and remove suppress import</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/46f0a76a9f33863aee7765b74bdb297020f75de2" target="_blank" rel="noopener">commit 46f0a76</a></li>
</ul>
<h4 id="keygen-added-and-parasewif-improved"><a href="#keygen-added-and-parasewif-improved" class="headerlink" title="keygen added and parasewif improved"></a>keygen added and parasewif improved</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/cb05ee5e4f348dccde7d7cf4f3f0c3abdd02634d" target="_blank" rel="noopener">commit cb05ee5</a></li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>If you like what I&#x2019;m doing, please consider @holger80 as one of your witnesses (<a href="https://v2.steemconnect.com/sign/account-witness-vote?witness=holger80&amp;approve=1" target="_blank" rel="noopener">steemconnect</a>). </p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-beem-fullnodeupdate-integrated-and-witness-tools-added" target="_blank" rel="noopener">&#x2018;Update for beem - fullnodeupdate integrated and witness tools added&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/measuring-seed-node-ping-times-with-python/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmP3GVKjv8Grj44JT4EBogR6ofrBFFuoPBRvcsNGxNUBXt" alt="Measuring seed-node ping times with python">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-06T06:45:54.000Z">2018-06-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/witness-category/">witness-category</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 385 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/measuring-seed-node-ping-times-with-python/">Measuring seed-node ping times with python</a>
            
        </h1>
        <div class="content">
            <p>Almost every tutorial for setting up a witness node mention that it is important to ping all seed-nodes and add the fastest nodes to the <code>config.ini</code> file. For improving this process, I wrote a small python script, which:</p>
<ul>
<li>measure ping times</li>
<li>sort the seed nodes</li>
<li>exclude slow nodes</li>
<li>creates entries for the  <code>config.ini</code> file</li>
</ul>
<p>You can find the script here <a href="https://github.com/holgern/steem-witness-tools" target="_blank" rel="noopener">https://github.com/holgern/steem-witness-tools</a>. Steps for running the script on your witness server:</p>
<ol>
<li>install python3 and pip3</li>
<li>install ping3 by  <code>pip3 install ping3 --user</code> </li>
<li>cloning my git:   <code>git clone https://github.com/holgern/steem-witness-tools.git</code></li>
<li>You may copy the newest seednodes.txt from <a href="https://github.com/steemit/steem/blob/master/doc/seednodes.txt" target="_blank" rel="noopener">https://github.com/steemit/steem/blob/master/doc/seednodes.txt</a></li>
<li>Enter the sort_seed_nodes directory (<code>cd sort_seed_nodes</code>)</li>
<li>Run the script by   <code>sudo python3 ping_seed_nodes.py</code> as root</li>
<li>Copy the result directly to your <code>config.ini</code></li>
</ol>
<h2 id="Script-arguments"><a href="#Script-arguments" class="headerlink" title="Script arguments"></a>Script arguments</h2><p><img src="https://ipfs.busy.org/ipfs/QmP3GVKjv8Grj44JT4EBogR6ofrBFFuoPBRvcsNGxNUBXt" alt="image.png"></p>
<p>It is possible to modify the maximum allowed ping time in milliseconds. Default is 100 ms, which means that all seed nodes are included with a ping time better than 100 ms. In the following example, the maximum time is set 50 milliseconds:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python3 ping_seed_nodes.py  --maxdelay 50</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It also possible to use a different seed-node.txt file as source. It must follow the same structure as the seed-node.txt file.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">seed-east.steemit.com:2001          # steemit</span><br><span class="line">seed-url:port                       # owner</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The <code>input</code>parameter allows to use different files as source:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python3 ping_seed_nodes.py --input my-seed-nodes.txt</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p><img src="https://ipfs.busy.org/ipfs/QmR2eytxv2pjcZyje6mbmvcHpEhK9sEngFpq3Xf47LiMuM" alt="image.png"></p>
<p>The results are also stored in <code>sorted_seednodes_6_6_2018.txt</code>, the name is adapted to the date.</p>
<hr>
<p>If you like what I&#x2019;m doing, please consider @holger80 as one of your witnesses. You can use <a href="https://v2.steemconnect.com/sign/account-witness-vote?witness=holger80&amp;approve=1" target="_blank" rel="noopener">steemconnect.com for approve your vote</a> or go to <a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> and enter my name into the vote field:</p>
<center><br><img src="https://ipfs.busy.org/ipfs/QmWdfhuztZaJQkttRRhajrnTAwxUbxz4UoHdhfoJi2Ze9p" alt="image.png"><br></center>

<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/measuring-seed-node-ping-times-with-python" target="_blank" rel="noopener">&#x2018;Measuring seed-node ping times with python&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/my-witness-application-holger80/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmUpcGNjUnzG5GtyBaePHnNEkYG5zux5GhXRypk5d6qhf4" alt="My Witness Application - holger80">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-05T18:37:30.000Z">2018-06-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/witness-category/">witness-category</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 611 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/my-witness-application-holger80/">My Witness Application - holger80</a>
            
        </h1>
        <div class="content">
            <p>You know me probably as developer of <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a>, an alternative python library for steem. I joined steem in 29.12.2017. In the first two months, I learned the fundamentals of steem and I was searching my niche.</p>
<p>I always wanted to write a huge python library and after studying the source code of python-steem, I knew that I will create an alternative python library for steem. Since the 14. Februar, I worked every free hour on beem, the alternative python library. I took the source code from <a href="https://github.com/bitshares/python-bitshares" target="_blank" rel="noopener">python-bitshares</a> and added 12944 lines of code. In total, I pushed 450 commits in which I added 70796 lines and in which I removed 49246 lines of python code and documentation.</p>
<center><br><img src="https://ipfs.busy.org/ipfs/QmUpcGNjUnzG5GtyBaePHnNEkYG5zux5GhXRypk5d6qhf4" alt="image.png"><br>(holgern is my github account name)<br></center>

<p>I discovered utopian-io and published regularly new post about newly added features there.</p>
<p>Currently, I&#x2019;m working on the 36. release of beem and I&#x2019;ve started a new project in which a pushed every hour updates about the full-node state to the account @fullnodeupdate. The full node state can be obtained by reading the <code>json_metadata</code> of this account. I will post in more detail about this project soon.</p>
<h2 id="My-commitment-to-steem"><a href="#My-commitment-to-steem" class="headerlink" title="My commitment to steem"></a>My commitment to steem</h2><p>In the last 5 month, I invested a huge amount of my saving into steem. Until now, I never powered down. I&#x2019;m trying to support all developer who posts for utopian-io by upvoting their content.<br>As I mentioned, I develop beem and I&#x2019;m trying to help all steemit user, who want to use my library.</p>
<p>You can see my latest post about beem developement here: <a href="https://steemit.com/utopian-io/@holger80/update-for-beem-steemconnect-integration-and-bug-fixes" target="_blank" rel="noopener">https://steemit.com/utopian-io/@holger80/update-for-beem-steemconnect-integration-and-bug-fixes</a>.</p>
<p>I&#x2019;m also visiting often the official <a href="https://github.com/steemit/steem" target="_blank" rel="noopener">steem github</a>. I wrote <a href="https://steemit.com/steemit/@holger80/current-state-of-hardfork-0-20-0-development-30-05-2018" target="_blank" rel="noopener">Current state of hardfork 0.20.0 development - 30.05.2018</a> and found a bug in the steem source code (<a href="https://github.com/steemit/steem/issues/1764" target="_blank" rel="noopener">#1764</a>) which leads to <a href="https://github.com/steemit/steem/issues/2515" target="_blank" rel="noopener">#2515</a>.</p>
<p>I published a complete appbase-api call reference in this post: <a href="https://steemit.com/appbase/@holger80/api-methods-list-for-appbase" target="_blank" rel="noopener">https://steemit.com/appbase/@holger80/api-methods-list-for-appbase</a>.</p>
<h2 id="My-witness-server-setup"><a href="#My-witness-server-setup" class="headerlink" title="My witness server setup"></a>My witness server setup</h2><p>I rented a server with the following specification:</p>
<ul>
<li>64 GB DDR4 RAM</li>
<li>Intel&#xAE; Core&#x2122; i7-6700 Quad-Core</li>
<li>1 GBit/s</li>
<li>2 x 240 GB SATA 6 Gb/s SSD </li>
</ul>
<p>I installed Ubuntu 16.04 and I&#x2019;m using the stable branch of the steem github. I did the following steps to assure that everything will run smoothly:</p>
<ul>
<li>ssh port is changed</li>
<li>root login is disabled</li>
<li>fail2ban is installed</li>
<li>4 GB swap partition is created</li>
<li>zram compression is active</li>
<li>I created a 131GB ram partition (2*RAM + SWAB - 1 GB)</li>
<li>I compiled and installed steemd and cli_wallet (<code>LOW_MEMORY_NODE=ON</code>, <code>CLEAR_VOTES=ON</code>, <code>SKIP_BY_TX_ID=ON</code> and  <code>CMAKE_BUILD_TYPE=Release</code>)</li>
<li>I checked and added seed-nodes to the config file</li>
<li>I replayed the blockchain and installed a systemd service for steemd</li>
<li>Created a python pricefeed script which is started by crontab</li>
</ul>
<p>Everything is running now and  40 GB RAM are used at the moment.</p>
<h2 id="Vote"><a href="#Vote" class="headerlink" title="Vote"></a>Vote</h2><p>If you want to support me, you can vote for me as one of your witnesses by entering my name in the voting field for lower ranked witnesses in <a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a></p>
<center><br><img src="https://ipfs.busy.org/ipfs/QmfPda9nr1v5hydw9BNrUTLnXuba9KBroXYvbyuYFUqKsw" alt="image.png"><br></center>

<p>You can also vote via steemconnect: <a href="https://v2.steemconnect.com/sign/account_witness_vote?witness=holger80&amp;approve=1" target="_blank" rel="noopener">https://v2.steemconnect.com/sign/account_witness_vote?witness=holger80&amp;approve=1</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/my-witness-application-holger80" target="_blank" rel="noopener">&#x2018;My Witness Application - holger80&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/task-request-for-beem-bug-hunting/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="Task request for beem: bug-hunting">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-04T09:50:39.000Z">2018-06-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 630 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/task-request-for-beem-bug-hunting/">Task request for beem: bug-hunting</a>
            
        </h1>
        <div class="content">
            <h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p> <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></p>
<center><img src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="beem-logo.png"></center>

<h3 id="About-beem"><a href="#About-beem" class="headerlink" title="About beem"></a>About beem</h3><p>beem is an unofficial python library for steem, which I created from scratch by forking <a href="https://github.com/bitshares/python-bitshares" target="_blank" rel="noopener">python-bitshares</a>. The library name is derived from a beam maschine, similar to the analogy between steem and steam. A documentation about beem can be found here: <a href="http://beem.readthedocs.io/en/latest/" target="_blank" rel="noopener">http://beem.readthedocs.io/en/latest/</a>.</p>
<p>I pushed the first commit on the  14 Feb. 2018 to github. Since then, the code base was growing from 5288 lines of python code to 18232 lines of code.</p>
<center><br><img src="https://ipfs.busy.org/ipfs/QmQzUFJXpTJ3kfcuz8oQE7c7HWcgT1FoPyiuHdL6vYjWD1" alt="image.png"><br></center>

<p>The current version is 0.19.35 and it contains the following features:</p>
<ul>
<li>RPC interface (ttps and websocket) for full API nodes</li>
<li>Node failure handling</li>
<li>Support for almost all steem API calls</li>
<li>JSON-based blockchain objects (accounts, votes, comments, blocks, prices, markets, etc)</li>
<li>a simple to use yet powerful API</li>
<li>transaction construction and signing</li>
<li>appbase ready</li>
<li>steemconnect v2 integration</li>
<li>it&#x2019;s own (bip32-encrypted) wallet for key and token storage</li>
<li>command line tool beempy</li>
</ul>
<p>Although the total test coverage is on a good level (78% currently), it is not everything covered. High code coverage does also not mean that the code cannot contain bugs anymore. It shows that the code can run without error and returns the predefined output for certain input data.</p>
<center><br><img src="https://ipfs.busy.org/ipfs/QmVWxrN9fZBfGnevMVXdZ27DxAqLw8vPu94ofm1ngbe8Sm" alt="image.png"><br></center>

<p>Manual testing remains very important for beem, due to the high number of code lines and the huge functionality which beem has to offer. So, I&#x2019;m asking everyone to help me improving beem, by finding bugs in beem.</p>
<h3 id="Details-Components"><a href="#Details-Components" class="headerlink" title="Details /  Components"></a>Details /  Components</h3><p>This task request is about finding bugs inside the python library beem.<br>This includes all function inside the following python modules:</p>
<ul>
<li>beem</li>
<li>beemapi</li>
<li>beembase</li>
<li>beemgraphenebase</li>
</ul>
<p>The request is not about errors that occurred in installing dependent python libraries (e.g. scrypt). </p>
<h3 id="Content-of-a-good-bug-hunting-post"><a href="#Content-of-a-good-bug-hunting-post" class="headerlink" title="Content of a good bug hunting post"></a>Content of a good bug hunting post</h3><p>A good bug hunting post must contain the following sections:</p>
<h4 id="Expected-behavior"><a href="#Expected-behavior" class="headerlink" title="Expected behavior"></a>Expected behavior</h4><p>Please describe in detail about the expected behavior. &#x201C;It must return a value&#x201D;, or similar platitudes are not sufficient. After reading this section, it must be clear, what the expected behavior is. This helps me to understand the described error. </p>
<ul>
<li>Example (not related to beem):<br>The <code>int_sum</code> function should return the sum of two <code>integer</code> numbers.</li>
</ul>
<h4 id="Actual-behavior"><a href="#Actual-behavior" class="headerlink" title="Actual behavior"></a>Actual behavior</h4><p>Please describe shortly about the current situation. &#x201C;It does not work&#x201D;, is not sufficient.</p>
<ul>
<li>Example (not related to beem):<br>When one number is zero, the <code>int_sum</code> function returns zero instead of the other non-zero number.</li>
</ul>
<h4 id="How-to-reproduce"><a href="#How-to-reproduce" class="headerlink" title="How to reproduce"></a>How to reproduce</h4><p>A python script with output, which is able to reproduce the described error, helps a lot in finding the source of the error.</p>
<ul>
<li>Example (not related to beem):<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import int_sum</span><br><span class="line">x = int_sum(0, 1)</span><br><span class="line">print(x)</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p>Output:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h4><p>The used python and beem version is important for repoducing the error (Different behavior for unicode strings on python 2.7 and 3.6, for example).<br>The beem version can be obtained by <code>beempy --version</code>.</p>
<h3 id="Creating-an-issue-on-https-github-com-holgern-beem"><a href="#Creating-an-issue-on-https-github-com-holgern-beem" class="headerlink" title="Creating an issue on https://github.com/holgern/beem"></a>Creating an issue on <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></h3><p>After writing a utopian-io post about a bug, a new issue should be created in the beem github repo: <a href="https://github.com/holgern/beem/issues/new" target="_blank" rel="noopener">https://github.com/holgern/beem/issues/new</a>. This is important for collecting all bug reports in one place and for mention it when fixing it.</p>
<h4 id="Deadline"><a href="#Deadline" class="headerlink" title="Deadline"></a>Deadline</h4><p>This task request has no deadline, as it will stay open.</p>
<h4 id="Communication"><a href="#Communication" class="headerlink" title="Communication"></a>Communication</h4><p>For more information please visit the beem discord server: <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">https://discord.gg/4HM592V</a></p>
<h4 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h4><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/task-request-for-beem-bug-hunting" target="_blank" rel="noopener">&#x2018;Task request for beem: bug-hunting&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/32/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/34/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/32/">32</a></li>
            
            <li><a class="pagination-link is-current" href="/@holger80/page/33/">33</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/34/">34</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/45/">45</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

