
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@holger80/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@holger80/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@holger80/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@holger80/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/python-steem-1-0-1-released/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmUuGmuxPyAKFVeLJKorY3ruwZARsbACNR9uPVKV32MonC" alt="python-steem 1.0.1 released">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-22T06:40:33.000Z">2018-05-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/python/">python</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 227 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/python-steem-1-0-1-released/">python-steem 1.0.1 released</a>
            
        </h1>
        <div class="content">
            <p>A new version 1.0.1 of python-steem was released today to <a href="https://pypi.org/project/steem/#files" target="_blank" rel="noopener">pypi</a>.<br>I updated also the <a href="https://github.com/conda-forge/steem-feedstock" target="_blank" rel="noopener">steem-feedstock</a>.<br>You can update to the newest version of python-steem by:<br>When using anaconda:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update steem</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>or when not using anaconda:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U steem</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="Downloads-of-the-last-version-1-0-0-for-steem-feedstock"><a href="#Downloads-of-the-last-version-1-0-0-for-steem-feedstock" class="headerlink" title="Downloads of the last version 1.0.0 for steem-feedstock"></a>Downloads of the last version 1.0.0 for steem-feedstock</h2><p><img src="https://ipfs.busy.org/ipfs/QmUuGmuxPyAKFVeLJKorY3ruwZARsbACNR9uPVKV32MonC" alt="image.png"></p>
<h2 id="Changelog-python-steem-1-0-1"><a href="#Changelog-python-steem-1-0-1" class="headerlink" title="Changelog python-steem 1.0.1"></a>Changelog python-steem 1.0.1</h2><p>Since there is no official changelog provided, I will provide an inofficial one:</p>
<ul>
<li>change_account_recovery operation added</li>
<li><p>Refactored MasterPassword (<a href="https://github.com/steemit/steem-python/pull/232/" target="_blank" rel="noopener">PR</a>)</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">WrongMasterPasswordException - renamed WrongKEKException</span><br><span class="line">MasterPassword - renamed KeyEncryptionKey</span><br><span class="line"></span><br><span class="line">Wallet.unlock - pwd in signature changed to user_passphrase</span><br><span class="line">Wallet.getPassword - changed to Wallet.getUserPassphrase</span><br><span class="line">Wallet.changePassword - changed to Wallet.changeUserPassphrase</span><br><span class="line"></span><br><span class="line">Storage.saveEncryptedMaster - changed to Storage.saveEncryptedKEK</span><br><span class="line">Storage.getEncryptedMaster - changed to Storage.getEncryptedKEK</span><br><span class="line">Storage.decryptEncryptedMaster - changed to Storage.decryptEncryptedKEK</span><br><span class="line">Storage.newMaster - changed to Storage.newKEK</span><br><span class="line">Storage.changePassword - changed to Storage.changePassphrase</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ignore verify_authority failure for specific steem bug (<a href="https://github.com/steemit/steem-python/pull/213" target="_blank" rel="noopener">PR</a>)</p>
</li>
<li>assume appbase, downgrade on error (<a href="https://github.com/steemit/steem-python/pull/202" target="_blank" rel="noopener">PR</a>)</li>
<li>Added JSONDecodeError to list of retriable errors(<a href="https://github.com/steemit/steem-python/pull/225" target="_blank" rel="noopener">PR</a>)</li>
<li>several bug fixes</li>
</ul>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/python-steem-1-0-1-released" target="_blank" rel="noopener">&#x2018;python-steem 1.0.1 released&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/how-to-reduce-the-curator-reward-from-25-to-0-54-with-example/" class="image is-7by1">
            <img class="thumbnail" src="https://gateway.ipfs.io/ipfs/QmQiFWYTdpktNXANcYFkgPXTLpo2AdGXaFPSR8JWG1HktB" alt="How to reduce the curator reward from 25 % to 0.54 % with example">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-11T15:40:51.000Z">2018-05-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/curator-friendly/">curator-friendly</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 minutes read (About 1270 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/how-to-reduce-the-curator-reward-from-25-to-0-54-with-example/">How to reduce the curator reward from 25 % to 0.54 % with example</a>
            
        </h1>
        <div class="content">
            <p>Without self-vote and no other vote within the first 30 minutes, all curators receive the full 25 % of post payout after 7 days. Today I  was shocked how much curation rewards can be removed by self-voting and buying votes from bit-bods. I was analyzed a contribution from bitcoinflood with <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beempy</a> (I have nothing against the author or his contribution, I use this post just as example):</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">beempy curation https://steemit.com/bitcoin/@bitcoinflood/robinhood-now-more-available-including-my-state</span><br><span class="line">+------------------+-------------+-------------+-----------------+----------+-------------+</span><br><span class="line"></span><br><span class="line">| Voter            | Voting time | Vote        | Early vote loss | Curation | Performance |</span><br><span class="line">+------------------+-------------+-------------+-----------------+----------+-------------+</span><br><span class="line"></span><br><span class="line">| bitcoinflood     | 0.3 min     | 1.321 SBD   | 1.308 SBD       | 0.013 SP | 3.4 %       |</span><br><span class="line">| minnowbooster    | 2.8 min     | 179.424 SBD | 162.678 SBD     | 1.380 SP | 2.6 %       |</span><br><span class="line">| alanmirza        | 3.0 min     | 0.028 SBD   | 0.025 SBD       | 0.000 SP | 2.0 %       |</span><br><span class="line">| gameapk          | 3.2 min     | 0.027 SBD   | 0.024 SBD       | 0.000 SP | 2.1 %       |</span><br><span class="line">| fuzzyvest        | 3.9 min     | 68.102 SBD  | 59.362 SBD      | 0.296 SP | 1.5 %       |</span><br><span class="line">| ridhomaslizal    | 6.1 min     | 0.003 SBD   | 0.003 SBD       | 0.000 SP | 1.9 %       |</span><br><span class="line">| fitnessfirst     | 6.2 min     | 0.006 SBD   | 0.005 SBD       | 0.000 SP | 2.0 %       |</span><br><span class="line">| xeniaioannou     | 6.9 min     | 0.003 SBD   | 0.002 SBD       | 0.000 SP | 2.0 %       |</span><br><span class="line">| stranded         | 7.0 min     | 0.003 SBD   | 0.002 SBD       | 0.000 SP | 2.3 %       |</span><br><span class="line">| hungryhustle     | 7.8 min     | 0.023 SBD   | 0.017 SBD       | 0.000 SP | 2.5 %       |</span><br><span class="line">| mike-mike        | 8.5 min     | 0.007 SBD   | 0.005 SBD       | 0.000 SP | 2.7 %       |</span><br><span class="line">| boity            | 9.6 min     | 0.034 SBD   | 0.023 SBD       | 0.000 SP | 3.1 %       |</span><br><span class="line">| ajijulhakimimran | 9.8 min     | 0.001 SBD   | 0.001 SBD       | 0.000 SP | 2.5 %       |</span><br><span class="line">| jcharles         | 11.4 min    | 0.003 SBD   | 0.002 SBD       | 0.000 SP | 3.6 %       |</span><br><span class="line">| visionarypush    | 11.8 min    | 0.003 SBD   | 0.002 SBD       | 0.000 SP | 3.8 %       |</span><br><span class="line">| dylanhobalart    | 12.9 min    | 0.007 SBD   | 0.004 SBD       | 0.000 SP | 4.3 %       |</span><br><span class="line">| laritheghost     | 14.8 min    | 0.017 SBD   | 0.008 SBD       | 0.000 SP | 4.8 %       |</span><br><span class="line">| trendygran       | 14.9 min    | 0.001 SBD   | 0.001 SBD       | 0.000 SP | 4.2 %       |</span><br><span class="line">| sam7             | 15.4 min    | 0.001 SBD   | 0.001 SBD       | 0.000 SP | 4.7 %       |</span><br><span class="line">| linvestidor      | 15.6 min    | 0.003 SBD   | 0.002 SBD       | 0.000 SP | 4.9 %       |</span><br><span class="line">| sheikhsalman     | 16.4 min    | 0.002 SBD   | 0.001 SBD       | 0.000 SP | 4.9 %       |</span><br><span class="line">| richardgreen     | 16.7 min    | 0.003 SBD   | 0.001 SBD       | 0.000 SP | 5.3 %       |</span><br><span class="line">| jibon975         | 19.1 min    | 0.003 SBD   | 0.001 SBD       | 0.000 SP | 6.2 %       |</span><br><span class="line">| newageinv        | 21.1 min    | 0.126 SBD   | 0.037 SBD       | 0.003 SP | 6.9 %       |</span><br><span class="line">| gigpen           | 21.9 min    | 0.003 SBD   | 0.001 SBD       | 0.000 SP | 6.9 %       |</span><br><span class="line">| scubacoin        | 22.1 min    | 0.003 SBD   | 0.001 SBD       | 0.000 SP | 7.0 %       |</span><br><span class="line">| speda            | 22.8 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 7.7 %       |</span><br><span class="line">| cryptoeagle      | 23.7 min    | 0.103 SBD   | 0.022 SBD       | 0.002 SP | 7.8 %       |</span><br><span class="line">| kojot97          | 24.0 min    | 0.003 SBD   | 0.001 SBD       | 0.000 SP | 7.9 %       |</span><br><span class="line">| evesick          | 24.1 min    | 0.012 SBD   | 0.002 SBD       | 0.000 SP | 7.8 %       |</span><br><span class="line">| ehabakhdar       | 24.6 min    | 0.039 SBD   | 0.007 SBD       | 0.001 SP | 8.1 %       |</span><br><span class="line">| cryptobeans      | 26.9 min    | 0.025 SBD   | 0.003 SBD       | 0.001 SP | 8.9 %       |</span><br><span class="line">| stackin          | 28.4 min    | 0.076 SBD   | 0.004 SBD       | 0.002 SP | 9.3 %       |</span><br><span class="line">| wanizubair       | 28.6 min    | 0.033 SBD   | 0.002 SBD       | 0.001 SP | 9.4 %       |</span><br><span class="line">| minnowsupport    | 28.7 min    | 0.131 SBD   | 0.006 SBD       | 0.004 SP | 9.4 %       |</span><br><span class="line">| pqbd             | 30.5 min    | 0.004 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| gmichelbkk       | 31.1 min    | 0.013 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| seanlloyd        | 32.2 min    | 0.033 SBD   | 0.000 SBD       | 0.001 SP | 9.9 %       |</span><br><span class="line">| sammir           | 32.5 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| gekko            | 32.7 min    | 0.018 SBD   | 0.000 SBD       | 0.001 SP | 9.9 %       |</span><br><span class="line">| midas            | 33.0 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| gvincentjosephm  | 33.4 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.1 %      |</span><br><span class="line">| mrwalt           | 35.0 min    | 0.000 SBD   | 0.000 SBD       | 0.000 SP | 10.7 %      |</span><br><span class="line">| neonartist       | 36.1 min    | 0.262 SBD   | 0.000 SBD       | 0.008 SP | 9.9 %       |</span><br><span class="line">| hyperguru        | 36.4 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| rasel49          | 38.2 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| bobnevv          | 40.1 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| nievogro         | 43.1 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| dimon14          | 48.0 min    | 0.074 SBD   | 0.000 SBD       | 0.002 SP | 9.9 %       |</span><br><span class="line">| kofibeatz        | 51.0 min    | 0.024 SBD   | 0.000 SBD       | 0.001 SP | 9.9 %       |</span><br><span class="line">| zackyy           | 53.6 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| allyouneedtoknow | 57.4 min    | 0.448 SBD   | 0.000 SBD       | 0.013 SP | 9.9 %       |</span><br><span class="line">| heyimsnuffles    | 62.5 min    | 0.007 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| robinhoodupme    | 62.6 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.1 %      |</span><br><span class="line">| fastpromoter     | 63.3 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| digitaldruid     | 65.8 min    | 0.013 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| firefoxxxxx1     | 66.0 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| markeverlasting  | 70.8 min    | 0.005 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| lost-tiger-films | 79.9 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.3 %      |</span><br><span class="line">| joyfulstar       | 82.3 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| synergenius      | 82.7 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| verotti          | 92.6 min    | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| biblegateway     | 93.0 min    | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| biffboff         | 102.5 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 9.6 %       |</span><br><span class="line">| bigbiggi70       | 102.9 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.2 %      |</span><br><span class="line">| nima11           | 109.8 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| samue2013        | 139.7 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 9.3 %       |</span><br><span class="line">| etka             | 193.6 min   | 0.062 SBD   | 0.000 SBD       | 0.002 SP | 9.9 %       |</span><br><span class="line">| susanalara       | 202.5 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| sergnak          | 262.5 min   | 0.002 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| lpge2392         | 274.8 min   | 0.011 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| minestein        | 290.8 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| badabing94       | 308.4 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.1 %      |</span><br><span class="line">| originalathena   | 308.5 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 9.0 %       |</span><br><span class="line">| senseicat        | 381.2 min   | 0.082 SBD   | 0.000 SBD       | 0.002 SP | 9.9 %       |</span><br><span class="line">| amtarek23        | 483.2 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| josewaldemar20   | 504.4 min   | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.6 %      |</span><br><span class="line">| mecarlo          | 573.6 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| aldahyr77        | 669.9 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| spllouder        | 706.9 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| mars000          | 709.7 min   | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| wcw15wc          | 761.4 min   | 0.002 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| drac59           | 803.5 min   | 0.015 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| james0603        | 886.1 min   | 0.002 SBD   | 0.000 SBD       | 0.000 SP | 10.0 %      |</span><br><span class="line">| grownsolutions   | 952.3 min   | 0.002 SBD   | 0.000 SBD       | 0.000 SP | 9.7 %       |</span><br><span class="line">| anarchistpreneur | 1012.4 min  | 0.008 SBD   | 0.000 SBD       | 0.000 SP | 9.9 %       |</span><br><span class="line">| lulita           | 1152.7 min  | 0.079 SBD   | 0.000 SBD       | 0.002 SP | 9.9 %       |</span><br><span class="line">| izatullah        | 1179.0 min  | 0.003 SBD   | 0.000 SBD       | 0.000 SP | 9.8 %       |</span><br><span class="line">| qbearer          | 1203.2 min  | 0.001 SBD   | 0.000 SBD       | 0.000 SP | 10.4 %      |</span><br><span class="line">|                  |             |             |                 |          |             |</span><br><span class="line">| High. vote       | 2.8 min     | 179.424 SBD | 162.678 SBD     | 1.380 SP | 2.6 %       |</span><br><span class="line">| High. Cur.       | 35.0 min    | 0.000 SBD   | 0.000 SBD       | 0.000 SP | 10.7 %      |</span><br><span class="line">| Sum              | -           | 250.818 SBD | 223.562 SBD     | 1.740 SP | 2.36 %      |</span><br><span class="line">+------------------+-------------+-------------+-----------------+----------+-------------+</span><br></pre></td></tr></tbody></table></figure>
<center><br><img src="https://gateway.ipfs.io/ipfs/QmQiFWYTdpktNXANcYFkgPXTLpo2AdGXaFPSR8JWG1HktB" alt="image.png"><br></center>

<h3 id="Early-vote-penalty"><a href="#Early-vote-penalty" class="headerlink" title="Early vote penalty"></a>Early vote penalty</h3><p>The early vote penalty reduces the curation rewards pot, as the penalty amount is directly transfered from the curators to the author. In the example 223.562 SBD were removed from the complete reward pot and only 27.256 SBD remains. From these 27.256 SBD 75 % goes to the author and the remaining 25 % (6.814 SBD) remains for all curators.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curation percentage = ((250.818 -  223.562) * 0.25) / 250.818 * 100 %</span><br><span class="line">`</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The curation rewards go from 25 % down to 2.7 %.</p>
<h3 id="Early-votes-reduces-the-curation-rewards-even-more"><a href="#Early-votes-reduces-the-curation-rewards-even-more" class="headerlink" title="Early votes reduces the curation rewards even more"></a>Early votes reduces the curation rewards even more</h3><p>The bid bot vote was high and early, (179.424 SBD vote, 2.8 minutes after post creation). Thus, 80 % of the curation rewards pot goes to the bid bot.<br>So in the end, the curation rewards are only 0.54 % or 0.36 SP.</p>
<h3 id="Any-curation-rewards-left"><a href="#Any-curation-rewards-left" class="headerlink" title="Any curation rewards left?"></a>Any curation rewards left?</h3><p>By self-voting within the first minute and using bot votes within the first 3 minutes, the curation reward pot was reduced from 25 % to  0.54 % for all other curators (from 18.44 SP to 0.36 SP). The individual curation rewards are after 30 minutes around 10 %. </p>
<h3 id="Gain-for-the-author"><a href="#Gain-for-the-author" class="headerlink" title="Gain for the author"></a>Gain for the author</h3><p><img src="https://gateway.ipfs.io/ipfs/QmQ4ht5K3WJcHzSFxhfTGVRTmfQvHS1ttz1bVitbYEtb4C" alt="image.png"><br>The bid bot vote has cost 100 SBD.<br><img src="https://gateway.ipfs.io/ipfs/QmdaGoiXdA6XD6VCFjaPuxnGigHm3M3o6WV3LwohJyH7s8" alt="image.png"><br>With a current market conversion price of 0.8 SBD/STEEM,<br>The remaining reward for the author after subtracting 100 SBD will be 22.524 SBD + 36.058 SP.</p>
<h3 id="Using-bid-bots-without-Hardfork-20-current-situation"><a href="#Using-bid-bots-without-Hardfork-20-current-situation" class="headerlink" title="Using bid bots without Hardfork 20 (current situation)"></a>Using bid bots without Hardfork 20 (current situation)</h3><p>Without any other vote than the self-vote and the bid-bot vote, the resulting payout would be<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Author reward = (Votes  - ((Votes - Early vote loss) * 0.25)) / 2  - Bid bot costs SBD + (Votes  - ((Votes - Early vote loss) * 0.25)) / 2 / STEEM price SP </span><br><span class="line">Author reward = ((1.321 + 179.424)  - (((1.321 + 179.424) - (1.308 + 162.678)) * 0.25)) / 2 - 100 SBD +  ((1.321 + 179.424)  - (((1.321 + 179.424) - (1.308 + 162.678)) * 0.25)) / 2 / 3.40 SP </span><br><span class="line">Author reward =  -11.722 SBD + 25.964 SP</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The current market conversion price  is 0.8 SBD/STEEM, so in the end the author gaines 9.05 SBD for an article that nobody has seen and upvoted.<br>Currently, the proof of brain does not work. It is possible to make money with posts that nobody must read.</p>
<h3 id="Using-bid-bots-with-Hardfork-20"><a href="#Using-bid-bots-with-Hardfork-20" class="headerlink" title="Using bid bots with Hardfork 20"></a>Using bid bots with Hardfork 20</h3><p>Luckily there will be soon a new Hardfork 20 on steemit. In this hardfork, the early vote loss window is reduced to 15 minutes and the early vote loss is not added to author rewards but given back to the pool.<br>What will happen when HF 20 is active with our example:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Author reward = Votes * 0.75 * 0.5 - Bid bot costs +Votes * 0.75 * 0.5 / Steem median price </span><br><span class="line">Author reward = (1.321 + 179.424) * 0.75 * 0.5 - 100 SBD + (1.321 + 179.424) * 0.75 * 0.5 / 3.4 SP </span><br><span class="line">Author reward = -32.22 SBD + 19.93 SP</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The  current market conversion price is 0.8 SBD/STEEM, so in the end the author looses 16.28 SBD.</p>
<h3 id="Solution-to-the-Visibility-Curation-reward-dilemma"><a href="#Solution-to-the-Visibility-Curation-reward-dilemma" class="headerlink" title="Solution to the Visibility - Curation reward dilemma"></a>Solution to the Visibility - Curation reward dilemma</h3><p>When not using a bid bot, the curation reward pot remains high, but nobody may see the post and the author may receive nothing for his hard work. So using bid bots increase visiblity and assure that the author will receive something in return. At the moment curators are not necessary and only a nice gift when using bid bots within the first minutes.</p>
<p>Luckily, a lot of bid bot seller allow only posts with a minimum age of 15 / 20 or 30 minutes. So by not using bid bots within the first 15 minutes, curators do not lose almost all curation. They have the chance to vote before and can gain high curation rewards.</p>
<h3 id="Curator-friendly-contribution"><a href="#Curator-friendly-contribution" class="headerlink" title="Curator-friendly contribution"></a>Curator-friendly contribution</h3><p>This post is curator-friendly, I will self-vote my post after 1400 minutes (24 hours) to reward my voters. The chance is high that i will forget this, so I created a vote rule in steemdunk.xyz:<br><img src="https://gateway.ipfs.io/ipfs/QmPtHNw35e7hkhsEWbfQzfEoEeiMVxLeDKNxF75kPv6q3Q" alt="image.png"><br>I will not use bid-bots, only the nice automatic vote from qurator, Steembased income and others. </p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>With Hardfork 20, the proof of brain concept will be working again. I&#x2019;m looking really forward to the fork!! </p>
<p>There is also a second benefit from HF 20:<br>All websites which are showing pending rewards will finally show the correct author reward with HF 20 (At the moment, the Early vote loss is not added to the pending author rewards).</p>
<p>I have nothing against bid bots, only when they are used within the first minutes so that the maximum possible curation rewards are strongly reduced.</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/how-to-reduce-the-curator-reward-from-25-to-0-54-with-example" target="_blank" rel="noopener">&#x2018;How to reduce the curator reward from 25 % to 0.54 % with example&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-beem-autoclean-new-cli-commands-virtual-op-estimation-new-comment-functions-and-stand-alone-beempy/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="Update for beem - autoclean, new CLI commands, virtual op estimation, new Comment functions and stand alone beempy">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-09T10:04:57.000Z">2018-05-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 minutes read (About 1923 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-beem-autoclean-new-cli-commands-virtual-op-estimation-new-comment-functions-and-stand-alone-beempy/">Update for beem - autoclean, new CLI commands, virtual op estimation, new Comment functions and stand alone beempy</a>
            
        </h1>
        <div class="content">
            <h4 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h4><p><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></p>
<center><img src="https://cdn.utopian.io/posts/d563a408c062506aed88befbe7781399184fbeem-logo.png" alt="beem-logo.png"><br></center>

<p><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> is a python library for steem. beem has now 463 unit tests and a coverage of 82 %. The current version is 0.19.28.</p>
<p>I created a discord channel for answering a question or discussing beem: <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">https://discord.gg/4HM592V</a></p>
<h3 id="Bug-Fixes"><a href="#Bug-Fixes" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><h4 id="blockchain-stream-and-blockchain-ops-are-missing-virtual-operations"><a href="#blockchain-stream-and-blockchain-ops-are-missing-virtual-operations" class="headerlink" title="blockchain.stream and blockchain.ops are missing virtual operations"></a><a href="https://steemit.com/utopian-io/@stmdev/blockchain-stream-and-blockchain-ops-are-missing-virtual-operations" target="_blank" rel="noopener">blockchain.stream and blockchain.ops are missing virtual operations</a></h4><ul>
<li>Is fixed by adding <code>only_ops</code> and <code>only_virtual_ops</code> to <code>beem.block.Block</code>. When one is set to <code>True</code>, the <code>get_ops_in_block</code> api call is used.</li>
<li><code>beem.blockchain.ops()</code> is obsolete now.</li>
<li><code>beem.blockchain.stream()</code> stream virtual operations, when <code>only_ops</code> or <code>only_virtual_ops</code> is set to <code>True</code>.</li>
<li><code>beem.blockchain.stream()</code> and <code>beem.blockchain.blocks()</code> uses now <code>beem.block.Block</code> internally.</li>
<li>The changes are in <a href="https://github.com/holgern/beem/commit/8fef5541ef22cbd53f5629f6fddf7faee70f1d31" target="_blank" rel="noopener">commit 8fef554</a></li>
</ul>
<h4 id="Bug-steem-verifier-crashes-on-certain-transaction-ids"><a href="#Bug-steem-verifier-crashes-on-certain-transaction-ids" class="headerlink" title="Bug: steem-verifier crashes on certain transaction ids"></a><a href="https://steemit.com/utopian-io/@holger80/bug-steem-verifier-crashes-on-certain-transaction-ids" target="_blank" rel="noopener">Bug: steem-verifier crashes on certain transaction ids</a></h4><ul>
<li>This bug was also affecting <code>beembase.signedtransaction.Signed_Transaction.verify</code> and lead to the same error messages as seen in steem-verifier.</li>
<li>This error was fixed by disabling <code>recover_parameter</code> estimation from the first signature byte in <code>beemgraphenebase.ecdasig.verify_message</code>. <code>beembase.signedtransaction.Signed_Transaction.verify</code> verifies now the signature with <code>recover_parameter</code> going from 0 to 3. Whenever a valid public key is returned it is stored in the list and then returned. This new behavior can be disabled by setting <code>verify(recover_parameter=True)</code>.</li>
<li>A second related bug and fix were applied to <code>beemgraphenebase.type.PointInTime.__bytes__</code>. In some cases, the bytes from a Date before 1970 should be converted into bytes. This could be fixed by Changing Unsigned int to Integer when <code>unixtime</code> is negative: <code>return struct.pack(&quot;&lt;i&quot;, unixtime)</code>.</li>
<li>The changes are in <a href="https://github.com/holgern/beem/commit/f0509f620417e7434196228a8ba8e783f3691e7c" target="_blank" rel="noopener">commit f0509f6</a>.</li>
</ul>
<h3 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h3><h4 id="Block-supports-now-virtual-operations"><a href="#Block-supports-now-virtual-operations" class="headerlink" title="Block supports now virtual operations"></a>Block supports now virtual operations</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from beem.block import Block</span><br><span class="line">block = Block(22277588)</span><br><span class="line">len(block.operations)</span><br><span class="line">40</span><br><span class="line">block = Block(22277588, only_ops=True)</span><br><span class="line">len(block.operations)</span><br><span class="line">97</span><br><span class="line">block = Block(22277588, only_ops=True, only_virtual_ops=True)</span><br><span class="line">len(block.operations)</span><br><span class="line">57</span><br></pre></td></tr></tbody></table></figure>
<p>The <code>beem.block.Block</code> can now be used  to access virtual operations. The properties <code>transactions</code> and <code>operations</code> can now be used to access on all transactions bzw. operations as list array.</p>
<h4 id="Estimation-of-virtual-account-operation-number-from-a-date-or-a-block-number"><a href="#Estimation-of-virtual-account-operation-number-from-a-date-or-a-block-number" class="headerlink" title="Estimation of virtual account operation number from a date or a block number"></a>Estimation of virtual account operation number from a date or a block number</h4><p>The history of account operation can be huge, e.g. the account <code>gtg</code> has currently 826453 account operations. It is very time-consuming to find out which virtual operation number corresponds to a given block number or date.<br>The new <code>estimate_virtual_op_num()</code> can be used to receive an estimated value for a given date or blocknumber within less than a second.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import pytz</span><br><span class="line">from beem.account import Account</span><br><span class="line">from beem.blockchain import Blockchain</span><br><span class="line">from datetime import datetime, timedelta</span><br><span class="line">from timeit import time as t</span><br><span class="line">acc = Account(&quot;gtg&quot;)</span><br><span class="line">block_num = 21248120</span><br><span class="line">start = t.time()</span><br><span class="line">op_num = acc.estimate_virtual_op_num(block_num, stop_diff=1, max_count=10)</span><br><span class="line">stop = t.time()</span><br><span class="line">print(stop - start)</span><br><span class="line">for h in acc.get_account_history(op_num, 0):</span><br><span class="line">    block_est = h[&quot;block&quot;]</span><br><span class="line">print(block_est - block_num)</span><br></pre></td></tr></tbody></table></figure>
<p>Results for different <code>stop_diff</code> and <code>max_count</code>:</p>
<table>
<thead>
<tr>
<th><code>stop_diff</code></th>
<th><code>max_count</code></th>
<th>Dur. [s]</th>
<th>block diff</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>100</td>
<td>0.45</td>
<td>-2</td>
</tr>
<tr>
<td>1</td>
<td>5</td>
<td>0.45</td>
<td>-2</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>0.65</td>
<td>-20</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0.34</td>
<td>36585</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0.32</td>
<td>192476</td>
</tr>
<tr>
<td>10</td>
<td>10</td>
<td>0.41</td>
<td>17</td>
</tr>
<tr>
<td>100</td>
<td>10</td>
<td>0.38</td>
<td>-20</td>
</tr>
<tr>
<td>10000</td>
<td>10</td>
<td>0.27</td>
<td>36585</td>
</tr>
</tbody>
</table>
<p>The parameter <code>stop_diff</code> and <code>max_count</code> have a strong influence on the result. <code>stop_diff</code> stops the estimation process when the difference between two estimation steps is below <code>stop_diff</code>. <code>max_count</code> limits the number of iterations. When set to zero, the inital guess is taken, otherwise, the estimation is improved until <code>max_count</code> iterations are reached or the difference is below <code>stop_diff</code>.</p>
<p>There is also an infinity cycle detection implemented, will lead to an stop of the estimation.<br><code>estimate_virtual_op_num()</code> is used in <code>beem.account.Account.history()</code> and  <code>beem.account.Account.history_reverse()</code> when an start point is given.  </p>
<p><code>estimate_virtual_op_num()</code>  can handle dates and blocknumbers.</p>
<h4 id="repr-added-to-some-classes"><a href="#repr-added-to-some-classes" class="headerlink" title="__repr__ added to some classes"></a><code>__repr__</code> added to some classes</h4><ul>
<li><code>__repr__</code> was added to <code>beem.steem.Steem</code>, <code>beem.witness.WitnessesObject</code> and <code>beem.vote.VoteObject</code><br>In the example the output of the steem object is show:<br><img src="https://gateway.ipfs.io/ipfs/QmeWZYvR7sTrSQVRFcXhJw7nZ69YWZNQNntqPH3sAJNVyS" alt="image.png"></li>
</ul>
<h4 id="Autoclean-added-to-cache"><a href="#Autoclean-added-to-cache" class="headerlink" title="Autoclean added to cache"></a>Autoclean added to cache</h4><p>All <code>BlockchainObject</code> classes use a global cache to reduce read operations to the blockchain. In this update, the cache is automatically auto cleaned on each access.<br><img src="https://gateway.ipfs.io/ipfs/QmecLteTHYvK4xydPCPHpiBRE3RT4TvCiev7UZxrytAM36" alt="image.png"></p>
<h4 id="Accurate-estimation-of-pending-payouts-and-other-functions-added-to-the-comment-class"><a href="#Accurate-estimation-of-pending-payouts-and-other-functions-added-to-the-comment-class" class="headerlink" title="Accurate estimation of pending payouts and other functions added to the comment class"></a>Accurate estimation of pending payouts and other functions added to the comment class</h4><p>The following functions were added to <code>beem.comment.Comment</code>:</p>
<ul>
<li><code>reward()</code></li>
<li><code>is_pending()</code></li>
<li><code>time_elapsed()</code></li>
<li><code>curation_penalty_compensation_SBD()</code></li>
<li><code>estimate_curation_SBD(vote_value_SBD, estimated_value_SBD=None)</code></li>
<li><code>get_curation_penalty(vote_time=None)</code></li>
<li><code>get_vote_with_curation(voter=None, raw_data=False, pending_payout_value=None)</code></li>
<li><code>get_beneficiaries_pct()</code></li>
<li><code>get_rewards()</code></li>
<li><code>get_author_rewards()</code></li>
<li><code>get_curation_rewards()</code></li>
</ul>
<p>More information about these function can be found in the help section.<br><code>get_curation_rewards()</code> works better than the prediction from other sites as steem.supply,.. as the unclaimed curation reward is taken into account:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    unclaimed_rewards = max_rewards.copy()</span><br><span class="line">    pending_rewards = True</span><br><span class="line">active_votes = {}</span><br><span class="line">for vote in self[&apos;active_votes&apos;]:</span><br><span class="line">    if total_vote_weight &gt; 0:</span><br><span class="line">        claim = max_rewards * vote[&apos;weight&apos;] / total_vote_weight</span><br><span class="line">    else:</span><br><span class="line">        claim = 0</span><br><span class="line">    if claim &gt; 0 and pending_rewards:</span><br><span class="line">        unclaimed_rewards -= claim</span><br><span class="line">    if claim &gt; 0:</span><br><span class="line">        active_votes[vote[&apos;voter&apos;]] = claim</span><br><span class="line">    else:</span><br><span class="line">        active_votes[vote[&apos;voter&apos;]] = 0</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The <code>unclaimed_rewards</code> grows when votes are within the first 30 minutes. The <code>unclaimed_rewards</code> from the curation is directly moved to the author reward.<br>The <code>total_vote_weigth</code> value is taken from <code>[&apos;total_vote_weight&apos;]</code>.</p>
<h4 id="verify-a-new-beempy-command-for-receiving-the-signer-from-a-signature"><a href="#verify-a-new-beempy-command-for-receiving-the-signer-from-a-signature" class="headerlink" title="verify - a new beempy command for receiving the signer from a signature"></a>verify - a new beempy command for receiving the signer from a signature</h4><p><img src="https://gateway.ipfs.io/ipfs/QmbEj1sxad458cSRuw4uFJuzqhPTZD9uJ76KHCJrhRM9Z5" alt="image.png"><br>The transaction id <code>d6457b3ad20583b3434f3a06c2c648b3a770c341</code> which crashes <code>steem-verifier</code>  can now be analyzed with <code>beempy verify d6457b3ad20583b3434f3a06c2c648b3a770c341</code> without any error:<br><img src="https://gateway.ipfs.io/ipfs/QmbEiBj21CXEe9UFSAcp8GCZ3dKM68EHgRwwA5FCYnu4L3" alt="image.png"><br>It is also possible to verify a block number with or without a given transaction number.</p>
<h4 id="curation-a-new-beempy-command-for-estimation-voting-curation-for-a-post"><a href="#curation-a-new-beempy-command-for-estimation-voting-curation-for-a-post" class="headerlink" title="curation - a new beempy command for estimation voting curation for a post"></a>curation - a new beempy command for estimation voting curation for a post</h4><p><code>beempy curation</code> uses the new function <code>beem.comment.get_curation_rewards()</code> for listing all pending curation rewards.<br><img src="https://gateway.ipfs.io/ipfs/Qmdcy8sj7Z4mHZiYjz4p1eTgNmcQN4cevbC7V1SkqGngxs" alt="image.png"></p>
<p><img src="https://gateway.ipfs.io/ipfs/QmV4kTSqRMDfesveh24tZf9fV9dYwUEAGEpUuCiktTBWLX" alt="image.png"><br>Result of <code>beempy curation</code>:<br><img src="https://gateway.ipfs.io/ipfs/QmQbj26rvu6ZNLJVB73bC3rXdVtbt3MJrkfFDm1MCmDzBc" alt="image.png"><br>and the actual rewards after 7 days:<br><img src="https://gateway.ipfs.io/ipfs/Qma9eGAYvTtHN4pe3pB2h6ZSH9Ks3nqW6KiDfpQw5QCgVF" alt="image.png"><br>The difference is only <code>0.001</code> STEEM POWER for the second one, whereas the estimation for the first entry was 100 % correct.</p>
<h4 id="pending-a-new-beempy-command-for-estimating-pending-rewards-for-accounts"><a href="#pending-a-new-beempy-command-for-estimating-pending-rewards-for-accounts" class="headerlink" title="pending - a new beempy command for estimating pending rewards for accounts"></a>pending - a new beempy command for estimating pending rewards for accounts</h4><p><code>beempy pending</code> uses the new <code>beem.comment.get_author_rewards()</code> and the new <code>beem.comment.get_curation_rewards()</code> functions to show pending rewards for given accounts (one or more accounts possible).  It can be selected if post, comment or curation rewards will be shown.<br><img src="https://gateway.ipfs.io/ipfs/QmZk6XP8JNfPBv4cTMqUm2Woi5PDJWHzKzCi5c17K1HN7V" alt="image.png"></p>
<p>The pending reward estimation for <em>@holger80/currently-only-6-full-rpc-nodes-are-working-without-errors</em> is 9.463 SBD and 2.415 STEEM POWER.<br><img src="https://gateway.ipfs.io/ipfs/QmcSntgtKN8Q6KqNQ8hfGwVYJkWpqJ8j5Gtn3eiPaRacna" alt="image.png"><br>Other popular tools as steem.supply estimates a payout of 8.59 SBD and 2.19 STEEM POWER<br><img src="https://gateway.ipfs.io/ipfs/QmWvEqizjZGxQ1N2rqA9Z8LzzhDYVYMoPMKAaEza6MyyRE" alt="image.png"><br>The site steem.supply estimates  8.593 SBD and 2.193 STEEM POWER.<br><img src="https://gateway.ipfs.io/ipfs/QmbDPSS3dHPBos1tBBurUKUNjCZYHtBUhFZ3dNcxiBof5i" alt="image.png"><br>Let&#x2019;s see whos prediction is correct:<br><img src="https://gateway.ipfs.io/ipfs/QmcXbg9H5srCvSjcU978nkL3EayZCXatamZsTV4C3wuntg" alt="image.png"><br>The prediction of <code>beempy pending</code> is the best one.</p>
<h4 id="rewards-a-new-beempy-command-for-listing-rewards-for-accounts"><a href="#rewards-a-new-beempy-command-for-listing-rewards-for-accounts" class="headerlink" title="rewards- a new beempy command for listing rewards for accounts"></a>rewards- a new beempy command for listing rewards for accounts</h4><p><code>beempy rewards</code> uses the account history to display received rewards for given accounts (one or more accounts possible). It can be selected if post, comment or curation rewards will be shown.<br><img src="https://gateway.ipfs.io/ipfs/QmXh3HEjxkYMzLhMhPdvEzYZUfiKfjovJEBr4eYAFny6TE" alt="image.png"></p>
<h4 id="Stand-alone-excutables-for-beempy-created"><a href="#Stand-alone-excutables-for-beempy-created" class="headerlink" title="Stand alone excutables for beempy created"></a>Stand alone excutables for beempy created</h4><p><a href="https://www.pyinstaller.org/" target="_blank" rel="noopener">pyinstaller</a> is used to build stand alone excecutables for linux, osx and windows an the CI server. The excecutables are created directly from the git source code and after packing, sha256 hash sum is calculated. This hash can be found in the build log. <code>beempy</code> can directly be used after unpacking, there are no dependencies necessary.</p>
<p>This allows it to use <code>beempy</code> outside of the anaconda prompt, without changing PATH variables.</p>
<p><img src="https://gateway.ipfs.io/ipfs/QmcSprJZJHUu35eCLNDd3cjAkJGiXgWjJ9FfNe6Y3G9xTo" alt="image.png"></p>
<p>A stand alone version is crated by:<br><code>pyinstaller beempy-onedir.spec</code></p>
<p>There is also the possibility to crate a one file version with:<br><code>pyinstaller beempy-onefile.spec</code><br>but the onefile version is much slower than the onedir version.</p>
<h3 id="Commit-history"><a href="#Commit-history" class="headerlink" title="Commit history"></a>Commit history</h3><h4 id="Autoclean-for-Objectcache-improved-graphenrpc-and-threaded-pingnode"><a href="#Autoclean-for-Objectcache-improved-graphenrpc-and-threaded-pingnode" class="headerlink" title="Autoclean for Objectcache, improved graphenrpc and threaded pingnode"></a>Autoclean for Objectcache, improved graphenrpc and threaded pingnode</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/726a419a0502484de215bf819d9ee5e101e5c175" target="_blank" rel="noopener">commit 726a419</a><h5 id="Blockchainobject"><a href="#Blockchainobject" class="headerlink" title="Blockchainobject"></a>Blockchainobject</h5></li>
<li><code>auto_clean</code> function added. Everytime a new item is stored into the cache, all expired elements are removed.</li>
<li>The <code>__contains__</code> function sets now data ot None, when the date is expired, in order to reduce memory consumption<h5 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>threading for pingnode added. with <code>--threading</code>, all nodes are tested simultanously.<h5 id="Steemnoderpc"><a href="#Steemnoderpc" class="headerlink" title="Steemnoderpc"></a>Steemnoderpc</h5></li>
<li>Error count and exception improved when only one node is available<h5 id="Graphenerpc"><a href="#Graphenerpc" class="headerlink" title="Graphenerpc"></a>Graphenerpc</h5></li>
<li><code>requests.session</code> is stored as singelton</li>
<li><code>requests_retry_session</code> removed</li>
<li><code>shared_session_instance</code> and <code>set_session_instance</code> is used to get and set the global <code>requests.session</code> object</li>
<li><code>create_ws_instance</code> added; A websocket is created everytime and the singleton is removed</li>
<li><code>error_cnt</code> and <code>num_retries_call</code> handling improved<h5 id="RpcUtils"><a href="#RpcUtils" class="headerlink" title="RpcUtils"></a>RpcUtils</h5></li>
<li><code>sleep_and_check_retries</code> improved<h5 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h5></li>
<li><code>benchmark_node2</code> uses threads (one thread for each node)</li>
<li><code>memory_profiler2</code> added to check memory consumption for creating multiple account objects<h5 id="Unit-tests"><a href="#Unit-tests" class="headerlink" title="Unit tests"></a>Unit tests</h5></li>
<li>Test for objectcache improved</li>
</ul>
<h4 id="Try-to-build-exe-with-pyinstaller"><a href="#Try-to-build-exe-with-pyinstaller" class="headerlink" title="Try to build exe with pyinstaller"></a>Try to build exe with pyinstaller</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/bd1b7da868b8cb29b371a46d92025594fb63c104" target="_blank" rel="noopener">commit bd1b7da</a></li>
<li>spec file added for building a onedir and a onefile standalone solution with pyinstaller for <code>beempy</code> without needing python</li>
</ul>
<h4 id="history-and-history-reverse-improved-by-estimate-account-op"><a href="#history-and-history-reverse-improved-by-estimate-account-op" class="headerlink" title="history and history_reverse improved by estimate_account_op()"></a><code>history</code> and <code>history_reverse</code> improved by <code>estimate_account_op()</code></h4><ul>
<li><a href="https://github.com/holgern/beem/commit/c539773d086b72888e27f46a8ca04b8fd0383b48" target="_blank" rel="noopener">commit c539773</a><h5 id="Account"><a href="#Account" class="headerlink" title="Account"></a>Account</h5></li>
<li><code>print_info</code> improved (Last Vote added)</li>
<li>entryId changed to <code>start_entry_id</code> in <code>get_feed</code>, <code>get_blog_entries</code> and <code>get_blog</code></li>
<li><code>rpc.get_account_history</code> moved to <code>_get_account_history</code></li>
<li><code>estimate_account_op</code> added, can be used to fastly get account op numbers from dates or block nums</li>
<li><code>history</code> and <code>history_reverse</code> uses <code>estimate_account_op</code><h5 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h5></li>
<li><code>KeyNotFound</code> removed<h5 id="Memo"><a href="#Memo" class="headerlink" title="Memo"></a>Memo</h5></li>
<li>raises <code>MissingKeyError</code> instead of <code>KeyNotFound</code><h5 id="Price"><a href="#Price" class="headerlink" title="Price"></a>Price</h5></li>
<li>small improvement<h5 id="Steem"><a href="#Steem" class="headerlink" title="Steem"></a>Steem</h5></li>
<li><code>__repr__</code> added<h5 id="Transactionbuilder"><a href="#Transactionbuilder" class="headerlink" title="Transactionbuilder"></a>Transactionbuilder</h5></li>
<li><code>get_potential_signatures</code>, <code>get_transaction_hex</code> and <code>get_required_signatures</code> added</li>
<li>raises <code>MissingKeyError</code> instead of <code>KeyNotFound</code><h5 id="VotesObject"><a href="#VotesObject" class="headerlink" title="VotesObject"></a>VotesObject</h5></li>
<li><code>__contains__</code>, <code>__str__</code> and <code>__repr__</code> added<h5 id="Wallet"><a href="#Wallet" class="headerlink" title="Wallet"></a>Wallet</h5></li>
<li>raises <code>MissingKeyError</code> instead of <code>KeyNotFound</code><h5 id="Witness"><a href="#Witness" class="headerlink" title="Witness"></a>Witness</h5></li>
<li><code>__contains__</code>, <code>__str__</code> and <code>__repr__</code> added to <code>WitnessObject</code><h5 id="Steemnoderpc-1"><a href="#Steemnoderpc-1" class="headerlink" title="Steemnoderpc"></a>Steemnoderpc</h5></li>
<li>small improvements<h5 id="Operationsid"><a href="#Operationsid" class="headerlink" title="Operationsid"></a>Operationsid</h5></li>
<li>producer_reward added<h5 id="Unit-tests-1"><a href="#Unit-tests-1" class="headerlink" title="Unit tests"></a>Unit tests</h5></li>
<li>new function added and tests adapted to changes</li>
</ul>
<h4 id="Verify-fixed-by-trying-all-recover-parameter-from-0-to-3"><a href="#Verify-fixed-by-trying-all-recover-parameter-from-0-to-3" class="headerlink" title="Verify fixed, by trying all recover_parameter from 0 to 3"></a>Verify fixed, by trying all recover_parameter from 0 to 3</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/f0509f620417e7434196228a8ba8e783f3691e7c" target="_blank" rel="noopener">commit f0509f6</a></li>
<li>Certain transaction could not be verified, as the recover parameter in verify_message from ecdasig was wrong.</li>
<li>Signed_Transaction.verify() iterates now always through all 4 cases and returns all found key combination.</li>
<li>Unit test added for this case.</li>
</ul>
<h4 id="Virtual-Ops-support-added-for-block-and-blockchain-Comment-improved-More-CLI-commands"><a href="#Virtual-Ops-support-added-for-block-and-blockchain-Comment-improved-More-CLI-commands" class="headerlink" title="Virtual-Ops support added for block and blockchain. Comment improved. More CLI commands"></a>Virtual-Ops support added for block and blockchain. Comment improved. More CLI commands</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/8fef5541ef22cbd53f5629f6fddf7faee70f1d31" target="_blank" rel="noopener">commit 8fef554</a><h5 id="Account-1"><a href="#Account-1" class="headerlink" title="Account"></a>Account</h5></li>
<li><code>estimate_account_op</code> renamed to <code>estimate_virtual_op_num</code><h5 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h5></li>
<li><code>only_ops</code> and <code>only_virtual_ops</code> added as new parameter</li>
<li>the transactions property returns a list of transactions</li>
<li>The operations property returns a list of operations</li>
<li>Block which contain only only_ops can be received now<h5 id="Blockchain"><a href="#Blockchain" class="headerlink" title="Blockchain"></a>Blockchain</h5></li>
<li><code>only_ops</code> and <code>only_virtual_ops</code> added to <code>get_current_block</code>, <code>blocks</code>, <code>wait_for_and_get_block</code> and <code>stream</code></li>
<li><code>ops()</code> is obsolete now</li>
<li><code>stream()</code> uses now <code>blocks()</code> internally</li>
<li><code>only_ops=True</code> streams now also virtual operations<h5 id="beempy"><a href="#beempy" class="headerlink" title="beempy"></a>beempy</h5></li>
<li>autoconnect is the to False now and only when needed a <code>stm.rpc.rpcconnect()</code> is performed</li>
<li>ascii option added to all plots</li>
<li><code>rewards</code> added, this new command lists outstanding rewards (posts, comment and votes)</li>
<li><code>curation</code> added which shows the vote curation rewards for a single post</li>
<li><code>verify</code> added, which returns the public signing key and the signer of a transaction<h5 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h5></li>
<li><code>reward</code>, <code>is_pending</code>, <code>time_elapsed</code>, <code>curation_penalty_compensation_SBD</code>, <code>estimate_curation_SBD</code>, <code>get_curation_penalty</code>, <code>get_vote_with_curation</code>, <code>get_beneficiaries_pct</code>, <code>get_rewards</code>, <code>get_author_rewards</code> and <code>get_curation_rewards</code> added</li>
</ul>
<h5 id="Unit-tests-2"><a href="#Unit-tests-2" class="headerlink" title="Unit tests"></a>Unit tests</h5><ul>
<li>new function added and tests adapted to changes</li>
</ul>
<h4 id="Prepare-next-version-with-several-improvements"><a href="#Prepare-next-version-with-several-improvements" class="headerlink" title="Prepare next version with several improvements"></a>Prepare next version with several improvements</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/b9509edfe2947dd785648f647a57dbad02a0fdca" target="_blank" rel="noopener">commit b9509ed</a><h5 id="Account-2"><a href="#Account-2" class="headerlink" title="Account"></a>Account</h5></li>
<li>Parameter accuracy renamed to stop_diff</li>
<li>Doku for estimate_virtual_op_num improved</li>
<li>Several improvements and fixes for estimate_virtual_op_num<h5 id="CLI-1"><a href="#CLI-1" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>rewards command improved and more parameter added<h5 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h5></li>
<li>Assure Amount class for all amounts</li>
<li>is_pending improved<h5 id="Doku"><a href="#Doku" class="headerlink" title="Doku"></a>Doku</h5></li>
<li>tutorial about showing all posts of an account added<h5 id="Unit-tests-3"><a href="#Unit-tests-3" class="headerlink" title="Unit tests"></a>Unit tests</h5></li>
<li>test_account, test_cli and test_comment improved</li>
</ul>
<h4 id="Fix-and-improve-estimate-virtual-op-num"><a href="#Fix-and-improve-estimate-virtual-op-num" class="headerlink" title="Fix and improve estimate_virtual_op_num"></a>Fix and improve <code>estimate_virtual_op_num</code></h4><ul>
<li><a href="https://github.com/holgern/beem/commit/cd5df6361d122743aabba379157397ba2d07c95c" target="_blank" rel="noopener">commit cd5df63</a></li>
<li>Improved mathematics and estimation</li>
</ul>
<h4 id="Improvements-for-estimate-virtual-op-num-history-and-history-reverse"><a href="#Improvements-for-estimate-virtual-op-num-history-and-history-reverse" class="headerlink" title="Improvements for estimate_virtual_op_num, history and history_reverse"></a>Improvements for <code>estimate_virtual_op_num</code>, <code>history and history_reverse</code></h4><ul>
<li><a href="https://github.com/holgern/beem/commit/dc1ef5af30be2e8a2f79ee5b06cddc039c4b5477" target="_blank" rel="noopener">commit dc1ef5a</a></li>
<li>Skip estimate_virtual_op_num when max_virtual_num is smaller than batch_size</li>
<li><code>reverse</code> is removed from estimate_virtual_op_num</li>
<li>it is assured in history and history_reverse that the estimated start is really before or after the given one.</li>
</ul>
<h4 id="New-cli-commands-pending-and-rewards"><a href="#New-cli-commands-pending-and-rewards" class="headerlink" title="New cli commands: pending and rewards"></a>New cli commands: pending and rewards</h4><ul>
<li><a href="https://github.com/holgern/beem/commit/71b2dd2f2db0c5caa2019f7ca1b41cb0ec7d9757" target="_blank" rel="noopener">commit 71b2dd2</a><h5 id="Account-3"><a href="#Account-3" class="headerlink" title="Account"></a>Account</h5></li>
<li>Example added and improved</li>
<li>same bug fixes<h5 id="CLI-2"><a href="#CLI-2" class="headerlink" title="CLI"></a>CLI</h5></li>
<li>pending shows now all pending rewards and rewards shows all already received rewards<h5 id="Steem-1"><a href="#Steem-1" class="headerlink" title="Steem"></a>Steem</h5></li>
<li>Doku improved<h5 id="Unit-tests-4"><a href="#Unit-tests-4" class="headerlink" title="Unit tests"></a>Unit tests</h5></li>
<li>tests improved</li>
</ul>
<h4 id="Proof-of-Work-Done"><a href="#Proof-of-Work-Done" class="headerlink" title="Proof of Work Done"></a>Proof of Work Done</h4><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-beem-autoclean-new-cli-commands-virtual-op-estimation-new-comment-functions-and-stand-alone-beempy" target="_blank" rel="noopener">&#x2018;Update for beem - autoclean, new CLI commands, virtual op estimation, new Comment functions and stand alone beempy&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/bug-steem-verifier-crashes-on-certain-transaction-ids/" class="image is-7by1">
            <img class="thumbnail" src="https://gateway.ipfs.io/ipfs/QmR55g2HWLYQJFXko46exShA9rNuRZ1jEtkrbZjJ5grX7P" alt="Bug: steem-verifier crashes on certain transaction ids">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-07T10:08:27.000Z">2018-05-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 496 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/bug-steem-verifier-crashes-on-certain-transaction-ids/">Bug: steem-verifier crashes on certain transaction ids</a>
            
        </h1>
        <div class="content">
            <h4 id="Project-Information"><a href="#Project-Information" class="headerlink" title="Project Information"></a>Project Information</h4><ul>
<li>Repository: <a href="https://github.com/hernandev/steem-verifier" target="_blank" rel="noopener">https://github.com/hernandev/steem-verifier</a></li>
<li>Project Name: steem-verifier</li>
</ul>
<h4 id="Expected-behavior"><a href="#Expected-behavior" class="headerlink" title="Expected behavior"></a>Expected behavior</h4><p>When giving a valid transaction id, steem-verifier should show the public key of the signer and the user name of the signer.</p>
<h4 id="Actual-behavior"><a href="#Actual-behavior" class="headerlink" title="Actual behavior`"></a>Actual behavior`</h4><p>Install steem-verifier with<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install steem-verifier</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and enter the following into the terminal:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steem-verifier d6457b3ad20583b3434f3a06c2c648b3a770c341</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Now steem-verifier crashes with:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ecdsa.numbertheory.SquareRootError: 76198183007165409965398859979003670973818984091490751645956120696063919941083 has no square root modulo 115792089237316195423570985008687907853269984665640564039457584007908834671663</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="How-to-reproduce"><a href="#How-to-reproduce" class="headerlink" title="How to reproduce"></a>How to reproduce</h4><p>Here is the proof that <code>d6457b3ad20583b3434f3a06c2c648b3a770c341</code> is a valid trx<br>(using <a href="https://steemd.com/tx/d6457b3ad20583b3434f3a06c2c648b3a770c341" target="_blank" rel="noopener">https://steemd.com/tx/d6457b3ad20583b3434f3a06c2c648b3a770c341</a>):<br><img src="https://gateway.ipfs.io/ipfs/QmR55g2HWLYQJFXko46exShA9rNuRZ1jEtkrbZjJ5grX7P" alt="image.png"></p>
<ul>
<li>Browser/App version: Python 3.6.4, steempy 1.0.0</li>
<li>Operating system: Linux brooks.uberspace.de 3.10.0-693.11.6.el7.x86_64 #1 SMP Thu Jan 4 01:06:37 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</li>
</ul>
<h4 id="Recording-Of-The-Bug"><a href="#Recording-Of-The-Bug" class="headerlink" title="Recording Of The Bug"></a>Recording Of The Bug</h4><p><img src="https://gateway.ipfs.io/ipfs/Qmbv1V6DxEzuBVYKrhGGZ2rBVPq6ENPWemJWyUWKw755vA" alt="07-05-_2018_11-59-32.gif"><br>Traceback:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/home/holger80/.local/bin/steem-verifier&quot;, line 11, in &lt;module&gt;</span><br><span class="line">    sys.exit(entry())</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/verifier/cli.py&quot;, line 48, in entry</span><br><span class="line">    public_keys = verifier.get_public_keys(transaction_data)</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/verifier/verifier.py&quot;, line 56, in get_public_keys</span><br><span class="line">    for key in transaction.verify(chain=self.chain):</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/steembase/transactions.py&quot;, line 225, in verify</span><br><span class="line">    p = self.recover_public_key(self.digest, sig, recoverParameter)</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/steembase/transactions.py&quot;, line 141, in recover_public_key</span><br><span class="line">    beta = ecdsa.numbertheory.square_root_mod_prime(alpha, curve.p())</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/ecdsa/numbertheory.py&quot;, line 165, in square_root_mod_prime</span><br><span class="line">    % ( a, p ) )</span><br><span class="line">ecdsa.numbertheory.SquareRootError: 76198183007165409965398859979003670973818984091490751645956120696063919941083 has no square root modulo 115792089237316195423570985008687907853269984665640564039457584007908834671663</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It is possible to use the <code>secp256k1</code> module for sign and verify in steem-python. Let&#x2019;s see if the usage of this module changes something:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">=&gt; Extracting public keys...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/home/holger80/.local/bin/steem-verifier&quot;, line 11, in &lt;module&gt;</span><br><span class="line">    sys.exit(entry())</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/verifier/cli.py&quot;, line 48, in entry</span><br><span class="line">    public_keys = verifier.get_public_keys(transaction_data)</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/verifier/verifier.py&quot;, line 56, in get_public_keys</span><br><span class="line">    for key in transaction.verify(chain=self.chain):</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/steembase/transactions.py&quot;, line 213, in verify</span><br><span class="line">    sig = pub.ecdsa_recoverable_deserialize(sig, recoverParameter)</span><br><span class="line">  File &quot;/home/holger80/.local/lib/python3.6/site-packages/secp256k1/__init__.py&quot;, line 136, in ecdsa_recoverable_deserialize</span><br><span class="line">    raise Exception(&quot;invalid rec_id&quot;)</span><br><span class="line">Exception: invalid rec_id</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Does also not work, but different error message.</p>
<h4 id="Proof-of-Work-Done"><a href="#Proof-of-Work-Done" class="headerlink" title="Proof of Work Done"></a>Proof of Work Done</h4><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/bug-steem-verifier-crashes-on-certain-transaction-ids" target="_blank" rel="noopener">&#x2018;Bug: steem-verifier crashes on certain transaction ids&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/warning-revoke-all-your-steemconnect-token-now/" class="image is-7by1">
            <img class="thumbnail" src="https://steemitimages.com/DQmQc6BbLS9R3LE3Wi5441TbUAvRkmY8HHGGYdsJKsnKs34/image.png" alt="SteemConnect token were stolen from utopian.io and used to downvote">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-04T14:13:30.000Z">2018-05-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steemit/">steemit</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 202 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/warning-revoke-all-your-steemconnect-token-now/">SteemConnect token were stolen from utopian.io and used to downvote</a>
            
        </h1>
        <div class="content">
            <p>Somehow account names and their SteemConnect token were stolen and used to downvote haejin:</p>
<p><img src="https://steemitimages.com/DQmQc6BbLS9R3LE3Wi5441TbUAvRkmY8HHGGYdsJKsnKs34/image.png" alt=""></p>
<p><a href="https://steemblockexplorer.com/@haejin/bitcoin-btc-evening-update-short-term-jives-with-the-longer-term" target="_blank" rel="noopener">https://steemblockexplorer.com/@haejin/bitcoin-btc-evening-update-short-term-jives-with-the-longer-term</a><br><img src="https://steemitimages.com/DQmXGg576Jb5sG66pxezT2RwcrTdM3z9rrdSvsfMvrZGWMA/image.png" alt=""></p>
<p>The app which caused this is now disabled!<br><img src="https://steemitimages.com/DQmdbsTKrin3mKHwRWZrHLxNkoi5e2ic7d3NLf9SW6UKRQ5/image.png" alt=""></p>
<p>You might now go to <a href="https://v2.steemconnect.com/apps/authorized" target="_blank" rel="noopener">https://v2.steemconnect.com/apps/authorized</a> and revoke access to utopian.app:</p>
<p><img src="https://steemitimages.com/DQmY5Gyf1L3X2H6jXPHbHRtA5EPG8BvEL7iPYR39zNosRct/image.png" alt=""></p>
<p>by clicking Revoke!</p>
<p>It is not necessary to change the steemit password or the ownerkey.<br><img src="https://steemitimages.com/DQmVBvdHP6m3rB9UTmUpjpoYiiXWTwQmdox5T6cUqpGGt3q/image.png" alt=""></p>
<p>Cause of this is a hack of utopian.io.<br><img src="https://steemitimages.com/DQmUdB8Mxm7qCbxEu9kY2RCie21vXXb9Pt8cukU97DfWPG3/image.png" alt=""><br>From the utopian discord channel:<br><img src="https://steemitimages.com/DQmXfU7RQ2yb87QiUHfCM3ZyZ2AdRgmftCAW7HQbcgrbCPj/image.png" alt=""></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/warning-revoke-all-your-steemconnect-token-now" target="_blank" rel="noopener">&#x2018;SteemConnect token were stolen from utopian.io and used to downvote&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/python-library-beem-documentation-improved/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.utopian.io/posts/fb64988fe5645fa03ab814c3cb14c223a959image.png" alt="Python library beem: Documentation improved">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-01T19:35:24.000Z">2018-05-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 412 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/python-library-beem-documentation-improved/">Python library beem: Documentation improved</a>
            
        </h1>
        <div class="content">
            <center><br><img src="https://cdn.utopian.io/posts/fb64988fe5645fa03ab814c3cb14c223a959image.png" alt="image.png"><br></center><br>#### Details<br>The following parts were improved:<br><br><em> The structure of the decumentation page was improved.
</em> A navigation menu is now accessable from all pages.<br><em> All modules of beem are now collected unter Modules.
</em> The installation section was updated and is at the same level as the readme file in the github.<br><em> The empty quickstart page was filled with content
</em> Five tutorials were added to the tutorials page<br><em> The configuration was improved and updated
</em> beempy CLI was updated and help for each command was added<br><em> The discord channel was added to the Support and questions page
</em> Indices and Tables can be access from all pages<br><em> Doctest added to CI for testing examples in the documentation
</em> The link to the documentation was shifted to the top of the readme<br><br>#### Components<br><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> is a python library for steem. The current version is 0.19.25. A lot of featues were added in the last 25 release, but the documentation was not well maintained.<br><br>#### Diff<br>Almost all parts of the existing documentation were improved.<br>All commands from the command line tool <em>beempy</em> are listed now.<br><center><br><img src="https://cdn.utopian.io/posts/55746acc0f7eda7b2878154fbc4494816f32image.png" alt="image.png"><br></center>

<p>A navigation menu with search bar is now visible on each site.</p>
<center><br><img src="https://cdn.utopian.io/posts/050a6e9844981e90b2243a7d72a3d583b830image.png" alt="image.png"><br></center>

<p>The installation page was improved and adapted to the readme.<br>Quickstart contains now</p>
<ul>
<li>Steem</li>
<li>Wallet and Keys</li>
<li>Receiving information about blocks, accounts, votes, comments, market and witness</li>
<li>Sending transaction to the blockchain</li>
</ul>
<p>The Tutorials page was filled with new content and the following sections were added:</p>
<ul>
<li>Use nobroadcast for testing</li>
<li>Clear BlockchainObject Caching</li>
<li>Batch api calls on AppBase</li>
<li>Account history</li>
<li>Transactionbuilder</li>
</ul>
<p>The Configuration page was improved and contains now the following sections:</p>
<ul>
<li>API node URLs</li>
<li>Default account</li>
<li>Default voting weight</li>
<li>Setting password_storage</li>
</ul>
<p>The beempy CLI page has now a section about all commands and shows a help section for each command.</p>
<p>All examples in the doc section of the python functions within beem were reviewed and some examples are now tested with doctest.</p>
<p>101 files were changed  with 1,486 additions and 708 deletions.</p>
<h4 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h4><p>The documentation of the beem library can be found here: <a href="http://beem.readthedocs.io/en/latest" target="_blank" rel="noopener">http://beem.readthedocs.io/en/latest</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/python-library-beem-documentation-improved" target="_blank" rel="noopener">&#x2018;Python library beem: Documentation improved&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/34/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/36/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/34/">34</a></li>
            
            <li><a class="pagination-link is-current" href="/@holger80/page/35/">35</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/36/">36</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/45/">45</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

