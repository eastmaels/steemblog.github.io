
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@holger80/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@holger80/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@holger80/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@holger80/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/fixing-the-windows-version-of-the-scrypt-library/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmQXphZbUwCzd3YF84Qmz1dxY9bjrivVp3etSfiZ2MxUYG" alt="Fixing the windows build of the scrypt library">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-02-01T23:55:15.000Z">2019-02-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steemdev/">steemdev</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 278 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/fixing-the-windows-version-of-the-scrypt-library/">Fixing the windows build of the scrypt library</a>
            
        </h1>
        <div class="content">
            <p>After seeing that scrypt no longer works for windows:<br><img src="https://ipfs.busy.org/ipfs/QmQXphZbUwCzd3YF84Qmz1dxY9bjrivVp3etSfiZ2MxUYG" alt="image.png"></p>
<p>I had to act, as I&#x2019;m the maintainer of the scrypt package. The package can be found here <a href="https://bitbucket.org/mhallin/py-scrypt/" target="_blank" rel="noopener">https://bitbucket.org/mhallin/py-scrypt/</a>. The original author gave me write access to the repository as he is no longer maintaining it.</p>
<p>scrypt is an important package and is used in several python libraries as dependency (e.g. <a href="https://github.com/bitshares/python-bitshares" target="_blank" rel="noopener">python-bitshares,</a>, <a href="https://github.com/steemit/steem-python" target="_blank" rel="noopener">steem-python</a>, <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> )</p>
<p>The reason why it failed unter windows, is that a library in the OpenSSL package is renamed in the newest windows version of it. By fixing the names, I could compile it again.</p>
<p><img src="https://ipfs.busy.org/ipfs/QmQewtkBgGfCfqRqgS31aLvM532XF1LEhLvBFYUWdv5KJu" alt="image.png"></p>
<h3 id="Compile-scrypt-in-windows"><a href="#Compile-scrypt-in-windows" class="headerlink" title="Compile scrypt in windows"></a>Compile scrypt in windows</h3><p>A c compiler must be installed (e.g. Visual Studio 2017). Then,<br>Win64 OpenSSL v1.1.1a from <a href="https://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener">https://slproweb.com/products/Win32OpenSSL.html</a> must be installed to <code>c:\\OpenSSL-Win64</code><br>A<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py build</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>should now work.</p>
<h2 id="Precompiled-wheels"><a href="#Precompiled-wheels" class="headerlink" title="Precompiled wheels"></a>Precompiled wheels</h2><p>I uploaded also several pre-compiled wheels.<br><img src="https://ipfs.busy.org/ipfs/QmceFwkpAjbkjsxJecxpTTgjUetR4sjWcmjbGJ47of7Sky" alt="image.png"></p>
<p>A<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scrypt</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>under windows should also work without having a compiler. </p>
<h2 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h2><p>I pushed the changes to conda-forge and  working packages are available for windows:</p>
<p><img src="https://ipfs.busy.org/ipfs/QmUF3LXsCAy5puQU3HhsRFDYFHqNWz8TvS8vaZGetCbpgt" alt="image.png"></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/fixing-the-windows-version-of-the-scrypt-library" target="_blank" rel="noopener">&#x2018;Fixing the windows build of the scrypt library&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-beem-getblog-getfollowers-and-getfollowing-works-for-api-steemit-com/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmcRrwLPSywSYMierfP6um6mejeMNGjN9Rxw7audJqTDgb/beem-logo" alt="update for beem - get_blog, get_followers and get_following works for api.steemit.com">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-31T22:54:45.000Z">2019-01-31</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 871 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-beem-getblog-getfollowers-and-getfollowing-works-for-api-steemit-com/">update for beem - get_blog, get_followers and get_following works for api.steemit.com</a>
            
        </h1>
        <div class="content">
            <h4 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h4><p><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></p><center><br><img src="https://cdn.steemitimages.com/DQmcRrwLPSywSYMierfP6um6mejeMNGjN9Rxw7audJqTDgb/beem-logo" alt="beem-logo"><br></center><br><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> is a python library for steem. beem has now 495 unit tests and a coverage of 70 %. The current version is 0.20.18.<br>I created a discord channel for answering a question or discussing beem: <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">https://discord.gg/4HM592V</a><br>The newest beem version can be installed by:<p></p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U beem</span><br></pre></td></tr></tbody></table></figure>
<p>or when  using conda:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install beem</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>beem can be updated by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update beem</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h2><h3 id="public-keys-can-be-set-in-beempy-newaccount-for-account-creation"><a href="#public-keys-can-be-set-in-beempy-newaccount-for-account-creation" class="headerlink" title="public keys can be set in beempy newaccount for account creation"></a>public keys can be set in <code>beempy newaccount</code> for account creation</h3><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beempy newaccount --owner OWNER_PUB --active ACTIVE_PUB --memo MEMO_PUB --posting POSTING_PUB -a CREATOR_ACCOUNT NEW_ACCOUNT</span><br></pre></td></tr></tbody></table></figure>
<p>When the owner, active, memo and posting parameter are used and 4 public keys are set, a new account is created with these 4 keys. Public/private keys can be created by <code>beempy keygen</code></p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+-------------+-----------------------------------------------------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">| Key         | Value                                                                                                           |</span><br><span class="line">+-------------+-----------------------------------------------------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">| Brain Key   | CENTO NOVENA CHIAUS ICEBERG DRAPE ORDERER YUSDRUM APHYLLY TORNUS YAWROOT OBEAH RIT CATELLA SILESIA HUBBA CULTCH |</span><br><span class="line">| Private Key | 5JQZAHjvLf2Tncs6LU1P1nfwpvCaJWe8LKjbpworo5EUjdWL42G                                                             |</span><br><span class="line">| Public Key  | STM7Bq295nbY3sm3RWoSRmQv2pFJdiNcxZZiazKmJw2epY25946D1                                                           |</span><br><span class="line">+-------------+-----------------------------------------------------------------------------------------------------------------+</span><br></pre></td></tr></tbody></table></figure>
<p>When now <code>STM7Bq295nbY3sm3RWoSRmQv2pFJdiNcxZZiazKmJw2epY25946D1</code> is set as one of the four public keys, the new account will have <code>5JQZAHjvLf2Tncs6LU1P1nfwpvCaJWe8LKjbpworo5EUjdWL42G</code> as one of the four private keys.</p>
<p>By this, it is possible to create 4 public/private keys and give only the public keys to someone else, who can then claim a new account using these 4 public keys.</p>
<h2 id="Nodelist-api-steemit-com-is-handled-as-limited-node"><a href="#Nodelist-api-steemit-com-is-handled-as-limited-node" class="headerlink" title="Nodelist - api.steemit.com is handled as limited node"></a>Nodelist - api.steemit.com is handled as limited node</h2><p>The <code>get_nodes</code>  function has now an <code>exclude_limited</code> parameter. When set to True, <a href="https://api.steemit.com" target="_blank" rel="noopener">https://api.steemit.com</a> is excluded. The reason for doing this, is that <a href="https://api.steemit.com" target="_blank" rel="noopener">https://api.steemit.com</a> is not a feature-complete full node anymore. Several API calls do not work anymore.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from beem.nodelist import NodeList</span><br><span class="line">nodelist = NodeList()</span><br><span class="line">nodelist.update_nodes()</span><br><span class="line">print(nodelist.get_nodes(exclude_limited=True))</span><br></pre></td></tr></tbody></table></figure>
<p>returns nodes without api.steemit.com:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&apos;https://steemd.minnowsupportproject.org&apos;, &apos;https://rpc.steemviz.com&apos;, &apos;https://anyx.io&apos;, &apos;https://rpc.usesteem.com&apos;, &apos;https://appbasetest.timcliff.com&apos;, &apos;https://steemd.privex.io&apos;, &apos;https://api.steem.house&apos;]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The <a href="https://rpc.usesteem.com" target="_blank" rel="noopener">https://rpc.usesteem.com</a> was added to the nodelist.</p>
<h2 id="Bug-fixes"><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h2><p>Issue <a href="https://github.com/holgern/beem/issues/146" target="_blank" rel="noopener">#146</a> was caused by moving several API calls to hivemind. By this, the return structure of some calls were changed. The issue was<br>fixed by improving<br><code>get_blog</code>, <code>get_followers</code> and <code>get_following</code> so that they works with api.steemit.com.<br>It was sufficient in this case to check of the returned object is a <code>dict</code> or a list.</p>
<p>When the returned object is a dict, it is converted into  a list by returning the content in the <code>blog</code> field:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if isinstance(ret, dict) and &quot;blog&quot; in ret:</span><br><span class="line">    ret = ret[&quot;blog&quot;]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>After doing this, both lists are similar and can be processed and returned.</p>
<p>Example call:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from beem.account import Account</span><br><span class="line">stm = Steem(node=&quot;https://api.steemit.com&quot;)</span><br><span class="line">acc = Account(&quot;holger80&quot;, steem_instance=stm)</span><br><span class="line">print(&quot;%d followers, %d following&quot; % (len(acc.get_followers()), len(acc.get_following())))</span><br><span class="line">print(&quot;Last blog: %s&quot; % (acc.get_blog(limit=1)[0][&quot;title&quot;]))</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>returns<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1269 followers, 342 following</span><br><span class="line">Last blog: steemrewarding.com - curation performance is shown and other improvements</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Results for other nodes:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem import Steem</span><br><span class="line">from beem.account import Account</span><br><span class="line">stm = Steem(node=&quot;https://steemd.minnowsupportproject.org&quot;)</span><br><span class="line">acc = Account(&quot;holger80&quot;, steem_instance=stm)</span><br><span class="line">print(&quot;%d followers, %d following&quot; % (len(acc.get_followers()), len(acc.get_following())))</span><br><span class="line">print(&quot;Last blog: %s&quot; % (acc.get_blog(limit=1)[0][&quot;title&quot;]))</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>returns<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1272 followers, 342 following</span><br><span class="line">Last blog: steemrewarding.com - curation performance is shown and other improvements</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="Unit-tests-are-fixed"><a href="#Unit-tests-are-fixed" class="headerlink" title="Unit tests are fixed"></a>Unit tests are fixed</h2><p>In all unit tests, the api.steemit.com node is excluded. This fixes all unit tests.</p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="beempy-newaccount-possible-to-provide-owen-posting-active-and-memo-pub-key-to-create-a-new-account"><a href="#beempy-newaccount-possible-to-provide-owen-posting-active-and-memo-pub-key-to-create-a-new-account" class="headerlink" title="beempy newaccount - possible to provide owen, posting, active, and memo pub_key to create a new account"></a>beempy newaccount - possible to provide owen, posting, active, and memo pub_key to create a new account</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/5029b0834ee6908e5604f8c51b47bf00562ef7ab" target="_blank" rel="noopener">commit 5029b08</a></li>
</ul>
<h3 id="Fix-get-follower-and-get-following-for-api-steemit-com"><a href="#Fix-get-follower-and-get-following-for-api-steemit-com" class="headerlink" title="Fix get_follower and get_following for api.steemit.com"></a>Fix get_follower and get_following for api.steemit.com</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/0267cf1f0eb14a14d62e11968c3eb4ee24d476e8" target="_blank" rel="noopener">commit 0267cf1</a></li>
</ul>
<h3 id="Fix-get-blog-for-api-steemit-com"><a href="#Fix-get-blog-for-api-steemit-com" class="headerlink" title="Fix get_blog for api.steemit.com"></a>Fix get_blog for api.steemit.com</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/cf284bdcffd490463be19cbf518af02db8eaf4be" target="_blank" rel="noopener">commit cf284bd</a></li>
<li>remove wss://steemd-appbase.steemit.com</li>
</ul>
<h3 id="Nodelist-udpated"><a href="#Nodelist-udpated" class="headerlink" title="Nodelist udpated"></a>Nodelist udpated</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/a9972c48729cb394dd44df6c0c598c6121314926" target="_blank" rel="noopener">commit a9972c4</a></li>
<li>normal and appbase option for Nodelist are deprecated. </li>
<li>exclude_limited added for getting a nodelist without api.steemit.com.</li>
<li>full node server added</li>
<li>unit tests adapted</li>
</ul>
<h3 id="Fix-wrong-full-node-api-urls-in-unit-tests"><a href="#Fix-wrong-full-node-api-urls-in-unit-tests" class="headerlink" title="Fix wrong full node api urls in unit tests"></a>Fix wrong full node api urls in unit tests</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/46f6a6985e12469678dabe95314f410484504237" target="_blank" rel="noopener">commit 46f6a69</a></li>
</ul>
<h3 id="Fix-unittests"><a href="#Fix-unittests" class="headerlink" title="Fix unittests"></a>Fix unittests</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/500f9a864aa184d591b7a8fc1dc15ae7a9f448af" target="_blank" rel="noopener">commit 500f9a8</a></li>
<li>Remove not working steemitdev testnet</li>
<li>exclude api.steemit.com from some tests</li>
</ul>
<h2 id="Github-account"><a href="#Github-account" class="headerlink" title="Github account"></a>Github account</h2><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-beem-getblog-getfollowers-and-getfollowing-works-for-api-steemit-com" target="_blank" rel="noopener">&#x2018;update for beem - get_blog, get_followers and get_following works for api.steemit.com&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemrewarding-com-curation-performance-is-shown-and-other-improvements/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="steemrewarding.com - curation performance is shown and other improvements">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-29T21:37:57.000Z">2019-01-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 725 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemrewarding-com-curation-performance-is-shown-and-other-improvements/">steemrewarding.com - curation performance is shown and other improvements</a>
            
        </h1>
        <div class="content">
            <p></p><center><br><img src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="rewarding_batch2.png"><br></center><p></p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a></p>
<p>steemrewarding.com is a feature-rich automatic voting tool. It can be used to create voting rules at <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a>, when posting authority was given to the @rewarding account. I created a discord server for all topics regarding steemrewarding.com: <a href="https://discord.gg/qpsR8hf" target="_blank" rel="noopener">discord invitation</a>.</p>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><h3 id="Curation-performance-is-shown-for-all-recorded-votes-in-the-vote-log"><a href="#Curation-performance-is-shown-for-all-recorded-votes-in-the-vote-log" class="headerlink" title="Curation performance is shown for all recorded votes in the vote log"></a>Curation performance is shown for all recorded votes in the vote log</h3><p><img src="https://ipfs.busy.org/ipfs/QmRg5CqNHcsHoz3m4q9wX6RJfNxS1hoCkUZCNyiPCEyCVM" alt="image.png"><br>The curation performance is calculated by the <code>beem</code> function <code>get_curation_rewards</code>:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">c = Comment(authorperm, steem_instance=stm)</span><br><span class="line">curation_rewards_SBD = c.get_curation_rewards(pending_payout_SBD=True)</span><br><span class="line">performance = 0</span><br><span class="line">for vote in c[&quot;active_votes&quot;]:</span><br><span class="line">    if vote[&quot;voter&quot;] != vote_log[&quot;voter&quot;]:</span><br><span class="line">        continue</span><br><span class="line">    vote_SBD = stm.rshares_to_sbd(int(vote[&quot;rshares&quot;]))</span><br><span class="line">    curation_SBD = curation_rewards_SBD[&quot;active_votes&quot;][vote[&quot;voter&quot;]]</span><br><span class="line">    if vote_SBD &gt; 0:</span><br><span class="line">        performance = (float(curation_SBD) / vote_SBD * 100)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In every round, 4 votes are analyzed. Thus, the performance calculation of all votes should be updated every few hours.</p>
<p>A curation performance of 100% means that the upvote rshares will be returned as curation rewards. </p>
<h3 id="Leaving-a-comment-for-each-vote"><a href="#Leaving-a-comment-for-each-vote" class="headerlink" title="Leaving a comment for each vote"></a>Leaving a comment for each vote</h3><p>When a upvote comment string is set in <a href="https://steemrewarding.com/settings" target="_blank" rel="noopener">https://steemrewarding.com/settings</a> and <code>leave_comment</code> is set  to True in a vote rule, a comment is created below each voted post/comment.</p>
<p>For example, I stored the following upvote comment  at  <a href="https://steemrewarding.com/settings" target="_blank" rel="noopener">https://steemrewarding.com/settings</a>:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi {{name}},</span><br><span class="line">{{voter}} was here.</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><code>{{name}}</code> is replaced by the author username with a trailing @. <code>{{voter}}</code> is replaced by the voter user name with a trailing @.</p>
<p>Now the following comment will be created:<br><img src="https://ipfs.busy.org/ipfs/QmWjE6E49PPCquiqFFyXN94YYdqck4BuBL291LF54W55b1" alt="image.png"></p>
<p>This feature is intended for community bots. I hope it will be useful.</p>
<h3 id="Deleting-of-pending-votes-is-possible"><a href="#Deleting-of-pending-votes-is-possible" class="headerlink" title="Deleting of pending votes is possible"></a>Deleting of pending votes is possible</h3><p>Pending votes in <a href="https://steemrewarding.com/show_pending_votes" target="_blank" rel="noopener">https://steemrewarding.com/show_pending_votes</a> can now be deleted. Be careful, there is no confirmation.</p>
<h3 id="Comment-command-parsing"><a href="#Comment-command-parsing" class="headerlink" title="Comment command parsing"></a>Comment command parsing</h3><p>Commands in comments and posts similar as shown here (I cannot write the command here, otherwise this post will be upvoted):<br><img src="https://ipfs.busy.org/ipfs/Qmb9mfKGnZL1QeJjV6JsNoFnAkpuMgPQ9oPMavrnUi2PHV" alt="image.png"><br>will be parsed and a pending vote will be created in the database. The syntax is<br>keyword <code>upvote weight</code> % <code>vote delay</code> min<br>Vote delay and upvote weight can also be switched. There are unit tests for the command parsing which tests the following cases:<br><img src="https://ipfs.busy.org/ipfs/QmS4zLsdsX1XXvhQp9ucKvVDjfPMMd5GwAJ8JeExkoN2xj" alt="image.png"></p>
<h3 id="New-icon"><a href="#New-icon" class="headerlink" title="New icon"></a>New icon</h3><p>I created a new icon for the project. I hope you like it:<br><img src="https://ipfs.busy.org/ipfs/QmfYFnTHtS2a71G5ZSf4Rbj3RaA9TaoJs24QFTPHTtQ5xc" alt="steemrewarding2.png"></p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="fix-missing-parameter-in-dict"><a href="#fix-missing-parameter-in-dict" class="headerlink" title="fix missing parameter in dict"></a>fix missing parameter in dict</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/2a0998335480f7433eab6f7218a7f36021cdadd8" target="_blank" rel="noopener">commit 2a09983</a></li>
</ul>
<h3 id="Account-settings-delete-of-pending-votes-and-vote-comment-added"><a href="#Account-settings-delete-of-pending-votes-and-vote-comment-added" class="headerlink" title="Account settings, delete of pending votes and vote comment added"></a>Account settings, delete of pending votes and vote comment added</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/cb3c74d35322fcb7af1abc1b4916ff8c8ef4a75c" target="_blank" rel="noopener">commit cb3c74d</a></li>
<li>a new user settings page was added in which a upvote comment can be edited</li>
<li>pending votes can be deleted</li>
<li>vote comments with place holder for author and voter are working<h3 id="New-icon-layout"><a href="#New-icon-layout" class="headerlink" title="New icon layout"></a>New icon layout</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/f0aa75645be6f00ee53024da3003776ba8d4ee5a" target="_blank" rel="noopener">commit f0aa756</a><h3 id="several-improvements-and-bug-fixes"><a href="#several-improvements-and-bug-fixes" class="headerlink" title="several improvements and bug fixes"></a>several improvements and bug fixes</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/c95454aafab6e1cce8559a2f7a0fbb7deb88501b" target="_blank" rel="noopener">commit c95454a</a></li>
<li>delete old vote log added</li>
<li>fixed count of votes per day and week<h3 id="add-command-parsing"><a href="#add-command-parsing" class="headerlink" title="add command parsing"></a>add command parsing</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/639e57f94dffa97fa8437731eaff0b3fe3a8b2f6" target="_blank" rel="noopener">commit 639e57f</a></li>
<li>commands e.g. $rewarding 100% 15min, or now parsed and processed</li>
<li>unit test for command parsing added</li>
</ul>
<h3 id="add-curation-performance-calculation-to-vote-logs"><a href="#add-curation-performance-calculation-to-vote-logs" class="headerlink" title="add curation performance calculation to vote logs"></a>add curation performance calculation to vote logs</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/8035d566bfddd027bf4c2cdafa59a0a132198cff" target="_blank" rel="noopener">commit 8035d56</a></li>
<li>for each logged vote, the curation performance is shown and stored in the database</li>
<li>in each round, the performance for one vote log entry is updated</li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemrewarding-com-curation-performance-is-shown-and-other-improvements" target="_blank" rel="noopener">&#x2018;steemrewarding.com - curation performance is shown and other improvements&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemmonsters-tournament-list-at-beempy-com-is-updated-every-15-min-now/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmU1KWJXJDyqpyyBNikgwRq26fosV7aPXcinZ2orTeMHhb" alt="Steemmonsters tournament list at beempy.com is updated every 15 min now">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-28T12:32:51.000Z">2019-01-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steemmonsters/">steemmonsters</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 278 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemmonsters-tournament-list-at-beempy-com-is-updated-every-15-min-now/">Steemmonsters tournament list at beempy.com is updated every 15 min now</a>
            
        </h1>
        <div class="content">
            <h2 id="Tournaments"><a href="#Tournaments" class="headerlink" title="Tournaments"></a>Tournaments</h2><p>I improved the steemmonsters tournaments list on <a href="https://beempy.com" target="_blank" rel="noopener">beempy.com</a>. Tournaments from fined challonge.com sites are scanned every 15 minutes now. The list can be found here: <a href="https://beempy.com/static/sm_tournaments.html" target="_blank" rel="noopener">https://beempy.com/static/sm_tournaments.html</a></p>
<p>The time when a tournament starts is now shown in minutes / hours /days.</p>
<p><img src="https://ipfs.busy.org/ipfs/QmU1KWJXJDyqpyyBNikgwRq26fosV7aPXcinZ2orTeMHhb" alt="image.png"></p>
<p>Tournaments with a pending or checkin_in state are shown. The tournaments are received by checking manual set challonge.com user sites. Let me know, If I forgot some challonge user. <code>https://challonge.com</code> is added before the following urls:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">urls = [&quot;users/smspanish&quot;,</span><br><span class="line">        &quot;games/steem-monsters/tournaments&quot;,</span><br><span class="line">        &quot;users/bdcommunity&quot;,</span><br><span class="line">        &quot;users/travelgirl_&quot;,</span><br><span class="line">        &quot;users/carrieallen&quot;,</span><br><span class="line">        &quot;users/imperfectone&quot;,</span><br><span class="line">        &quot;users/jayplayco&quot;,</span><br><span class="line">        &quot;users/clove71&quot;,</span><br><span class="line">        &quot;users/theaustrianguy&quot;,</span><br><span class="line">        &quot;users/crystalhuman&quot;,</span><br><span class="line">        &quot;users/zaxan&quot;,</span><br><span class="line">        &quot;users/toocurious&quot;,</span><br><span class="line">        &quot;users/stealthtrader&quot;,</span><br><span class="line">        &quot;users/clayboyn&quot;,</span><br><span class="line">        &quot;users/khan_dayyanz&quot;,</span><br><span class="line">        &quot;users/tendershepard&quot;,</span><br><span class="line">        &quot;users/enginewitty&quot;,</span><br><span class="line">        &quot;users/bashadow&quot;,</span><br><span class="line">        &quot;games/steemmonsters/tournaments&quot;,</span><br><span class="line">        &quot;https://buildteam.challonge.com/&quot;,</span><br><span class="line">        ]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>When a listed tournament is finished, an automatic result is posted by the @smtournament account.</p>
<h2 id="ELO-Ranking"><a href="#ELO-Ranking" class="headerlink" title="ELO - Ranking"></a>ELO - Ranking</h2><p>Every 15 minutes, the challenge - ranking of all played challenge matches is recalculated. The ranking can be found here:<br><a href="https://beempy.com/static/sm_ranking.html" target="_blank" rel="noopener">https://beempy.com/static/sm_ranking.html</a></p>
<p><img src="https://ipfs.busy.org/ipfs/QmedhioGa3rzBZd3u3isPcuETCANVKnxJgmgMfMuFyMqrx" alt="image.png"></p>
<p>Currently, 14969 challenges were played by 837 players.</p>
<h2 id="Challenge-results"><a href="#Challenge-results" class="headerlink" title="Challenge results"></a>Challenge results</h2><p>As often as possible, results from currently played challenges are shown at:<br><a href="https://beempy.com/static/sm_challenges.html" target="_blank" rel="noopener">https://beempy.com/static/sm_challenges.html</a><br><img src="https://ipfs.busy.org/ipfs/QmPr6MvGWXHi7JVvsExV4j66weNxyQA8N9mTq1BLnZ26X2" alt="image.png"></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemmonsters-tournament-list-at-beempy-com-is-updated-every-15-min-now" target="_blank" rel="noopener">&#x2018;Steemmonsters tournament list at beempy.com is updated every 15 min now&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemrewarding-com-one-time-delayed-vote-and-failed-vote-log-added/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmcpQ5YGoRQ8rUP13ELUP5kDGKUVkqkEakbwkAPXd1gx73" alt="steemrewarding.com - one time delayed vote and failed vote log added">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-25T16:35:03.000Z">2019-01-25</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 636 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemrewarding-com-one-time-delayed-vote-and-failed-vote-log-added/">steemrewarding.com - one time delayed vote and failed vote log added</a>
            
        </h1>
        <div class="content">
            <center><br><img src="https://ipfs.busy.org/ipfs/QmcpQ5YGoRQ8rUP13ELUP5kDGKUVkqkEakbwkAPXd1gx73" alt="rewarding_batch.png"><br></center>

<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a></p>
<p>steemrewarding.com is a feature-rich automatic voting tool. It can be used to create voting rules at <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a>, when posting authority was given to the @rewarding account. I created a discord server for all topics regarding steemrewarding.com: <a href="https://discord.gg/qpsR8hf" target="_blank" rel="noopener">https://discord.gg/qpsR8hf</a></p>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><h3 id="Delayed-voting-without-creating-a-voting-rule"><a href="#Delayed-voting-without-creating-a-voting-rule" class="headerlink" title="Delayed voting without creating a voting rule"></a>Delayed voting without creating a voting rule</h3><p>The steemrewarding.com site has a new tab <a href="https://steemrewarding.com/delayed_vote" target="_blank" rel="noopener">https://steemrewarding.com/delayed_vote</a>, in which a delayed vote can be triggered. This will not create a voting rule and will lead to a one-time vote at the given delay with the given vote weight.</p>
<p><img src="https://ipfs.busy.org/ipfs/QmWFDJpk9VoMGy3L3YKhVX4f6CYyBLJa4hBv7GoEpGrYo8" alt="image.png"></p>
<p>The authorperm can be copy and paste from the URL or, it is also possible to replace steemit by steemrewarding.</p>
<p>By replacing steemit in<br><img src="https://ipfs.busy.org/ipfs/QmYRZcuMr7DEs8Cpf7jVzHNatjvL36jTz7ff8Zx2AqPiNP" alt="image.png"><br>with steemrewarding<br><img src="https://ipfs.busy.org/ipfs/QmThKtihgqoVaJiRrh2jJ7yZ1HWnCrEgpY3MKSvWJdT44Q" alt="image.png"></p>
<p>the authorperm is filled correctly and the upvote can be triggered:<br><img src="https://ipfs.busy.org/ipfs/QmXMPGYGtPhayioHnwVDxcTrT35A9eXXLGx3krudn48tdy" alt="image.png"></p>
<p>A new entry in the pending vote database is now created and can be viewed at: <a href="https://steemrewarding.com/show_pending_votes" target="_blank" rel="noopener">https://steemrewarding.com/show_pending_votes</a>.</p>
<h2 id="Failed-votes-are-stored-in-a-new-database"><a href="#Failed-votes-are-stored-in-a-new-database" class="headerlink" title="Failed votes are stored in a new database"></a>Failed votes are stored in a new database</h2><p>I created a new database <code>failed_vote_log</code> which is used to store failed votes.<br>For example, when a post is older than 6.5 days and cannot be upvoted, a new entry with a error message is created. Failed votes can be viewed under <a href="https://steemrewarding.com/show_failed_vote_log" target="_blank" rel="noopener">https://steemrewarding.com/show_failed_vote_log</a>.</p>
<h2 id="Database-connection-handling-is-improved-in-the-flask-site"><a href="#Database-connection-handling-is-improved-in-the-flask-site" class="headerlink" title="Database connection handling is improved in the flask site"></a>Database connection handling is improved in the flask site</h2><p>The database connection is now opened only once in the beginning and not before every database call:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db = dataset.connect(databaseConnector)</span><br><span class="line">voteRulesTrx = VoteRulesTrx(db)</span><br><span class="line">voteLogTrx = VoteLogTrx(db)</span><br><span class="line">failedVoteLogTrx = FailedVoteLogTrx(db)</span><br><span class="line">pendingVotesTrx = PendingVotesTrx(db)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>On each database access, it is checked if the database connection still works by using a try/exception call:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    rules = voteRulesTrx.get_posts(name)</span><br><span class="line">except:</span><br><span class="line">    db = dataset.connect(databaseConnector)</span><br><span class="line">    voteRulesTrx = VoteRulesTrx(db)</span><br><span class="line">    rules = voteRulesTrx.get_posts(name)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In case of a timeout, the database connection is recreated.</p>
<h2 id="vote-sbd-can-be-specified"><a href="#vote-sbd-can-be-specified" class="headerlink" title="vote_sbd can be specified"></a>vote_sbd can be specified</h2><p>When <code>vote_sbd</code> is set and <code>vote_weight</code> is zero, the vote weight is calculated by:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if vote_weight &lt;= 0:        </span><br><span class="line">    vote_weight = voter_acc.get_vote_pct_for_SBD(pending_vote[&quot;vote_sbd&quot;]) / 100</span><br><span class="line">    if vote_weight &gt; 100:</span><br><span class="line">        vote_weight = 100</span><br></pre></td></tr></tbody></table></figure>
<p>Is is now possible to always vote with 0.05$ for example. The vote weight is adapted to the current steem price (Of course this works only of the vote at 100% is sufficient high).</p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Add-steemrewarding-icon-to-homepage"><a href="#Add-steemrewarding-icon-to-homepage" class="headerlink" title="Add steemrewarding icon to homepage"></a>Add steemrewarding icon to homepage</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/070663fa3587dd4e6f74a2ad90a8cab6c5d41119" target="_blank" rel="noopener">commit 070663f</a><h3 id="implement-vote-sbd-rule-parameter-can-be-set-to-upvote-in-STU"><a href="#implement-vote-sbd-rule-parameter-can-be-set-to-upvote-in-STU" class="headerlink" title="implement vote_sbd rule parameter, can be set to upvote in STU"></a>implement vote_sbd rule parameter, can be set to upvote in STU</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/f577be3412041e63673e810423978430eca97cfc" target="_blank" rel="noopener">commit f577be3</a></li>
<li>fix js path</li>
<li>improve database connection handling in flask homepage</li>
</ul>
<h3 id="one-time-delayed-vote-and-failed-votel-added"><a href="#one-time-delayed-vote-and-failed-votel-added" class="headerlink" title="one time delayed vote and failed votel added"></a>one time delayed vote and failed votel added</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/a95683b989d81742b867a4ee78e2f94adcc11f72" target="_blank" rel="noopener">commit a95683b</a></li>
<li>failed vote log entries with specific error message added for each possible case in upvote_post_comments.py</li>
<li>site for displaying failed votes added and menu entry added for it</li>
<li>one time vote site added and menu entry edded for it</li>
<li>vote_delay_min is applyed when vote_when_vp_reached is True</li>
</ul>
<h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemrewarding-com-one-time-delayed-vote-and-failed-vote-log-added" target="_blank" rel="noopener">&#x2018;steemrewarding.com - one time delayed vote and failed vote log added&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemrewarding-com-a-new-feature-rich-auto-voter/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmezYEovfKm4Mox5XvsVaZv11HLuqrvCmySPTCaLacKa4d" alt="steemrewarding.com - a new feature rich auto voter">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-24T12:23:24.000Z">2019-01-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 1115 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemrewarding-com-a-new-feature-rich-auto-voter/">steemrewarding.com - a new feature rich auto voter</a>
            
        </h1>
        <div class="content">
            <h4 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h4><p><a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a></p>
<h3 id="steemrewarding"><a href="#steemrewarding" class="headerlink" title="steemrewarding"></a>steemrewarding</h3><p>steemrewarding is a new feature rich auto voter for the steem blockchain. It can be found at: <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a>. The @rewarding account is used for voting.</p>
<p>As soon as posting authority is given to @rewarding by <a href="https://steemconnect.com/authorize/@rewarding" target="_blank" rel="noopener">steemconnect</a>, vote rules can be created and posts or comments will be automatically upvoted when fitting.</p>
<p>It is now possible to create two rules per author, one for posts and one for comments. Each rule has the fields:</p>
<ul>
<li><code>voter</code> - account name of the voter, must has given posting authority to @rewarding. Cannot be set at the homepage, as only rules for accounts for which I have the keys can be added or edited.</li>
<li><code>author</code> - steem account for which the rule apply</li>
<li><code>main_post</code> - defines if the rule apply for posts or for comments</li>
<li><code>vote_delay_min</code>:  - When <code>vote_when_vp_reached</code> is False, the post/comment is voted when the post is <code>vote_delay_min</code> minutes old and all other rule parameter are fitting.</li>
<li><code>vote_weight</code>: - 0% - 100% defines the vote weight. (Can be modified by setting <code>vp_scaler</code>)</li>
<li><code>enabled</code>: Rule is enabled, when this is set to True</li>
<li><code>vote_sbd</code>: Not active yet</li>
<li><code>max_votes_per_day</code>: limites the number of votes (votes are counted in a sliding window), only votes given by the auto voter are counted.</li>
<li><code>max_votes_per_week</code>: limites the number of votes (votes are counted in a sliding window), only votes given by the auto voter are counted.</li>
<li><code>include_tags</code>: Comma separated list of tags that must be included. E.g. python,c means the post/comment must either have a python tag or a c tag. Tags can be combinded with &amp;. E.g. python&amp;c,js. In this case, posts/comments are voted, when they have a js tag or a python and a c tag.</li>
<li><code>exclude_tags</code>: Same as <code>include_tags</code>, posts/comments with tags that were added here, will not be upvoted. The tags, must be comma separated and the &amp; sign can be used. E.g. python&amp;c, js. In this case, posts/comments that have a js or a python and c tag will not be upvoted.</li>
<li><code>vote_when_vp_reached</code>: When enabled, posts/comments will be upvoted when the <code>min_vp</code> is reached. </li>
<li><code>min_vp</code>: Minimum vote power applies for timed and vp based votes. When <code>vote_when_vp_reached</code> is False and vp is below <code>min_vp</code>, the comment/post will not be upvoted.</li>
<li><code>vp_scaler</code>: When higher than 0, the vote weight is reduced by this scaler depending on the votepower. E.g. <code>vp_scaler</code> is 0.5, then the vote weight is multiplied by 1 - ((100-vp) / 100 *vp_scaler). When vp is 100, the vote weight is not changed. When vp is 80, the new vote weight is multiplied by 0.9.</li>
<li><code>leave_comment</code>: not implemented yet</li>
<li><code>minimum_word_count</code>: When the post/comment word count is below, the post/comment is not upvoted.</li>
<li><code>include_apps</code>: comma-separated list of apps that will be upvoted, when set.</li>
<li><code>exclude_apps</code>: comma-separated list of apps that will not be upvoted, when set.</li>
<li><code>exclude_declined_payout</code>: When True, posts/comments with declined payout will not be upvoted.</li>
<li><code>vp_reached_order</code>: When <code>vote_when_vp_reached</code> is True, this defines which posts is upvoted first. The pending post with the lowest <code>vp_reached_order</code> is upvoted first.</li>
<li><code>max_net_votes</code>: When set, the post/comment is only upvted when the number of given votes is below.</li>
<li><code>max_pending_payout</code>: When set, the post/comment is only upvted when the pending payout  is below.</li>
<li><code>include_text</code>: When set, the post/comment is only upvoted when its the given text is included.</li>
<li><code>exclude_text</code>: When set, the post/comment is not upvoted when its the given text is included.</li>
</ul>
<h3 id="Database-structure"><a href="#Database-structure" class="headerlink" title="Database structure"></a>Database structure</h3><p>Posts/comments for which a rule exists, are stored in the posts database. New posts/comments are found by streaming all blocks. This is performed in the <code>stream_blocks.py</code> script. </p>
<p>Then in the <code>apply_vote_rules.py</code> script, not processed posts/comments that were stored in the database are checked if one rule applies. When this is the case, teh authorperm with some addional information is stored in the pending votes database.</p>
<p>Finally, the <code>upvote_post_comments.py</code> script checks of one of the pending votes can be upvoted. Sucessfully upvoted posts or comments will be added to the vote log database.</p>
<h3 id="Homepage"><a href="#Homepage" class="headerlink" title="Homepage"></a>Homepage</h3><p>Each steem user can add rules and use steemrewarding through the <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a> homepage.<br><img src="https://ipfs.busy.org/ipfs/QmezYEovfKm4Mox5XvsVaZv11HLuqrvCmySPTCaLacKa4d" alt="image.png"><br>After logging in with steemconnect (I&#x2019;m using the @beem.app steemconnect account for this)<br><img src="https://ipfs.busy.org/ipfs/Qmeq1iR4r4966b9qiSLQF4EngsYFgetB5MgH1ujMpriG54" alt="image.png"><br>The homepage can be used:<br><img src="https://ipfs.busy.org/ipfs/QmbAXz4rVF8jWfhXVcwUesDdUxA5CWX85HvPqwGgEXCqGj" alt="image.png"><br>The steemconnect link is only be used to verify the steem account.</p>
<ul>
<li>Show rules: prints all stored rules. It is possible to edit and delete rules here.</li>
<li>Add a new rule: Can be used to create a new voting rule.</li>
<li>Show vote log: Shows sucessfully upvoted posts</li>
<li>Show Pending votes: shows pending votes for the current logged in account.</li>
<li>Logout can be used to remove the steemconnect token from the session.</li>
</ul>
<h3 id="Technology-Stack"><a href="#Technology-Stack" class="headerlink" title="Technology Stack"></a>Technology Stack</h3><p>The postgres database is used to store rules, posts, pending votes, given votes and some more information. The scripts are programmed with python 3 using <a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a>. Python3 + flask is used for the homepage.</p>
<h3 id="Roadmap"><a href="#Roadmap" class="headerlink" title="Roadmap"></a>Roadmap</h3><p>The not used rules: <code>vote_sbd</code> and <code>leave_comment</code> will be added next. When <code>leave_comment</code> is set, a comment from the voter with a defined text should be broadcasted.</p>
<p>I plan also a user settings page, where global parameter can be set.</p>
<p>Vote trails is also a missing feature which will be added.</p>
<p>The @rewarding account was used before for upvoting posts, when a command was written in a comment. This functionality will be added to the github in the next update. It will then be possible to upvote a post/comment without having a rule for but, but writing a command in a comment below this post.</p>
<h3 id="How-to-contribute"><a href="#How-to-contribute" class="headerlink" title="How to contribute?"></a>How to contribute?</h3><p>The issue tracker at  <a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a> can be used for feature wishes, ideas, and bug reports. Pull request can also be created after forking the repository for improving the code or the homepage.</p>
<p>I created also a new discord server for discussing everything about steemrewarding:<br><a href="https://discord.gg/qpsR8hf" target="_blank" rel="noopener">https://discord.gg/qpsR8hf</a></p>
<h4 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h4><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemrewarding-com-a-new-feature-rich-auto-voter" target="_blank" rel="noopener">&#x2018;steemrewarding.com - a new feature rich auto voter&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/10/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/12/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/10/">10</a></li>
            
            <li><a class="pagination-link is-current" href="/@holger80/page/11/">11</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/12/">12</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/45/">45</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

