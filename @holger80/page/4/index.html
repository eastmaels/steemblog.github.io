
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@holger80/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@holger80/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@holger80/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@holger80/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@holger80/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@holger80/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/steemrewarding-com-vote-delay-optimization-added/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="steemrewarding.com - vote delay optimization added">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-18T13:42:36.000Z">2019-04-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 871 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/steemrewarding-com-vote-delay-optimization-added/">steemrewarding.com - vote delay optimization added</a>
            
        </h1>
        <div class="content">
            <p></p><center><img src="https://ipfs.busy.org/ipfs/QmPhk8pRRbgjHqHpNpSuuFiWkDuKppxDpyzSPpMCGZwS8a" alt="rewarding_batch2.png"><br></center><p></p>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/steemrewarding" target="_blank" rel="noopener">https://github.com/holgern/steemrewarding</a></p>
<p>steemrewarding.com is a feature-rich automatic voting tool. It can be used to create voting rules at <a href="https://steemrewarding.com" target="_blank" rel="noopener">https://steemrewarding.com</a>, when posting authority was given to the @rewarding account. I created a discord server for all topics regarding steemrewarding.com: <a href="https://discord.gg/qpsR8hf" target="_blank" rel="noopener">discord invitation</a>.</p>
<p>steemrewarding is currently used by 126 users which created 1193 rules for posts, 85 rules for comments and 24 trail vote rules. In the last 7 days were 4244 time based votes and 1986 vp based votes broadcasted through steemrewarding. </p>
<h2 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h2><h3 id="New-rules-can-be-directly-created-by-entering-steemrewarding-com-author-in-the-browser"><a href="#New-rules-can-be-directly-created-by-entering-steemrewarding-com-author-in-the-browser" class="headerlink" title="New rules can be directly created by entering steemrewarding.com/@author in the browser"></a>New rules can be directly created by entering steemrewarding.com/@author in the browser</h3><p>When entering a steem account name after stemrewarding.com, a new rule can be directly be created. For example, <a href="https://steemrewarding.com/@utopian-io" target="_blank" rel="noopener">https://steemrewarding.com/@utopian-io</a><br>will open the new rule editor:<br><img src="https://ipfs.busy.org/ipfs/QmXWdU1qTUfFSJXFNVoUEsL2vZY23TUxrWfaTTCMvQnh7n" alt="image.png"></p>
<h2 id="Vote-delay-optimization"><a href="#Vote-delay-optimization" class="headerlink" title="Vote delay optimization"></a>Vote delay optimization</h2><p>A user of steemrewarding.com can now optimize  the vote delay time for all time based vote rules automatically. The optimization must be enabled in <a href="https://steemrewarding.com/settings" target="_blank" rel="noopener">https://steemrewarding.com/settings</a>:<br><img src="https://ipfs.busy.org/ipfs/QmbCuYmfqPrMZ7UWFuEc9vpUNSGnkxKjBoFaDqwHkQ2hMA" alt="image.png"></p>
<p>When enabled, each vote_log is analyed in the calc_curation_performance.py script.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">best_performance = 0</span><br><span class="line">best_vote_delay_min = 0</span><br><span class="line">for v in c[&quot;active_votes&quot;]:</span><br><span class="line">    v_SBD = stm.rshares_to_sbd(int(v[&quot;rshares&quot;]))</span><br><span class="line">    if v_SBD &gt; 0 and int(v[&quot;rshares&quot;]) &gt; rshares * 0.5:</span><br><span class="line">        </span><br><span class="line">        p = float(curation_rewards_SBD[&quot;active_votes&quot;][v[&quot;voter&quot;]]) / v_SBD * 100</span><br><span class="line">        if p &gt; best_performance:</span><br><span class="line">            best_performance = p</span><br><span class="line">            best_vote_delay_min = ((v[&quot;time&quot;]) - c[&quot;created&quot;]).total_seconds() / 60</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>All given votes to the upvoted post/comment that have at least half the rshares of the rule creator are analyed. When there is a single vote that have a better performance, its vote delay time and its performance is stored.</p>
<p>The values are shown in the vote log <a href="https://steemrewarding.com/show_vote_log" target="_blank" rel="noopener">https://steemrewarding.com/show_vote_log</a>:<br><img src="https://ipfs.busy.org/ipfs/QmZPkN6GUPna3kyXTFAyzkiBEgpBoRrctCxL4tPfigDJwd" alt="image.png"></p>
<p>A vote delay time is optimized when</p>
<ul>
<li>the actual vote delay is near the set vote delay (time difference below 1 minute)</li>
<li>optimize_vote_delay  is enabled unter settings</li>
<li>disable_optimization is not enabled for the rule</li>
<li>the initial vote delay is between minimum_vote_delay  and maximum_vote_delay </li>
</ul>
<p>minimum_vote_delay  and maximum_vote_delay can be set at steemrewarding.com/settings<br><img src="https://ipfs.busy.org/ipfs/QmfXz3BKUczGB2U4tiiMrTaNsCXftt4N1Am7Ys2qXaSffX" alt="image.png"></p>
<p>When a best_performance and best_vote_delay_min  was found for a vote rule log entry, the vote delay is optimized by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">minimum_vote_delay = acc_data[&quot;minimum_vote_delay&quot;]</span><br><span class="line">maximum_vote_delay = acc_data[&quot;maximum_vote_delay&quot;]</span><br><span class="line">optimize_threshold = 1 + (acc_data[&quot;optimize_threshold&quot;] / 100)</span><br><span class="line">optimize_ma_length = acc_data[&quot;optimize_ma_length&quot;]</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">vote_rule = voteRulesTrx.get(vote_log[&quot;voter&quot;], c[&quot;author&quot;], c.is_main_post())</span><br><span class="line">if vote_rule is not None and not vote_rule[&quot;disable_optimization&quot;]:</span><br><span class="line">    vote_delay_min = vote_rule[&quot;vote_delay_min&quot;]</span><br><span class="line">    if best_performance &gt; performance * optimize_threshold and vote_delay_min &lt;= maximum_vote_delay and vote_delay_min &gt;= minimum_vote_delay:</span><br><span class="line">        if optimize_ma_length &gt; 1:</span><br><span class="line">            vote_delay_min = (vote_delay_min * (optimize_ma_length - 1) + best_vote_delay_min) / optimize_ma_length</span><br><span class="line">        else:</span><br><span class="line">            vote_delay_min = best_vote_delay_min</span><br><span class="line">        if vote_delay_min &gt; maximum_vote_delay:</span><br><span class="line">            vote_delay_min = maximum_vote_delay</span><br><span class="line">        elif vote_delay_min &lt; minimum_vote_delay:</span><br><span class="line">            vote_delay_min = minimum_vote_delay</span><br><span class="line">        voteRulesTrx.update({&quot;voter&quot;: vote_log[&quot;voter&quot;], &quot;author&quot;: c[&quot;author&quot;], &quot;main_post&quot;: c.is_main_post(),</span><br><span class="line">                             &quot;vote_delay_min&quot;: vote_delay_min})</span><br><span class="line">        vote_log[&quot;optimized_vote_delay_min&quot;] = vote_delay_min</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>When the optimal vote delay differs less than <code>optimize_threshold</code> percentage from the old one, the vote delay is not changed. This prevents that the vote delay time from jittering.</p>
<p>A simplified moving average calculation is then used to update the vote delay time. The influence of the optimal voting time is set by <code>optimize_ma_length</code>. When it is set to 20, it will take 20 steps approach a new optimum. </p>
<p>He is an example, that show how it works:<br><img src="https://ipfs.busy.org/ipfs/QmYjEP2vcDjRBwDcxb8hsK6qWodBkFx1t5JXSj9CPqEhJM" alt="image.png"><br>I set the vote delay to 13 minutes, the best vote delay is at 8.2 minutes. The new vote delay is then:<br>(( <code>optimize_ma_length</code> - 1) * 13 min + 8.2 min) / <code>optimize_ma_length</code><br>which is for  <code>optimize_ma_length=20</code> 12.76 minutes. This means that the vote delay for my rule is reduced in order to approach the optimal vote time.</p>
<p>The parameter <code>optimize_ma_length</code> and <code>optimize_threshold</code> can be set in steemrewarding.com/settings</p>
<p><img src="https://ipfs.busy.org/ipfs/QmeDrxhVR2oPRx5BSjJCcgbej7oppFCio1TdZMRjPjQ1uE" alt="image.png"></p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Add-vote-optimization-for-all-time-based-votes"><a href="#Add-vote-optimization-for-all-time-based-votes" class="headerlink" title="Add vote optimization for all time based votes"></a>Add vote optimization for all time based votes</h3><ul>
<li><a href="https://github.com/holgern/steemrewarding/commit/4bc082644e78cdf6b4e157a2d4c9ec11073447dd" target="_blank" rel="noopener">commit 4bc0826</a><h3 id="Add-option-to-add-a-rule-by-adding-an-account-to-steemrewarding-com-e-g-https-steemrewarding-com-holger80"><a href="#Add-option-to-add-a-rule-by-adding-an-account-to-steemrewarding-com-e-g-https-steemrewarding-com-holger80" class="headerlink" title="Add option to add a rule by adding an account to steemrewarding.com (e.g. https://steemrewarding.com/@holger80)"></a>Add option to add a rule by adding an account to steemrewarding.com (e.g. <a href="https://steemrewarding.com/@holger80" target="_blank" rel="noopener">https://steemrewarding.com/@holger80</a>)</h3></li>
<li><a href="https://github.com/holgern/steemrewarding/commit/1585cf1bab64d15655b6d831ae4ed0a058e81924" target="_blank" rel="noopener">commit 1585cf1</a><h3 id="GitHub-Account"><a href="#GitHub-Account" class="headerlink" title="GitHub Account"></a>GitHub Account</h3><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></li>
</ul>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/steemrewarding-com-vote-delay-optimization-added" target="_blank" rel="noopener">&#x2018;steemrewarding.com - vote delay optimization added&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/nextcolony-list-of-customjson-commands/" class="image is-7by1">
            <img class="thumbnail" src="https://files.steempeak.com/file/steempeak/rondras/c54NCLYc-NextColony-Teaser-1.jpg" alt="NextColony -  list of custom_json commands">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-16T20:27:48.000Z">2019-04-16</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/nextcolony/">nextcolony</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 730 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/nextcolony-list-of-customjson-commands/">NextColony -  list of custom_json commands</a>
            
        </h1>
        <div class="content">
            <p><img src="https://files.steempeak.com/file/steempeak/rondras/c54NCLYc-NextColony-Teaser-1.jpg" alt="NextColonyTeaser1.jpg"></p>
<p>NextColony is a true blockchain game on steem, thus almost all actions are triggered by custom_json operations (buying an item is initiated by a transfer).  In the following you will find a list of commands that will be supported at launch. More commands will follow afterwards.</p>
<h2 id="Structure-of-a-custom-json-operation"><a href="#Structure-of-a-custom-json-operation" class="headerlink" title="Structure of a custom_json operation"></a>Structure of a custom_json operation</h2><p>A custom_json command consists of an id and a json field. All commands in nextcolony have the same id:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nextcolony</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and the json field has the following structure:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;newuser&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;holger80&quot;}}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>where <code>username</code> is the username (currently not used and can be skipped).<br><code>type</code> defines the command type and <code>command</code> consists of a dict with the keys <code>tr_var1</code> to <code>tr_var8</code>.<br>The command is applied to the user defined in the <code>required_posting_auths</code> field.</p>
<h2 id="newuser"><a href="#newuser" class="headerlink" title="newuser"></a>newuser</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;newuser&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;holger80&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Creates a new game account with the steem account name.<br>The command uses one field:</p>
<ul>
<li><code>tr_var1</code>: steem username</li>
</ul>
<h2 id="enhance"><a href="#enhance" class="headerlink" title="enhance"></a>enhance</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;enhance&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;holger80&quot;,&quot;tr_var2&quot;:&quot;P-ZN2FTQ9F3W0&quot;,&quot;tr_var3&quot;:&quot;coalmine&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Starts learning of a skill which is necessary for building a higher level or being able to build ships.</p>
<ul>
<li><code>tr_var1</code>: username, who will learn the skill</li>
<li><code>tr_var2</code>: planet uid from which the resources are taken</li>
<li><code>tr_var3</code>: skill name</li>
</ul>
<p>Skill names are:</p>
<h4 id="depots-and-mines"><a href="#depots-and-mines" class="headerlink" title="depots and mines"></a>depots and mines</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">coalmine, oremine, coppermine, uraniummine,</span><br><span class="line">coaldepot, oredepot, copperdepot, uraniumdepot</span><br></pre></td></tr></tbody></table></figure>
<h4 id="special-buildings"><a href="#special-buildings" class="headerlink" title="special buildings"></a>special buildings</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">base, researchcenter, shipyard</span><br></pre></td></tr></tbody></table></figure>
<h4 id="booster"><a href="#booster" class="headerlink" title="booster"></a>booster</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">coalbooster, orebooster, copperbooster, uraniumbooster</span><br></pre></td></tr></tbody></table></figure>
<h4 id="ships"><a href="#ships" class="headerlink" title="ships"></a>ships</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Explorer, Transporter, Corvette, Frigate, Destroyer, Cruiser, Battlecruiser, Carrier, Dreadnought</span><br></pre></td></tr></tbody></table></figure>
<h2 id="upgrade"><a href="#upgrade" class="headerlink" title="upgrade"></a>upgrade</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;upgrade&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;P-ZN2FTQ9F3W0&quot;,&quot;tr_var2&quot;:&quot;researchcenter&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Starts the upgrade of a building. Conditions (sufficient resources and sufficient skill level) must be met.</p>
<ul>
<li><code>tr_var1</code>: planet uid from which the resources are taken and on which the building is upgraded</li>
<li><code>tr_var2</code>: building name</li>
</ul>
<p>Building names are:</p>
<h4 id="depots-and-mines-1"><a href="#depots-and-mines-1" class="headerlink" title="depots and mines"></a>depots and mines</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oredepot, copperdepot, coaldepot, uraniumdepot, </span><br><span class="line">oremine, coppermine, coalmine, uraniummine</span><br></pre></td></tr></tbody></table></figure>
<h4 id="special-buildings-1"><a href="#special-buildings-1" class="headerlink" title="special buildings"></a>special buildings</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shipyard,  base, researchcenter</span><br></pre></td></tr></tbody></table></figure>
<h2 id="buildship"><a href="#buildship" class="headerlink" title="buildship"></a>buildship</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;buildship&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;P-ZN2FTQ9F3W0&quot;,&quot;tr_var2&quot;:&quot;explorership&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Builds one ship when the conditions (resources, no other ship is build, shipyard level and ship skill level) are met. </p>
<ul>
<li><code>tr_var1</code>: planet uid from which the resources are taken and on which the ship is build</li>
<li><code>tr_var2</code>: ship name</li>
</ul>
<p>Possible ship names are:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explorership,  transportship, corvette, frigate, destroyer,</span><br><span class="line">cruiser, battlecruiser, carrier, dreadnought</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="explorespace"><a href="#explorespace" class="headerlink" title="explorespace"></a>explorespace</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;explorespace&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;P-ZN2FTQ9F3W0&quot;,&quot;tr_var2&quot;:53,&quot;tr_var3&quot;:-317}}</span><br></pre></td></tr></tbody></table></figure>
<p>Starts a exploration mission, a explorer must be available and ready on the planet.</p>
<ul>
<li><code>tr_var1</code>: planet uid from which the explorership starts and the uranium is taken for providing fuel for the flight</li>
<li><code>tr_var2</code>: horizontal space coordinate</li>
<li><code>tr_var3</code>: vertical space coordinate</li>
</ul>
<h2 id="transport"><a href="#transport" class="headerlink" title="transport"></a>transport</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;transport&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:2,&quot;tr_var2&quot;:&quot;P-ZN2FTQ9F3W0&quot;,&quot;tr_var3&quot;:&quot;52&quot;,&quot;tr_var4&quot;:&quot;-321&quot;,&quot;tr_var5&quot;:15,&quot;tr_var6&quot;:15,&quot;tr_var7&quot;:15,&quot;tr_var8&quot;:15}}</span><br></pre></td></tr></tbody></table></figure>
<p>Transports resources to a location and returns to the start position afterwards.</p>
<ul>
<li><code>tr_var1</code>: number of transporter which should be used, must be available and ready on the planet</li>
<li><code>tr_var2</code>: planet uid from which the transportship starts and the resources are taken </li>
<li><code>tr_var3</code>: horizontal space coordinate of a planet</li>
<li><code>tr_var4</code>: vertical space coordinate of a planet</li>
<li><code>tr_var5</code>: amount of coal (can be a positive float or 0)</li>
<li><code>tr_var6</code>: amount of ore (can be a positive float or 0)</li>
<li><code>tr_var7</code>: amount of copper (can be a positive float or 0)</li>
<li><code>tr_var8</code>: amount of uranium (can be a positive float or 0)</li>
</ul>
<h2 id="activate"><a href="#activate" class="headerlink" title="activate"></a>activate</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;activate&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;C3-ZSQFKQ5LW9S&quot;,&quot;tr_var2&quot;:&quot;P-ZN2FTQ9F3W0&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Activates an item, the effect depends on the item.</p>
<ul>
<li><code>tr_var1</code>: item uid, must be owned by the user</li>
<li><code>tr_var2</code>: planet uid on which the item is activated</li>
</ul>
<h2 id="giftitem"><a href="#giftitem" class="headerlink" title="giftitem"></a>giftitem</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;username&quot;:&quot;holger80&quot;,&quot;type&quot;:&quot;giftitem&quot;,&quot;command&quot;:{&quot;tr_var1&quot;:&quot;C3-ZUA1B4B7UPS&quot;,&quot;tr_var2&quot;:&quot;holger.random&quot;}}</span><br></pre></td></tr></tbody></table></figure>
<p>Gifts an item to another player.</p>
<ul>
<li><code>tr_var1</code>: item uid, must be owned by the user</li>
<li><code>tr_var2</code>: username to which the item is gifted</li>
</ul>
<hr>
<p><a href="https://nextcolony.io/" target="_blank" rel="noopener">NextColony</a> will start on</p>
<p>April 21, 2019 20:00:00 UTC</p>
<p>See you in the game :)</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/nextcolony-list-of-customjson-commands" target="_blank" rel="noopener">&#x2018;NextColony -  list of custom_json commands&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/nextcolony-about-the-unique-id-generation-and-rng/" class="image is-7by1">
            <img class="thumbnail" src="https://files.steempeak.com/file/steempeak/rondras/c54NCLYc-NextColony-Teaser-1.jpg" alt="NextColony - about the unique id generation and RNG">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-15T08:57:24.000Z">2019-04-15</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/nextcolony/">nextcolony</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 641 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/nextcolony-about-the-unique-id-generation-and-rng/">NextColony - about the unique id generation and RNG</a>
            
        </h1>
        <div class="content">
            <p><img src="https://files.steempeak.com/file/steempeak/rondras/c54NCLYc-NextColony-Teaser-1.jpg" alt="NextColonyTeaser1.jpg"></p>
<p>As you may know, I&#x2019;m part of the team working on <a href="https://nextcolony.io" target="_blank" rel="noopener">NextColony</a>, a true blockchain game on steem.  A true blockchain game means for us, that our internal database can be deleted and we will be able to reconstruct the exact same game state as before by replaying all broadcasted custom_json and transfer operations. This does also mean that every broadcasted custom_json will be excepted, as long as it is valid (correct syntax, sufficient resources, dependencies were met,&#x2026;).</p>
<p>In order to allow replay and to have random events, the steem blocks itself will be used to generate a seed for the random generator. Every uid for planets, items, ships and missions will be generated from random numbers that have been seeded by the transaction id of the broadcasted transfer/custom_json. Thus, in a replay, the same random numbers will be generated and as the trx-id and other block ids are not predictable, random events and generated uids are not predictable.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">import base36</span><br><span class="line">import math</span><br><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">def gererateSeed(block_trx, block_id, previous_id):</span><br><span class="line">    seed = hashlib.md5((trx_id + block_id + previous_id).encode()).hexdigest()</span><br><span class="line">    return seed</span><br><span class="line"></span><br><span class="line">def generateUid(length):</span><br><span class="line">    number = round((pow(36, length + 1) - random.random() * pow(36, length)))</span><br><span class="line">    return base36.dumps(number).upper()</span><br><span class="line"></span><br><span class="line">def set_seed(seed):</span><br><span class="line">    random.seed(a=seed, version=2)</span><br><span class="line"></span><br><span class="line">def get_random_range(start, end):</span><br><span class="line">    return math.floor((random.random() * (end-start + 1)) + start)</span><br><span class="line"></span><br><span class="line">def uid_from_seed(prefix):</span><br><span class="line">    return prefix+generateUid(10)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Let&#x2019;s-check-if-this-works"><a href="#Let&#x2019;s-check-if-this-works" class="headerlink" title="Let&#x2019;s check if this works"></a>Let&#x2019;s check if this works</h2><p>Currently, we are doing some last tests before the official launch. The buy-able items are much cheaper in this test phase. So I&#x2019;m buying a chest and will gift it. As each item has a uid, I will use the broadcasted transfer in order to predict the uid of the chest.</p>
<p><img src="https://ipfs.busy.org/ipfs/QmVj4wwuw4QpkzpPQaZd5t5csD5f7Pe3p2FeWM6ZLpzgee" alt="image.png"></p>
<p>The trx-id for the purchase is <code>e8d4bf45ba82b16c75fb777d90f2520089bfa5aa</code> and the block-number is <code>32060228</code>. We will use this information to predict the uid of the item:<br>The prefix of the Huge Chest is C2<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from beem.block import Block</span><br><span class="line">block = Block(32060228)</span><br><span class="line">trx_id = &quot;e8d4bf45ba82b16c75fb777d90f2520089bfa5aa&quot;</span><br><span class="line">prefix = &quot;C2-&quot;</span><br><span class="line">seed = gererateSeed(trx_id, block[&quot;block_id&quot;], block[&quot;previous&quot;])</span><br><span class="line">set_seed(seed)</span><br><span class="line">uid_item = uid_from_seed(prefix)</span><br><span class="line">print(uid_item)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The result is:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C2-ZDDAKHIXGYO</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img src="https://ipfs.busy.org/ipfs/QmPJW6RB2KgfSEzvVok5z3LssckWzwmJnjHtQuSrSCxKgn" alt="image.png"></p>
<p>The predicted uid is correct and equal to the uid the backend of nextcolony had calculated.</p>
<p>All used random events in NextColony are based on these functions.</p>
<h2 id="VOPS"><a href="#VOPS" class="headerlink" title="VOPS"></a>VOPS</h2><p>When unexplored space is explored during a mission, a new planet can be found. As the explorer has first to flight to the destination, which takes some time, the random numbers will be generated when the explorer will arrive. In nextcolony, we are doing this by using virtual operations. When the explorer is send, a VOPS is written to the database with a block timestamp. The VOPS is then triggered by the first block which has a timestamp which is higher then the stored one. The <code>block_id</code> and the <code>previous</code> ids are then taken from the block which is triggered by the VOPS.</p>
<h2 id="Auction-is-still-running-and-game-will-start-soon"><a href="#Auction-is-still-running-and-game-will-start-soon" class="headerlink" title="Auction is still running and game will start soon"></a>Auction is still running and game will start soon</h2><p>Currently, it is possible to buy one of the last three legendary planets at our <a href="https://nextcolony.io/" target="_blank" rel="noopener">auction</a>. When the auction is finished, the game will start at</p>
<p>April 21, 2019 20:00:00 UTC</p>
<p>See you in the game :)</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/nextcolony-about-the-unique-id-generation-and-rng" target="_blank" rel="noopener">&#x2018;NextColony - about the unique id generation and RNG&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/how-to-use-the-logger-class-to-filter-out-unwanted-messages-from-beem/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/QmWT9VQ3U3mLCczqgiGgnj1xpQ2DR59Mrj4bVPT5taVUpu" alt="How to use the logger class to filter out unwanted messages from beem">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-10T14:55:15.000Z">2019-04-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/python/">python</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 694 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/how-to-use-the-logger-class-to-filter-out-unwanted-messages-from-beem/">How to use the logger class to filter out unwanted messages from beem</a>
            
        </h1>
        <div class="content">
            <p>When you run a python script which uses beem, you might have seen a lot of <code>Retry RPC Call on node: https://steemd.minnowsupportproject.org (1/5)</code>messages:<br>`<br><img src="https://ipfs.busy.org/ipfs/QmWT9VQ3U3mLCczqgiGgnj1xpQ2DR59Mrj4bVPT5taVUpu" alt="image.png"></p>
<p>These messages indicate that the node was currently not available and the same node is retried again. Normally, it works then. The messages are only a problem when a lot of api calls are broadcasted, e.g.g when reading the complete account history of steembasicincome.</p>
<p>You can use the logger class to get rid of these messages by increasing the logger level just for the <code>beemapi.node</code> module.</p>
<p>Let&#x2019;s start with a simply script that uses the logger class but without any configuration:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">from beem.account import Account</span><br><span class="line">import logging</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line">logger.setLevel(logging.INFO)</span><br><span class="line">logging.basicConfig()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    account = Account(&quot;steembasicincome&quot;)</span><br><span class="line">    n = 0</span><br><span class="line">    logger.info(&quot;starting....&quot;)</span><br><span class="line">    for op in account.history():</span><br><span class="line">        n += 1</span><br><span class="line">    </span><br><span class="line">    logger.info(&quot;%s has %d history operations&quot; % (account[&quot;name&quot;], n))</span><br></pre></td></tr></tbody></table></figure>
<p>After storing the script as <code>use_logger1.py</code> and running it by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python use_logger1.py</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>I&#x2019;m getting really a lot of useless logging messages:</p>
<p><img src="https://ipfs.busy.org/ipfs/QmaDxbvjPpMzn8axL4JeEoUbmUqa3pyfLf3rXCR58i93NY" alt="image.png"></p>
<h2 id="Exclude-logging-messages-from-beemapi-node"><a href="#Exclude-logging-messages-from-beemapi-node" class="headerlink" title="Exclude logging messages from beemapi.node"></a>Exclude logging messages from <code>beemapi.node</code></h2><p>It is possible to configure the logging class and increase the level of the beemapi.node module to the ERROR level:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">from beem.account import Account</span><br><span class="line">import logging</span><br><span class="line">import logging.config</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line">logging.basicConfig(level=logging.INFO)</span><br><span class="line">logging.config.dictConfig({</span><br><span class="line">    &apos;version&apos;: 1,</span><br><span class="line">    &apos;disable_existing_loggers&apos;: False,  # this fixes the problem</span><br><span class="line">    &apos;formatters&apos;: {</span><br><span class="line">        &apos;standard&apos;: {</span><br><span class="line">            &quot;format&quot;: &quot;%(asctime)s [%(levelname)s] %(name)s: %(message)s&quot;,</span><br><span class="line">            &quot;datefmt&quot;: &quot;%Y-%m-%d %H:%M&quot;</span><br><span class="line">        },</span><br><span class="line">    },</span><br><span class="line">    &apos;handlers&apos;: {</span><br><span class="line">        &apos;default&apos;: {</span><br><span class="line">            &apos;level&apos;:&apos;INFO&apos;,</span><br><span class="line">            &quot;formatter&quot;: &quot;standard&quot;,</span><br><span class="line">            &apos;class&apos;:&apos;logging.StreamHandler&apos;,</span><br><span class="line">        },</span><br><span class="line">    },</span><br><span class="line">    &apos;loggers&apos;: {</span><br><span class="line">        &apos;beemapi.node&apos;: {</span><br><span class="line">            &quot;level&quot;: &quot;ERROR&quot;,</span><br><span class="line">            &quot;handlers&quot;: [&quot;default&quot;],</span><br><span class="line">            &quot;propagate&quot;: False</span><br><span class="line">        },</span><br><span class="line">        &apos;&apos;: {</span><br><span class="line">            &apos;handlers&apos;: [&apos;default&apos;],</span><br><span class="line">            &apos;level&apos;: &apos;INFO&apos;,</span><br><span class="line">            &apos;propagate&apos;: True</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    account = Account(&quot;steembasicincome&quot;)</span><br><span class="line">    n = 0</span><br><span class="line">    logger.info(&quot;starting....&quot;)</span><br><span class="line">    for op in account.history():</span><br><span class="line">        n += 1</span><br><span class="line">    </span><br><span class="line">    logger.info(&quot;%s has %d history operations&quot; % (account[&quot;name&quot;], n))</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>After storing it as <code>use_logger2.py</code> and running it, the logging output contains only information that are useful:</p>
<p><img src="https://ipfs.busy.org/ipfs/QmdDyE8dZz8KNbi9ZtThHVH1AvYidcFemyzgpdbFywPCez" alt="image.png"></p>
<h2 id="Configuring-the-logging-class-in-an-external-file"><a href="#Configuring-the-logging-class-in-an-external-file" class="headerlink" title="Configuring the logging class in an external file"></a>Configuring the logging class in an external file</h2><p>It is also possible to store the configuration in an external logging.json file:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;version&quot;: 1,</span><br><span class="line">    &quot;disable_existing_loggers&quot;: false,</span><br><span class="line">    &quot;formatters&quot;: {</span><br><span class="line">        &quot;simple&quot;: {</span><br><span class="line">            &quot;format&quot;: &quot;%(asctime)s [%(levelname)s] %(name)s: %(message)s&quot;,</span><br><span class="line">            &quot;datefmt&quot;: &quot;%Y-%m-%d %H:%M&quot;</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line"></span><br><span class="line">    &quot;handlers&quot;: {</span><br><span class="line">        &quot;default&quot;: {</span><br><span class="line">            &quot;level&quot;:&quot;INFO&quot;,</span><br><span class="line">            &quot;formatter&quot;: &quot;simple&quot;,</span><br><span class="line">            &quot;class&quot;:&quot;logging.StreamHandler&quot;</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    &quot;loggers&quot;: {</span><br><span class="line">        &quot;beemapi.node&quot;: {</span><br><span class="line">            &quot;level&quot;: &quot;ERROR&quot;,</span><br><span class="line">            &quot;handlers&quot;: [&quot;default&quot;],</span><br><span class="line">            &quot;propagate&quot;: false</span><br><span class="line">        },</span><br><span class="line">        &quot;&quot;: {</span><br><span class="line">            &quot;handlers&quot;: [&quot;default&quot;],</span><br><span class="line">            &quot;level&quot;: &quot;INFO&quot;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>and reading it in the python script:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">from beem.account import Account</span><br><span class="line">import logging</span><br><span class="line">import logging.config</span><br><span class="line">import os</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line">logging.basicConfig(level=logging.INFO)</span><br><span class="line"></span><br><span class="line">def setup_logging(</span><br><span class="line">    default_path=&apos;logging.json&apos;,</span><br><span class="line">    default_level=logging.INFO</span><br><span class="line">):</span><br><span class="line">    &quot;&quot;&quot;Setup logging configuration</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    path = default_path</span><br><span class="line">    if os.path.exists(path):</span><br><span class="line">        with open(path, &apos;rt&apos;) as f:</span><br><span class="line">            config = json.load(f)</span><br><span class="line">        logging.config.dictConfig(config)</span><br><span class="line">    else:</span><br><span class="line">        logging.basicConfig(level=default_level)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    setup_logging(&quot;./logging.json&quot;)</span><br><span class="line">    account = Account(&quot;steembasicincome&quot;)</span><br><span class="line">    n = 0</span><br><span class="line">    logger.info(&quot;starting....&quot;)</span><br><span class="line">    for op in account.history():</span><br><span class="line">        n += 1</span><br><span class="line">    </span><br><span class="line">    logger.info(&quot;%s has %d history operations&quot; % (account[&quot;name&quot;], n))</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>This allows it to use the same configuration in multiple projects. After storing it under <code>use_logging3.py</code> in the same directory as the logging.json file, it can be started by <code>python use_logging3.py</code> and produces the following output:<br><img src="https://ipfs.busy.org/ipfs/QmdDyE8dZz8KNbi9ZtThHVH1AvYidcFemyzgpdbFywPCez" alt="image.png"></p>
<h2 id="Formation-of-the-logging-output"><a href="#Formation-of-the-logging-output" class="headerlink" title="Formation of the logging output"></a>Formation of the logging output</h2><p>The logging output format was set by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;format&quot;: &quot;%(asctime)s [%(levelname)s] %(name)s: %(message)s&quot;,</span><br><span class="line">&quot;datefmt&quot;: &quot;%Y-%m-%d %H:%M&quot;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>More variables can be found in the <a href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener">logger documentation</a>. The different options for datefmt can be found <a href="https://docs.python.org/3/library/time.html#time.strftime" target="_blank" rel="noopener">here</a>.</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/how-to-use-the-logger-class-to-filter-out-unwanted-messages-from-beem" target="_blank" rel="noopener">&#x2018;How to use the logger class to filter out unwanted messages from beem&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/scan-all-steem-engine-blocks-for-specific-data/" class="image is-7by1">
            <img class="thumbnail" src="https://ipfs.busy.org/ipfs/Qma3GE3M39cUtLTFppsCwqiFGzxjyRu457pZCziLhAv7hW" alt="Scan all steem-engine blocks for specific data">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-09T11:37:30.000Z">2019-04-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steem-engine/">steem-engine</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 974 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/scan-all-steem-engine-blocks-for-specific-data/">Scan all steem-engine blocks for specific data</a>
            
        </h1>
        <div class="content">
            <p><img src="https://ipfs.busy.org/ipfs/Qma3GE3M39cUtLTFppsCwqiFGzxjyRu457pZCziLhAv7hW" alt="image.png"></p>
<p>After reading the request of @rolandp (<a href="https://steemit.com/steem-engine/@roelandp/scammer-alert-roelandp-666-fake-toshi-selling-fake-btc-coins-111" target="_blank" rel="noopener">post</a>), I found that a small python script, which is able to scan all blocks from the steem-engine sidechain would be very helpfull.</p>
<p>I&#x2019;m using my <a href="https://github.com/holgern/steemengine" target="_blank" rel="noopener">steemengine</a> toolbox and will go through all blocks. I will check all <code>market</code> contracts with <code>buy</code> and <code>sell</code> action of the <code>BTC</code> token.</p>
<p>I&#x2019;m only interessted in sold token and not in action in which a order is put on the market. When the order was sucessfully, there are more than one entry in the attached logs. For a successful buy, there are:</p>
<ul>
<li>STEEMP transfer to the market</li>
<li>token transfer from the market to the buyer</li>
<li>STEEMP trasnfer to the seller</li>
</ul>
<p>For a successful sell, there are at least:</p>
<ul>
<li>token transfer to the market</li>
<li>STEEMP transfer to the seller</li>
<li>token transfer to the buyer</li>
</ul>
<p>For a placed order, there can only be either a successful buy or sell happen. The last placed order determine the type.</p>
<p>In my script, I&#x2019;m only parsing buy/sell actions that have at least 3 BTC/STEEMP movements.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">import logging</span><br><span class="line">import json</span><br><span class="line">from steemengine.api import Api</span><br><span class="line">from beem.block import Block</span><br><span class="line">log = logging.getLogger(__name__)</span><br><span class="line">logging.basicConfig(level=logging.INFO)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    api = Api()</span><br><span class="line">    latest_block = api.get_latest_block_info()</span><br><span class="line"></span><br><span class="line">    scan_token = [&apos;BTC&apos;]</span><br><span class="line">    print(&quot;Scanning all blocks from 0 to %d...&quot; % latest_block[&apos;blockNumber&apos;])</span><br><span class="line">    steemp_payments = []</span><br><span class="line">    </span><br><span class="line">    for block_num in range(latest_block[&apos;blockNumber&apos;]):</span><br><span class="line">        block = api.get_block_info(block_num)</span><br><span class="line">        if block_num % 1000 == 0:</span><br><span class="line">            print(&quot;%.2f %%&quot; % (block[&quot;blockNumber&quot;]/latest_block[&apos;blockNumber&apos;] * 100))</span><br><span class="line">        for trx in block[&quot;transactions&quot;]:</span><br><span class="line">            </span><br><span class="line">            if trx[&quot;contract&quot;] not in [&apos;market&apos;]:</span><br><span class="line">                continue</span><br><span class="line">            if trx[&quot;action&quot;] not in [&apos;buy&apos;, &apos;sell&apos;]:</span><br><span class="line">                continue</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">            logs = json.loads(trx[&quot;logs&quot;])</span><br><span class="line">            sender = trx[&quot;sender&quot;]</span><br><span class="line">            payload = json.loads(trx[&quot;payload&quot;])</span><br><span class="line">            contract = trx[&quot;contract&quot;]</span><br><span class="line">            action = trx[&quot;action&quot;]            </span><br><span class="line">            </span><br><span class="line">            if action == &quot;sell&quot;:</span><br><span class="line">                if &quot;events&quot; not in logs:</span><br><span class="line">                    continue</span><br><span class="line">                elif len(logs[&quot;events&quot;]) == 1:</span><br><span class="line">                    continue</span><br><span class="line">                else:</span><br><span class="line">                    token_found = False</span><br><span class="line">                    for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                        if transfer[&quot;data&quot;][&quot;symbol&quot;] in scan_token:</span><br><span class="line">                            token_found = True</span><br><span class="line">                    if token_found:</span><br><span class="line">                        steem_block = Block(block[&quot;refSteemBlockNumber&quot;])</span><br><span class="line">                        print(&quot;%d (%s) - %s:&quot; % (block[&quot;blockNumber&quot;], steem_block.json()[&quot;timestamp&quot;], trx[&apos;transactionId&apos;]))</span><br><span class="line">                        print(&quot;%s sold %s %s for %s&quot; % (trx[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                        for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                            print(&quot;    - %s transfers %s %s to %s&quot; % (transfer[&quot;data&quot;][&quot;from&quot;], transfer[&quot;data&quot;][&quot;quantity&quot;], transfer[&quot;data&quot;][&quot;symbol&quot;], transfer[&quot;data&quot;][&quot;to&quot;]))                    </span><br><span class="line">                                </span><br><span class="line">            elif action == &quot;buy&quot;:</span><br><span class="line">                if &quot;events&quot; not in logs:</span><br><span class="line">                    continue</span><br><span class="line">                elif len(logs[&quot;events&quot;]) == 1:</span><br><span class="line">                    continue</span><br><span class="line">                else:</span><br><span class="line">                    token_found = False</span><br><span class="line">                    for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                        if transfer[&quot;data&quot;][&quot;symbol&quot;] in scan_token:</span><br><span class="line">                            token_found = True</span><br><span class="line">                    if token_found:</span><br><span class="line">                        steem_block = Block(block[&quot;refSteemBlockNumber&quot;])</span><br><span class="line">                        print(&quot;%d (%s) - %s&quot; % (block[&quot;blockNumber&quot;], steem_block.json()[&quot;timestamp&quot;], trx[&apos;transactionId&apos;]))</span><br><span class="line">                        print(&quot;%s bought %s %s for %s&quot; % (trx[&quot;sender&quot;], payload[&quot;quantity&quot;], payload[&quot;symbol&quot;], payload[&quot;price&quot;]))</span><br><span class="line">                        for transfer in logs[&quot;events&quot;]:</span><br><span class="line">                            print(&quot;    - %s transfers %s %s to %s&quot; % (transfer[&quot;data&quot;][&quot;from&quot;], transfer[&quot;data&quot;][&quot;quantity&quot;], transfer[&quot;data&quot;][&quot;symbol&quot;], transfer[&quot;data&quot;][&quot;to&quot;]))</span><br></pre></td></tr></tbody></table></figure>
<p>In order to run the script, steemengine must be install by<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install steemengine</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The script can than be stored as parse_steemengine_blocks.py and run by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python parse_steemengine_blocks.py</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The tokens for which the buys and sells should be printed, can be specified in this list:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan_token = [&apos;BTC&apos;]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>for example<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan_token = [&apos;BTCP&apos;, &apos;LTCP&apos;, &apos;DOGEP&apos;, &apos;BCHP&apos;]</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Here are the results f&#xFC;r the delisted <code>BTC</code> token:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">14875 (2019-03-09T06:30:39) - 86c034f0f5e40fdc66f6bfdf6809b57a75a5429a</span><br><span class="line">stealthtrader bought 0.0001125 BTC for 8888.88800</span><br><span class="line">    - stealthtrader transfers 1.000 STEEMP to market</span><br><span class="line">    - market transfers 0.0001125 BTC to stealthtrader</span><br><span class="line">    - market transfers 1.000 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">15719 (2019-03-09T19:49:27) - d76a62b335f23285d1c25dff9d787cf26e366600</span><br><span class="line">stealthtrader bought 0.001125 BTC for 8888.88800</span><br><span class="line">    - stealthtrader transfers 10.000 STEEMP to market</span><br><span class="line">    - market transfers 0.001125 BTC to stealthtrader</span><br><span class="line">    - market transfers 10.000 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">16485 (2019-03-11T06:00:33) - eff811cfac89920df2d9905cd1244f47a80964a2</span><br><span class="line">stealthtrader bought 0.00043 BTC for 8888.88800</span><br><span class="line">    - stealthtrader transfers 3.822 STEEMP to market</span><br><span class="line">    - market transfers 0.00043 BTC to stealthtrader</span><br><span class="line">    - market transfers 3.822 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">21673 (2019-03-20T05:14:39) - 8b7933590d035ad3a120db618f24c8e49b238440</span><br><span class="line">stealthtrader bought 0.0001126 BTC for 8888.88800</span><br><span class="line">    - stealthtrader transfers 1.001 STEEMP to market</span><br><span class="line">    - market transfers 0.0001126 BTC to stealthtrader</span><br><span class="line">    - market transfers 1.001 STEEMP to fake.toshi</span><br><span class="line">21954 (2019-03-20T15:06:24) - acddca352289141bf2298fa5b5f1e376326eaf87</span><br><span class="line">y-o-u-t-h-m-e bought 0.0000001 BTC for 8888.88800</span><br><span class="line">    - y-o-u-t-h-m-e transfers 0.001 STEEMP to market</span><br><span class="line">    - market transfers 0.0000001 BTC to y-o-u-t-h-m-e</span><br><span class="line">    - market transfers 0.001 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">32085 (2019-03-23T23:45:24) - c5fb770d009445ae40b39e91af35fb91bd4f425e</span><br><span class="line">profquax bought 0.000445 BTC for 8888.88800</span><br><span class="line">    - profquax transfers 3.956 STEEMP to market</span><br><span class="line">    - market transfers 0.000445 BTC to profquax</span><br><span class="line">    - market transfers 3.956 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">42019 (2019-04-03T00:02:36) - 6c83d6365ef021687b9c4fbca6dead5d1d311224</span><br><span class="line">stealthtrader bought 0.00107 BTC for 8888.88800</span><br><span class="line">    - stealthtrader transfers 9.511 STEEMP to market</span><br><span class="line">    - market transfers 0.000445 BTC to stealthtrader</span><br><span class="line">    - market transfers 3.954 STEEMP to profquax</span><br><span class="line">    - market transfers 0.00062500 BTC to stealthtrader</span><br><span class="line">    - market transfers 5.556 STEEMP to fake.toshi</span><br><span class="line">    - market transfers 0.001 STEEMP to stealthtrader</span><br><span class="line"></span><br><span class="line">42256 (2019-04-03T07:06:03) - 58999a6f09f91b353f1acf2a499a4dda05241709</span><br><span class="line">monsterbuster bought 0.0009 BTC for 8888.88800</span><br><span class="line">    - monsterbuster transfers 8.000 STEEMP to market</span><br><span class="line">    - market transfers 0.0009 BTC to monsterbuster</span><br><span class="line">    - market transfers 8.000 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">42771 (2019-04-03T22:27:54) - ab3fd0a09a0cad9de376665b1079cda3014c4378</span><br><span class="line">followbtcnews bought .005 BTC for 8888.88800</span><br><span class="line">    - followbtcnews transfers 44.444 STEEMP to market</span><br><span class="line">    - market transfers .005 BTC to followbtcnews</span><br><span class="line">    - market transfers 44.444 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">43207 (2019-04-04T08:35:27) - 944e3a5605d580bf0fe5723d7f497d855afbddf5</span><br><span class="line">monsterbuster bought 0.0005 BTC for 8888.88800</span><br><span class="line">    - monsterbuster transfers 4.444 STEEMP to market</span><br><span class="line">    - market transfers 0.0005 BTC to monsterbuster</span><br><span class="line">    - market transfers 4.444 STEEMP to fake.toshi</span><br><span class="line"></span><br><span class="line">44068 (2019-04-05T09:28:06) - 0e465651c89d58ad813f631f9003f01021c8db77</span><br><span class="line">elamental bought 0.01102 BTC for 8888.88800</span><br><span class="line">    - elamental transfers 97.956 STEEMP to market</span><br><span class="line">    - market transfers 0.01102 BTC to elamental</span><br><span class="line">    - market transfers 97.956 STEEMP to fake.toshi</span><br></pre></td></tr></tbody></table></figure><p></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/scan-all-steem-engine-blocks-for-specific-data" target="_blank" rel="noopener">&#x2018;Scan all steem-engine blocks for specific data&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@holger80/update-for-beem-amount-in-the-amount-class-is-a-decimal-instead-of-a-float-and-bug-fix-for-account-getbalance/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmcRrwLPSywSYMierfP6um6mejeMNGjN9Rxw7audJqTDgb/beem-logo" alt="update for beem - amount in the Amount class is a Decimal instead of a float and bug-fix for account.get_balance()">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-08T10:10:48.000Z">2019-04-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/utopian-io/">utopian-io</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 minutes read (About 1309 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@holger80/update-for-beem-amount-in-the-amount-class-is-a-decimal-instead-of-a-float-and-bug-fix-for-account-getbalance/">update for beem - amount in the Amount class is a Decimal instead of a float and bug-fix for account.get_balance()</a>
            
        </h1>
        <div class="content">
            <h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><p><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">https://github.com/holgern/beem</a></p><center><br><img src="https://cdn.steemitimages.com/DQmcRrwLPSywSYMierfP6um6mejeMNGjN9Rxw7audJqTDgb/beem-logo" alt="beem-logo"><br></center><br><a href="https://github.com/holgern/beem" target="_blank" rel="noopener">beem</a> is a python library for steem. beem has now 495 unit tests and a coverage of 70 %. The current version is 0.20.20.<br>I created a discord channel for answering a question or discussing beem: <a href="https://discord.gg/4HM592V" target="_blank" rel="noopener">https://discord.gg/4HM592V</a><br>The newest beem version can be installed by:<br><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U beem</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>or when  using conda:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install beem</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>beem can be updated by:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update beem</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h2><h3 id="The-amount-in-the-Amount-class-is-stored-as-Decimal-and-not-as-float-anymore"><a href="#The-amount-in-the-Amount-class-is-stored-as-Decimal-and-not-as-float-anymore" class="headerlink" title="The amount in the Amount class is stored as Decimal and not as float anymore"></a>The amount in the Amount class is stored as Decimal and not as float anymore</h3><p>The amount in the Amount class is now stored as Decimal object:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from beem.amount import Amount</span><br><span class="line">a = Amount(&quot;6.104 STEEM&quot;)</span><br><span class="line">a</span><br><span class="line">6.104 STEEM</span><br><span class="line">a.amount</span><br><span class="line">Decimal(&apos;6.104&apos;)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>For compatibility reasons, I have decided to keep the floating point arithmetic. For example, when I have 6.104 and I want to sent 1/6 out to the six different people, I should have a reminder of 0.002 in my wallet, as 6.102 is nearest number which is dividable through 6 without reminder.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = Amount(&quot;6.104 STEEM&quot;)</span><br><span class="line">send_amount = a / 6</span><br><span class="line">print(send_amount)</span><br><span class="line">for i in range(6):</span><br><span class="line">    a -=  send_amount</span><br><span class="line">print(a)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>results in<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.017 STEEM</span><br><span class="line">0.000 STEEM</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Seems that we have lost 0.002 STEEM. The reason is that the send_amount has a higher precision that the allowed one.<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">send_amount.amount</span><br><span class="line">Decimal(&apos;1.017333333333333333333333333&apos;)</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="Fixed-point-arithmetic"><a href="#Fixed-point-arithmetic" class="headerlink" title="Fixed-point arithmetic"></a>Fixed-point arithmetic</h4><p>In order to fix this, I added a new option <code>fixed_point_arithmetic</code>, when set to True, the amount is rounded down after each operation to the allowed precision.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = Amount(&quot;6.104 STEEM&quot;, fixed_point_arithmetic = True)</span><br><span class="line">send_amount = a / 6</span><br><span class="line">print(send_amount)</span><br><span class="line">for i in range(6):</span><br><span class="line">    a -=  send_amount</span><br><span class="line">print(a)</span><br></pre></td></tr></tbody></table></figure>
<p>results in<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.017 STEEM</span><br><span class="line">0.002 STEEM</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>This time, we do not lost the 0.002 STEEM, as the amount in send_amount is rounded:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">send_amount.amount</span><br><span class="line">Decimal(&apos;1.017&apos;)</span><br></pre></td></tr></tbody></table></figure>
<p>But the following calculation may not lead to the expected results:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">0.002 STEEM</span><br><span class="line">(a / 1000) * 1000</span><br><span class="line">0.000 STEEM</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="Fixed-point-arithmetic-combined-with-Floating-point-arithmetic"><a href="#Fixed-point-arithmetic-combined-with-Floating-point-arithmetic" class="headerlink" title="Fixed-point arithmetic combined with Floating-point arithmetic"></a>Fixed-point arithmetic combined with Floating-point arithmetic</h4><p>It is also possible to combine both. In the following example, an object keeps its unlimited precision and works with floating-point arithmetic. The send_amount object is rounded down to the precision of 3.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = Amount(&quot;6.104 STEEM&quot;)</span><br><span class="line">send_amount = Amount(a / 6, fixed_point_arithmetic=True)</span><br><span class="line">print(send_amount)</span><br><span class="line">for i in range(6):</span><br><span class="line">    a -=  send_amount</span><br><span class="line">print(a)</span><br></pre></td></tr></tbody></table></figure>
<p>results in<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.017 STEEM</span><br><span class="line">0.002 STEEM</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>We were able to achieve the wanted results. In the same time, calculation as the following are still possible:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(a / 1000) * 1000</span><br><span class="line">0.002 STEEM</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="Casting-to-float-str-and-integer"><a href="#Casting-to-float-str-and-integer" class="headerlink" title="Casting to float, str and integer"></a>Casting to float, str and integer</h4><p>It is possible to cast a Amount object to a float, in this case the amount is not rounded down:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float(Amount(&quot;1.999 STEEM&quot;) / 2)</span><br><span class="line">0.9995</span><br></pre></td></tr></tbody></table></figure>
<p>During casting the object to an integer, it is rounded down to the defined precision:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int(Amount(&quot;1.999 STEEM&quot;) / 2)</span><br><span class="line">999</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The integer is used, when casting the amount object to a dict, which can be used for broadcasting using the appbase format:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(Amount(&quot;1.999 STEEM&quot;) / 2).json()</span><br><span class="line">{&apos;amount&apos;: &apos;999&apos;, &apos;nai&apos;: &apos;@@000000021&apos;, &apos;precision&apos;: 3}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>It is also possible to cast the amount object to a string:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str(Amount(&quot;1.999 STEEM&quot;) / 2)</span><br><span class="line">&apos;0.999 STEEM&apos;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In both casting functions, the new quantize function is used:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def quantize(amount, precision):</span><br><span class="line">    # make sure amount is decimal and has the asset precision</span><br><span class="line">    amount = Decimal(amount)</span><br><span class="line">    places = Decimal(10) ** (-precision)</span><br><span class="line">    return amount.quantize(places, rounding=ROUND_DOWN)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The <code>quantize</code> grantees that casting an amount to  a string and to an integer returns the same results.</p>
<h2 id="Bug-fixes"><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h2><h3 id="one-time-private-key-on-beempy"><a href="#one-time-private-key-on-beempy" class="headerlink" title="one-time private key on beempy"></a>one-time private key on beempy</h3><p>I implemented the first part of the suggestion from @blockchainstudio (<a href="https://steemit.com/utopian-io/@blockchainstudio/beem-one-time-private-key-wallet-compatibility" target="_blank" rel="noopener">post</a> where he suggested that a key should be entered when it is not stored in the wallet.</p>
<p>I modified the <code>unlock_wallet</code> function and changed the wallet password promt as follow:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">password = click.prompt(&quot;Password to unlock wallet or posting/active wif&quot;, confirmation_prompt=False, hide_input=True)</span><br><span class="line">try:</span><br><span class="line">    stm.wallet.unlock(password)</span><br><span class="line">except:</span><br><span class="line">    try:</span><br><span class="line">        stm.wallet.setKeys([password])</span><br><span class="line">        print(&quot;Wif accepted!&quot;)</span><br><span class="line">        return True                </span><br><span class="line">    except:</span><br><span class="line">        raise exceptions.WrongMasterPasswordException(&quot;entered password is not a valid password/wif&quot;)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>These changes allow it now to broadcast a operation as a transfer from an account by entering not the  wallet key but the active key. This active key is temporary stored in RAM and deleted afterwards.</p>
<h3 id="Fix-issue-171-Account-get-balance-function-shows-summed-value-of-liquid-balance-and-unclaimed-reward"><a href="#Fix-issue-171-Account-get-balance-function-shows-summed-value-of-liquid-balance-and-unclaimed-reward" class="headerlink" title="Fix issue #171 - Account.get_balance function shows summed value of liquid balance and unclaimed reward"></a>Fix issue #171 - Account.get_balance function shows summed value of liquid balance and unclaimed reward</h3><p>The bug described <a href="https://steemit.com/utopian-io/@sourovafrin/beem-version-0-20-19-account-getbalance-function-shows-summed-value-of-liquid-balance-and-unclaimed-reward" target="_blank" rel="noopener">here</a> has been fixed. Calling the <code>total_balances</code> property had modified also the balances in the account object when either saving balance or reward balance was not empty. The reason was the usage of <code>+=</code><br>which had modify the object itself. By replacing the used <code>+=</code> by a <code>=</code> which can be seen here:<br><img src="https://ipfs.busy.org/ipfs/QmWm5PkYML1VY7u4LJMeT4qT82CjPWzdYQvN1fYa89qz1C" alt="image.png"></p>
<p>and by  using  a copy of the balance objects, this bug could be fixed:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@property</span><br><span class="line">def available_balances(self):</span><br><span class="line">    &quot;&quot;&quot; List balances of an account. This call returns instances of</span><br><span class="line">        :class:`beem.amount.Amount`.</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    amount_list = [&quot;balance&quot;, &quot;sbd_balance&quot;, &quot;vesting_shares&quot;]</span><br><span class="line">    available_amount = []</span><br><span class="line">    for amount in amount_list:</span><br><span class="line">        if amount in self:</span><br><span class="line">            available_amount.append(self[amount].copy())</span><br><span class="line">    return available_amount</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="Commits"><a href="#Commits" class="headerlink" title="Commits"></a>Commits</h2><h3 id="Make-a-copy-of-balance-objects"><a href="#Make-a-copy-of-balance-objects" class="headerlink" title="Make a copy of balance objects"></a>Make a copy of balance objects</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/f0eaffeb4e179bbdf52e2b640e26365f7b4b73cd" target="_blank" rel="noopener">commit f0eaffe</a></li>
<li>Adapt version number in doc<h3 id="Make-return-argument-in-generator-function-compatible-to-python-2-7"><a href="#Make-return-argument-in-generator-function-compatible-to-python-2-7" class="headerlink" title="Make return argument in generator function compatible to python 2.7"></a>Make return argument in generator function compatible to python 2.7</h3></li>
<li><a href="https://github.com/holgern/beem/commit/905201ac7d11b2ca978944e789abb41a5be29031" target="_blank" rel="noopener">commit 905201a</a><h3 id="Fix-cli-unit-test"><a href="#Fix-cli-unit-test" class="headerlink" title="Fix cli unit test"></a>Fix cli unit test</h3></li>
<li><a href="https://github.com/holgern/beem/commit/921db974ca09df68ec54133f295971153015c95a" target="_blank" rel="noopener">commit 921db97</a><h3 id="Convert-Decimal-to-float-in-pricehistory"><a href="#Convert-Decimal-to-float-in-pricehistory" class="headerlink" title="Convert Decimal to float in pricehistory"></a>Convert Decimal to float in pricehistory</h3></li>
<li><a href="https://github.com/holgern/beem/commit/09d6bb717cfb6852ce405ebb3808601cf8479673" target="_blank" rel="noopener">commit 09d6bb7</a><h3 id="Fix-unit-test-for-the-amount-class"><a href="#Fix-unit-test-for-the-amount-class" class="headerlink" title="Fix unit test for the amount class"></a>Fix unit test for the amount class</h3></li>
<li><a href="https://github.com/holgern/beem/commit/0a6f5af55f0eb8cf1740263a66b9f434989ce511" target="_blank" rel="noopener">commit 0a6f5af</a><h3 id="Fix-issue-171-Account-get-balance-function-shows-summed-value-of-liquid-balance-and-unclaimed-reward-1"><a href="#Fix-issue-171-Account-get-balance-function-shows-summed-value-of-liquid-balance-and-unclaimed-reward-1" class="headerlink" title="Fix issue #171 - Account.get_balance function shows summed value of liquid balance and unclaimed reward"></a>Fix issue #171 - Account.get_balance function shows summed value of liquid balance and unclaimed reward</h3></li>
<li><a href="https://github.com/holgern/beem/commit/ae53db526b08c66ccdb1166214ed7015d68e660a" target="_blank" rel="noopener">commit ae53db5</a><h3 id="Add-option-to-use-fixed-point-arithmetic-on-the-Amount-class"><a href="#Add-option-to-use-fixed-point-arithmetic-on-the-Amount-class" class="headerlink" title="Add option to use fixed-point arithmetic on the Amount class"></a>Add option to use fixed-point arithmetic on the Amount class</h3></li>
<li><a href="https://github.com/holgern/beem/commit/15aff5f093af6fff0b44c3efdedf033b7f18fd4d" target="_blank" rel="noopener">commit 15aff5f</a></li>
<li>When fixed_point_arithmetic is set to True, is the amount parameter always be rounded down to the asset precision</li>
<li>Add Handling of multiplying with a Price object</li>
<li>Both parameter are rounded down to the precision in all comparison operation as ==,</li>
</ul>
<h3 id="Cast-amount-to-float-for-calculations"><a href="#Cast-amount-to-float-for-calculations" class="headerlink" title="Cast amount to float for calculations"></a>Cast amount to float for calculations</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/1364f732e94d9347682f2869eaec61553555ca63" target="_blank" rel="noopener">commit 1364f73</a><h3 id="Use-decimal-for-amount-in-the-Amount-class"><a href="#Use-decimal-for-amount-in-the-Amount-class" class="headerlink" title="Use decimal for amount in the Amount class"></a>Use decimal for amount in the Amount class</h3></li>
<li><a href="https://github.com/holgern/beem/commit/bde53801ac7f38116739410a1be7dcb616635ce3" target="_blank" rel="noopener">commit bde5380</a></li>
<li>change the internal representation of amount from float to Decimal</li>
<li>Round amount down to precision</li>
<li>Adapt amount test to Decimal</li>
<li>Round down all other number in all operatio<h3 id="Improve-all-generator-functions-in-account"><a href="#Improve-all-generator-functions-in-account" class="headerlink" title="Improve all generator functions in account"></a>Improve all generator functions in account</h3></li>
<li><a href="https://github.com/holgern/beem/commit/13424bd177aca781508d69a71688d66c7c5ad60f" target="_blank" rel="noopener">commit 13424bd</a></li>
<li>set num_retries to a default of 100, in order to prevent crashing when a wrong node is set</li>
</ul>
<h3 id="Fix-issue-162-one-time-use-private-key-can-be-entered-instead-of-unlocking-the-wallet"><a href="#Fix-issue-162-one-time-use-private-key-can-be-entered-instead-of-unlocking-the-wallet" class="headerlink" title="Fix issue #162 - one-time use private key can be entered instead of unlocking the wallet"></a>Fix issue #162 - one-time use private key can be entered instead of unlocking the wallet</h3><ul>
<li><a href="https://github.com/holgern/beem/commit/4a85f3762771be3ee4efae2346e3243241ab01a9" target="_blank" rel="noopener">commit 4a85f37</a></li>
<li>prepare next beem release and increase version number</li>
<li>switch default chain to STEEMAPPBASE</li>
</ul>
<h2 id="Github-account"><a href="#Github-account" class="headerlink" title="Github account"></a>Github account</h2><p><a href="https://github.com/holgern" target="_blank" rel="noopener">https://github.com/holgern</a></p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/update-for-beem-amount-in-the-amount-class-is-a-decimal-instead-of-a-float-and-bug-fix-for-account-getbalance" target="_blank" rel="noopener">&#x2018;update for beem - amount in the Amount class is a Decimal instead of a float and bug-fix for account.get_balance()&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/3/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@holger80/page/5/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/3/">3</a></li>
            
            <li><a class="pagination-link is-current" href="/@holger80/page/4/">4</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/5/">5</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@holger80/page/45/">45</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

