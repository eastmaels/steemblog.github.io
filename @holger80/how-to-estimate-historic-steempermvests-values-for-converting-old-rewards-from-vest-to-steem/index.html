
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>How to estimate historic steem_per_mvests values for converting old rewards from vest to steem. - Holger</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@holger80/css/style.css">

<link rel="stylesheet" href="/@holger80/css/bundle.css"></head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@holger80/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@holger80/">Home</a>
                
                <a class="navbar-item" href="/@holger80/archives">Archives</a>
                
                <a class="navbar-item" href="/@holger80/categories">Categories</a>
                
                <a class="navbar-item" href="/@holger80/tags">Tags</a>
                
                <a class="navbar-item" href="/@holger80/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catálogo" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                

                





<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Catálogo
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#Small-example">
        <span class="has-mr-6">1</span>
        <span>Small example</span>
        </a></li><li>
        <a class="is-flex" href="#Getting-old-steem-per-mvests-values">
        <span class="has-mr-6">2</span>
        <span>Getting old steem_per_mvests values</span>
        </a></li><li>
        <a class="is-flex" href="#Searching-for-old-data">
        <span class="has-mr-6">3</span>
        <span>Searching for old data</span>
        </a></li><li>
        <a class="is-flex" href="#Estimation-of-future-steem-per-mvests-values">
        <span class="has-mr-6">4</span>
        <span>Estimation of future steem_per_mvests values</span>
        </a></li></ul>
        </div>
    </div>
</div>


    
    
</div>


                <script src="/@holger80/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://steemitimages.com/DQmTtw1x7mRg73WKp5a6hmoAmoXdw7R6a32bgq62uncuqSg/image.png" alt="How to estimate historic steem_per_mvests values for converting old rewards from vest to steem.">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-01-27T20:00:39.000Z">2018-01-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@holger80/categories/steemdev/">steemdev</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 630 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                How to estimate historic steem_per_mvests values for converting old rewards from vest to steem.
            
        </h1>
        <div class="content">
            <p>I tried to calculate old rewards using <a href="https://steemdata.com/" target="_blank" rel="noopener">https://steemdata.com/</a>. I noticed then that old <code>steem_per_mvests</code> values are not included in the database. As all rewards are saved in Vests,  the <code>steem_per_mvests</code> value from the payout date must be known for calculating the amount of claimed rewards in Steem power.</p>
<h2 id="Small-example"><a href="#Small-example" class="headerlink" title="Small example"></a>Small example</h2><p>Reward payout for old posts is stored in vests: <a href="https://steemdb.com/deutsch/@holger80/virtuelle-cloud-mining-ponzi-schemen-auch-bekannt-als-hypt/data" target="_blank" rel="noopener">https://steemdb.com/deutsch/@holger80/virtuelle-cloud-mining-ponzi-schemen-auch-bekannt-als-hypt/data</a><br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">{</span><br><span class="line">    &quot;author&quot;: &quot;holger80&quot;,</span><br><span class="line">    &quot;permlink&quot;: &quot;virtuelle-cloud-mining-ponzi-schemen-auch-bekannt-als-hypt&quot;,</span><br><span class="line">    &quot;sbd_payout&quot;: 0.558,</span><br><span class="line">    &quot;steem_payout&quot;: 0,</span><br><span class="line">    &quot;vesting_payout&quot;: 167.986184,</span><br><span class="line">    &quot;app_name&quot;: &quot;steemit&quot;,</span><br><span class="line">    &quot;app_version&quot;: &quot;0.1&quot;,</span><br><span class="line">    &quot;_id&quot;: &quot;18745605\/holger80\/virtuelle-cloud-mining-ponzi-schemen-auch-bekannt-als-hypt&quot;,</span><br><span class="line">    &quot;_ts&quot;: {</span><br><span class="line">        &quot;$date&quot;: {</span><br><span class="line">            &quot;$numberLong&quot;: &quot;1515257697000&quot;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>In order to calculate the recieved Steem Power, I need the <code>steem_per_mvests</code> value from the 06.01.2018 (calculated from &#x201C;$numberLong&#x201D;: &#x201C;1515257697000&#x201D;). For the example, the error is only small when instead of the correct value the newest  <code>steem_per_mvests</code> value is used. In mosts example scripts, <code>Converter().vests_to_sp( )</code> is used for this:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Converter(steemd_instance=steem).vests_to_sp(167.986184)</span><br><span class="line">0.08208576818168924 # recieved Steem Power</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>But this value is only an estimation, as the <code>steem_per_mvests</code> value from the 27.01.2018 and not from the 06.01.2018 is used. The error for this example is only very small, but when the error would increase for older posts with high payouts.</p>
<h2 id="Getting-old-steem-per-mvests-values"><a href="#Getting-old-steem-per-mvests-values" class="headerlink" title="Getting old steem_per_mvests values"></a>Getting old <code>steem_per_mvests</code> values</h2><p>After some research, I found out that old values can be downloaded as a  JSON-file from <a href="https://steemdb.com/api/props" target="_blank" rel="noopener">https://steemdb.com/api/props</a>. The oldest data that can be downloaded is from 19.01.2017.</p>
<p>The result is plotted here:<br><img src="https://steemitimages.com/DQmTtw1x7mRg73WKp5a6hmoAmoXdw7R6a32bgq62uncuqSg/image.png" alt=""><br>Data from <a href="https://steemdb.com/api/props" target="_blank" rel="noopener">https://steemdb.com/api/props</a> are used to generate this plot.<br>As can be seen that <code>steem_per_mvests</code> is changing linearly over time. </p>
<h2 id="Searching-for-old-data"><a href="#Searching-for-old-data" class="headerlink" title="Searching for old data"></a>Searching for old data</h2><p> Luckily, I found old posts, in which <code>steem_per_mvests</code> values as mentioned:<br><code>steem_per_mvests</code> | Date<br>&#x2014; | &#x2014;<br>129.229 | 2016-5-31<br>196.001 | 2016-7-6<br>229.8 | 2016-7-19<br>236.342 | 2016-7-22<br>275.51502255278 | 2016-8-14<br>448.195 | 2016-11-19</p>
<p>I added the data to the plot:<br><img src="https://steemitimages.com/DQmZnrtrxT26zdZzm4eyAcjT46Djcf1edos5gkPmmFffP49/image.png" alt=""><br>It seems that using two linear approximations can be used to estimate the complete  <code>steem_per_mvests</code> data.<br>There is only one change due to the 16th hard fork from December 2016, in which the yearly inflation rate was reduced to 9.5%.<br>After applying <code>np.polyfit(x, y, 1)</code>on the <a href="https://steemdb.com/api/props" target="_blank" rel="noopener">https://steemdb.com/api/props</a> dataset and saving the parameter to <code>a2</code> and <code>b2</code>, I applyed <code>np.polyfit(x, y, 1)</code> to the older data (which is shown in the table) and saved the parameter to <code>a</code> and <code>b</code>. The result estimation function is shown here:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def est_steem_per_mvests(timeStamp):</span><br><span class="line">    a = 2.1325476281078992e-05</span><br><span class="line">    b = -31099.685481490847</span><br><span class="line"># Parameter a2 and b2 apply after the 16th hard fork in December 2016.</span><br><span class="line">    a2 = 2.9019227739473682e-07</span><br><span class="line">    b2 = 48.41432402074669</span><br><span class="line">    </span><br><span class="line">    if (timeStamp &lt; (b2-b)/(a-a2)):</span><br><span class="line">        return a * timeStamp + b</span><br><span class="line">    else:</span><br><span class="line">        return a2 * timeStamp + b2</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def est_vests_to_sp(vests, timeStamp):</span><br><span class="line">    return calcMVestSteem(timeStamp) * (vests/1e6)</span><br><span class="line"></span><br><span class="line">def est_vests_to_sp_numberlong(vests, numberLong):</span><br><span class="line">    return calcMVestSteem(float(numberLong)/1000) * (vests/1e6)</span><br></pre></td></tr></tbody></table></figure>
<p>The estimated <code>steem_per_mvests</code> is shown in the following two plots.  The root mean square error of the estimated data to the real data which are shown in the first plot is 0.0351 Steem per MVests (1e6 vests).<br><img src="https://steemitimages.com/DQmUQ8ooBTwVsqJKKKdQaxor3BffRqLXGm1DtMupAFLyBVT/image.png" alt=""></p>
<p><img src="https://steemitimages.com/DQmZyKP79fz2dzDXKAZmt37sZ8E6uZiigZSeqa4HL5dPeS6/image.png" alt=""></p>
<h2 id="Estimation-of-future-steem-per-mvests-values"><a href="#Estimation-of-future-steem-per-mvests-values" class="headerlink" title="Estimation of future steem_per_mvests values"></a>Estimation of future <code>steem_per_mvests</code> values</h2><p>My prediction of future values (not accurate as the in inflation is reduced every year):<br>Date | <code>steem_per_mvests</code><br>&#x2014; | &#x2014;<br>2019-01-01 | 497.13<br>2020-01-01 | 506.2<br>2025-01-01 | 552.1<br>2030-01-01 | 597.9</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@holger80/how-to-estimate-historic-steempermvests-values-for-converting-old-rewards-from-vest-to-steem" target="_blank" rel="noopener">&#x2018;How to estimate historic steem_per_mvests values for converting old rewards from vest to steem.&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/@holger80/tags/dev/">dev</a>, <a class="has-link-grey -link" href="/@holger80/tags/steem/">steem</a>, <a class="has-link-grey -link" href="/@holger80/tags/steemdata/">steemdata</a>, <a class="has-link-grey -link" href="/@holger80/tags/steemdev/">steemdev</a>, <a class="has-link-grey -link" href="/@holger80/tags/steemit/">steemit</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ab6f60ace89f00013641890&amp;product=inline-share-buttons" async="async"></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/@holger80/every-steemit-user-has-its-own-filter-bubble/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Every steemit user has its own filter bubble</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/@holger80/review-of-the-enjin-digital-smart-wallet/">
                <span class="level-item">Review of the Enjin digital smart wallet</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@holger80/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Holger" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Holger&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@holger80/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Pages",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},CONTENT_URL:"/@holger80/content.json"};</script>



    
<script src="/@holger80/js/bundle.js" defer></script></body>
</html>

