
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>@aggroed interviews Steemit&#39;s hightech wizard @gtg aka @gandalf about the future and stability of the Steemit Blockchain. - Aggroed</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@aggroed/css/style.css">

<link rel="stylesheet" href="/@aggroed/css/bundle.css"></head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@aggroed/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Aggroed" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@aggroed/">Home</a>
                
                <a class="navbar-item" href="/@aggroed/archives">Archives</a>
                
                <a class="navbar-item" href="/@aggroed/categories">Categories</a>
                
                <a class="navbar-item" href="/@aggroed/tags">Tags</a>
                
                <a class="navbar-item" href="/@aggroed/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                

                





<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Catalogue
            </h3>
            
        </div>
    </div>
</div>


    
    
</div>


                <script src="/@aggroed/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://steemitimages.com/DQmd1XAJWP37vfkXqMFXbxx61XAZVgGoVYe95Vp6bFaDPMg/image.png" alt="@aggroed interviews Steemit&#39;s hightech wizard @gtg aka @gandalf about the future and stability of the Steemit Blockchain.">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-09-24T20:40:06.000Z">2017-09-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@aggroed/categories/steemit/">steemit</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1432 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                @aggroed interviews Steemit&#39;s hightech wizard @gtg aka @gandalf about the future and stability of the Steemit Blockchain.
            
        </h1>
        <div class="content">
            <p><img src="https://steemitimages.com/DQmd1XAJWP37vfkXqMFXbxx61XAZVgGoVYe95Vp6bFaDPMg/image.png" alt=""></p>
<p>It&#x2019;s a pleasure to share a special guest with you all today. I have the great honor of having @gtg (also known as @gandalf) speak a few words with us about the Steem blockchain. @gtg can often be found as the number 1 Witness on Steem and is well known for his technical skills as an IT wizard, system administrator, and developer. I&#x2019;ve been following a story for a little bit about how the Steem Blockchain application is working, and I want to address some concerns about it&#x2019;s ultimate fate.  </p>
<p>While the website is called Steemit the blockchain program is called <code>steemd</code>.  When you blog on steemit.com, the website is actually pulling data from and pushing data to the blockchain through <code>steemd</code>. Steemit.com is basically a fairly convenient looking glass for what&#x2019;s written on the actual blocks, which is Steem. The program that powers steemit.com to look at the material on the blockchain is called <code>condenser</code>.  All the witnesses are running servers that store the information written into the Blockchain and it&#x2019;s our witness servers that build what you write and do as new blocks on the blockchain.</p>
<p>A few weeks back several of the larger RPC nodes, which are used by developers to run programs off of Steemd (not just for reading/writing blogs) crashed on the same day, and the witnesses and community were alarmed, annoyed at the loss of various bots, programs, and tools, and lastly concerned about the future of the Blockchain.  While the programs didn&#x2019;t cease to exist, many were temporarily disabled as they may not have been configured to go to backup nodes or re-establish connections after a loss, or the nodes they chose to re-establish connections to were also down.  Anyway, a lot of community members voiced concerns on the block.</p>
<p>In part, the severity of the concern at the time was caused by the account l0k1 who was writing about the immanent death of Steemd due to increasing RAM storage requirements that will eventually cause the program to shutdown.  (l0ki also goes by the handles elfspice and calibrae, they were joined by the additional account faddat).  It&#x2019;s worth noting they were simultaneously promoting their own blockchain application at the time.   @gtg responded then and has been working hard on the backend to minimize some requirements and also calm fears.  This article is designed to offer more clarity on the strength of the Steem blockchain, ecosystem, and the witnesses and developers behind it.</p>
<hr>
<p>@gtg, can you state what happened in your opinion on the day that many of the full RPC nodes shut down?</p>
<blockquote>
<p>It&#x2019;s not what happened in my opinion. It&#x2019;s just what happened :-)</p>
<p>One of my nodes was affected too. I remember that moment exactly. I was at the Warsaw Steem Meetup. <a href="/@zurvanic">Mitchell</a> was giving his great speech, while I was looking at incoming alerts from my node.</p>
<p>I&#x2019;ve collected useful data from that crash and sent them to Steemit dev team. Just after 69 minutes I received the first feedback and 25 minutes after that there was a complete, detailed description of the cause along with solution proposal.</p>
<p>The outage was caused by a bug in the tags plugin. Full RPC nodes run a number of non-consensus plugins to support various frontend features for condenser (<a href="https://steemit.com" target="_blank" rel="noopener">Steemit.com</a> is powered by <a href="https://github.com/steemit/condenser" target="_blank" rel="noopener">condenser</a>) and other apps.</p>
<p>These plugins are not as robustly tested as the consensus logic. The blockchain itself and other types of nodes like seed nodes, witness nodes, exchange nodes, etc. were unaffected.</p>
</blockquote>
<p>@gtg, do you think that those nodes are likely to keep running into the same problem?</p>
<blockquote>
<p>No. It is fixed now.</p>
<p>Of course like with every software new issues might appear in the future but with such an awesome community and filled with skilled developers I&#x2019;m sure they would be quickly addressed and fixed. That&#x2019;s how it works now (I&#x2019;ve experienced it myself), but in a long term it would be even better.</p>
<p>If you are paying attention on what changes are being made to the platform infrastructure you might notice that there are upcomming new features that will allow migration of the plugins functionality to services external to <code>steemd</code>. For steem powered service providers it would be a great improvement. It would not only let you use specialized data backends to deal with whatever functionality you need (graphs? sql? full text searches?) but also, in future if there were a similar bug, then only a specified service and a subset of frontend functionality would be affected until it&#x2019;s fixed and there would be no need to touch <code>steemd</code>.  This is a great upcoming improvement overall.</p>
</blockquote>
<p>@gtg, for many witnesses a full node used to take under 100g of RAM on a server, and now without setting up unique configurations take over 100G of RAM.  You&#x2019;ve recently stated that you can run a full RPC node under 64G of RAM.  What&#x2019;s the financial impact of being able to run on a smaller system, and how are you able to do it?</p>
<blockquote>
<p>For full node it is crucial to provide very fast access to the shared memory file. Low latency is the key. There&#x2019;s no need to keep whole file in RAM, but if portions of it are not there, they need to be quickly accessed. Using <code>tmpfs</code> is a very effective way to achieve that goal.</p>
<p>When I get enough time I will write a post about my node setup.<br>I used to (until recently) run my public full node on a machine with 32GB RAM, and I moved out not because of a slow performance or lack of RAM but because of something more trivial: running out of disk space (no option to add it for reasonable price to that config).</p>
<p>Please note, that hardware costs to run a node is just a very small factor of a total cost of running a public service. This is not a Steem specific, it&#x2019;s how things work in a real system administration and programming world.</p>
</blockquote>
<p>@gtg, How do you see technology evolving here?  It seems you&#x2019;re using a combination of storage devices in conjunction with RAM, do you think this is going to be a long term stable approach to scaling Steemit to millions of users in addition to the hundreds of thousands of accounts we have now?</p>
<blockquote>
<p>With current approach we can scale 100x easily and there are ongoing optimizations that would help going beyond that. As for hardware resources, for example <code>i3.2xlarge</code> on Amazon EC2 is not only a good way to go as for now but has a lot potential to handle future growth.</p>
<p>Of course there are many challenges that need to be addressed, and fortunately they can be addressed ahead of time.</p>
</blockquote>
<p>@gtg, last question, @followbtcnews (and @crimsonclad) just started the steemd.minnowsupportproject.org RPC node.  Any tricks you can share with us to reduce it&#x2019;s requirements?  How can the other witnesses learn and repeat the success that you&#x2019;re having?</p>
<blockquote>
<p>All depends on your needs. My goal is to provide a service for general use, with all reasonable features. As I already mentioned using <code>tmpfs</code> for shared memory file is an effective method for keeping low latency access without need to have huge amounts of RAM.</p>
<p>For that to work you need a fast storage for swap space and other assets like the <code>block_log</code>.</p>
<p>Replaying the Steem blockchain is a really demanding process when it comes to I/O, but once the reindex is done, load on storage would be significantly lower.</p>
<p>For production grade infrastructure environment, you might consider preparing snapshot of a consistent blockchain state (shared memory file and <code>block_log</code> with index) on a separate instance and deliver it to your public instance for faster turnaround.</p>
</blockquote>
<hr>
<p><img src="https://steemitimages.com/DQmZP4FbhituiUovuFsfBFYZ6oYu351XrCVxpckcy2EFFYG/image.png" alt=""><br>&#x201C;Steem Wizard&#x201D; image by @inber</p>
<p>The first image is also by @inber entitled &#x201C;Gandalf making Steem Wizardry&#x201D;</p>
<hr>
<p>Liquid rewards from this post will be split between @followbtcnews for the steemd.minnowsupport.org RPC node cost and @gtg for his RPC node.</p>
<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@aggroed/aggroed-interviews-steemit-s-hightech-wizard-gtg-aka-gandalf-about-the-future-and-stability-of-the-steemit-blockchain" target="_blank" rel="noopener">&#x2018;@aggroed interviews Steemit&#x2019;&#x2019;s hightech wizard @gtg aka @gandalf about the future and stability of the Steemit Blockchain.&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/@aggroed/tags/steemdev/">steemdev</a>, <a class="has-link-grey -link" href="/@aggroed/tags/steemit/">steemit</a>, <a class="has-link-grey -link" href="/@aggroed/tags/steemwizard/">steemwizard</a>, <a class="has-link-grey -link" href="/@aggroed/tags/witness/">witness</a>, <a class="has-link-grey -link" href="/@aggroed/tags/witness-update/">witness-update</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ab6f60ace89f00013641890&amp;product=inline-share-buttons" async="async"></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/@aggroed/minnow-mayor-town-hall-goes-live-in-10-minutes-250-sp-delegation-and-25-sbd-up-for-grabs/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Minnow Mayor Town Hall goes live in 10 minutes.  250 SP delegation and 25 SBD up for grabs!</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/@aggroed/the-pit-of-endless-rage/">
                <span class="level-item">The Pit of Endless Rage</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@aggroed/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="Aggroed" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Aggroed&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@aggroed/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/@aggroed/content.json"};</script>



    
<script src="/@aggroed/js/bundle.js" defer></script></body>
</html>

