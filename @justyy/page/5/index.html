
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>justyy</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@justyy/css/style.css">

<link rel="stylesheet" href="/@justyy/css/bundle.css"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@justyy/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="justyy" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@justyy/">Home</a>
                
                <a class="navbar-item" href="/@justyy/archives">Archives</a>
                
                <a class="navbar-item" href="/@justyy/categories">Categories</a>
                
                <a class="navbar-item" href="/@justyy/tags">Tags</a>
                
                <a class="navbar-item" href="/@justyy/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                





<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-profile" data-pjax="/@justyy/widgets/profile.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-category" data-pjax="/@justyy/widgets/category.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tagcloud" data-pjax="/@justyy/widgets/tagcloud.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-tag" data-pjax="/@justyy/widgets/tag.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@justyy/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
            <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@justyy/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



        
        </div>
    
</div>


                





<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-recent_posts" data-pjax="/@justyy/widgets/recent_posts.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
        <div class="card widget">
  <div class="card-content">
    <div id="widget-archive" data-pjax="/@justyy/widgets/archive.html" style="position: relative; width: 100%; display: block;"></div>
  </div>
</div>



    
    
</div>


                <script src="/@justyy/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/are-top-20-witnesses-voting-each-other-introducing-witness-voting-factor/" class="image is-7by1">
            <img class="thumbnail" src="https://steemyy.com/images/vote-for-justyy.jpg" alt="Are Top 20 Witnesses Voting Each Other? Introducing Witness-voting Factor">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-07T18:06:42.000Z">2020-06-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/witness/">witness</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 525 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/are-top-20-witnesses-voting-each-other-introducing-witness-voting-factor/">Are Top 20 Witnesses Voting Each Other? Introducing Witness-voting Factor</a>
            
        </h1>
        <div class="content">
            <p>Let&#x2019;s introduce a concept i.e. witness-voting factor that represent the average witness voting each other in the TOP 20. The maximum value is 20, and the minimal is 0.</p>
<p>If the witness-voting factor is 20, it means that all top 20 witnesses are voting each other. This is not healthy as the gap (of votes) between TOP 20 and the rest will be always increasing. Also, since witnesses are voting each other, it is kinda controlled by a group of people who share the same interests - this is centralisation admit it or not.</p>
<h1 id="SteemJs-code-to-compute-the-witness-voting-factor"><a href="#SteemJs-code-to-compute-the-witness-voting-factor" class="headerlink" title="SteemJs code to compute the witness-voting factor"></a>SteemJs code to compute the witness-voting factor</h1><p>The idea is to retrieve the list of the votes of the TOP 20, and group them, count the frequency and sort them. Compute the average. The witness-voting factor for Top 20 on <a href="https://helloacm.com/steemjs-how-many-witnesses-are-running-on-23-1/" target="_blank" rel="noopener">STEEM blockchain</a> is 4.5, compared to 12.65 on HIVE.</p>
<p>Run the following in <a href="https://steemyy.com/steemjs/?s=function%20getTotalWitnesses()%20%7B%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20steem.api.getWitnessCount(function(err%2C%20result)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(!err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%7D%0A%0Afunction%20getAllWitnessAccounts(total)%20%7B%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20steem.api.getWitnesses(%5B...Array(total).keys()%5D%2C%20function(err%2C%20result)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%7D%20%20%20%0A%0Afunction%20getAccounts(accounts)%20%7B%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20steem.api.getAccounts(accounts%2C%20function(err%2C%20result)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%7D%20%20%20%0A%0A%0A(async%20function%20()%20%7B%0A%20%20%20%20const%20totalWitnesses%20%3D%20await%20getTotalWitnesses()%3B%0A%20%20%20%20let%20data%20%3D%20await%20getAllWitnessAccounts(totalWitnesses)%3B%0A%20%20%20%20data%20%3D%20data.filter(x%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20(x.votes%20%3E%200)%20%26%26%20(x.running_version%20%3D%3D%3D%20%220.23.1%22)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20data.sort((a%2C%20b)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20b.votes%20-%20a.votes%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20data%20%3D%20data.slice(0%2C%2020)%3B%0A%20%20%20%20let%20top%20%3D%20%5B%5D%3B%0A%20%20%20%20data.map((x)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20top.push(x.owner)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20const%20accountData%20%3D%20await%20getAccounts(top)%3B%0A%20%20%20%20let%20votes%20%3D%20%7B%7D%3B%0A%20%20%20%20data.map((x)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20account%20%3D%20accountData.filter(v%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20v.name%20%3D%3D%3D%20x.owner%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20for%20(let%20w%20of%20account%5B0%5D.witness_votes)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20votes%5Bw%5D%20%3D%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20votes%5Bw%5D%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20votes%5Bw%5D%20%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20var%20items%20%3D%20Object.keys(votes).map(function(key)%20%7B%0A%20%20%20%20%20%20return%20%5Bkey%2C%20votes%5Bkey%5D%5D%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%20%20%20%20items.sort(function(first%2C%20second)%20%7B%0A%20%20%20%20%20%20return%20second%5B1%5D%20-%20first%5B1%5D%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%20%20%20%20let%20x%20%3D%200%2C%20cnt%20%3D%200%3B%0A%20%20%20%20for%20(let%20w%20of%20items)%20%7B%0A%20%20%20%20%20%20%20%20if%20(top.includes(w%5B0%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log(w%5B0%5D%20%2B%20%22%2C%20%22%20%2B%20w%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20x%20%2B%3D%20w%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cnt%20%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20log(x%2Fcnt)%3B%0A%7D)()%3B%0A%0A" target="_blank" rel="noopener">SteemJs Editor</a></p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">function getTotalWitnesses() {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">      steem.api.getWitnessCount(function(err, result) {</span><br><span class="line">          if (!err) {</span><br><span class="line">              resolve(result);</span><br><span class="line">          } else {</span><br><span class="line">              reject(err);</span><br><span class="line">          }</span><br><span class="line">      });</span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">function getAllWitnessAccounts(total) {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">          steem.api.getWitnesses([...Array(total).keys()], function(err, result) {</span><br><span class="line">            if (!err) {</span><br><span class="line">                resolve(result);</span><br><span class="line">            } else {</span><br><span class="line">                reject(err);</span><br><span class="line">           }</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">}   </span><br><span class="line"></span><br><span class="line">function getAccounts(accounts) {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">          steem.api.getAccounts(accounts, function(err, result) {</span><br><span class="line">            if (!err) {</span><br><span class="line">                resolve(result);</span><br><span class="line">            } else {</span><br><span class="line">                reject(err);</span><br><span class="line">           }</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">}   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(async function () {</span><br><span class="line">    const totalWitnesses = await getTotalWitnesses();</span><br><span class="line">    let data = await getAllWitnessAccounts(totalWitnesses);</span><br><span class="line">    data = data.filter(x =&gt; {</span><br><span class="line">        // reduce the noise</span><br><span class="line">        return (x.votes &gt; 0) &amp;&amp; (x.running_version === &quot;0.23.1&quot;);</span><br><span class="line">    });</span><br><span class="line">    // sort by votes</span><br><span class="line">    data.sort((a, b) =&gt; {</span><br><span class="line">        return b.votes - a.votes;</span><br><span class="line">    });</span><br><span class="line">    // only count TOP 20 witnesses</span><br><span class="line">    data = data.slice(0, 20);</span><br><span class="line">    let top = [];</span><br><span class="line">    data.map((x) =&gt; {</span><br><span class="line">        top.push(x.owner);</span><br><span class="line">    });</span><br><span class="line">    const accountData = await getAccounts(top);</span><br><span class="line">    let votes = {};</span><br><span class="line">    data.map((x) =&gt; {</span><br><span class="line">        const account = accountData.filter(v =&gt; {</span><br><span class="line">            return v.name === x.owner</span><br><span class="line">        });</span><br><span class="line">        // count the vote frequency for each witness</span><br><span class="line">        for (let w of account[0].witness_votes) {</span><br><span class="line">            if (typeof votes[w] === &quot;undefined&quot;) {</span><br><span class="line">                votes[w] = 1;</span><br><span class="line">            } else {</span><br><span class="line">                votes[w] ++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    });    </span><br><span class="line">    </span><br><span class="line">    var items = Object.keys(votes).map(function(key) {</span><br><span class="line">      return [key, votes[key]];</span><br><span class="line">    });</span><br><span class="line">    </span><br><span class="line">    items.sort(function(first, second) {</span><br><span class="line">      return second[1] - first[1];</span><br><span class="line">    });</span><br><span class="line">    </span><br><span class="line">    let x = 0, cnt = 0;</span><br><span class="line">    for (let w of items) {</span><br><span class="line">        // TOP 20 witnesses only</span><br><span class="line">        if (top.includes(w[0])) {</span><br><span class="line">            log(w[0] + &quot;, &quot; + w[1]);</span><br><span class="line">            x += w[1];</span><br><span class="line">            cnt ++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    log(x/cnt);</span><br><span class="line">})();</span><br></pre></td></tr></tbody></table></figure>
<p>Here is the detail list:<br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">future.witness, 7</span><br><span class="line">justyy, 7</span><br><span class="line">steem-agora, 7</span><br><span class="line">steemchiller, 7</span><br><span class="line">dev.supporters, 6</span><br><span class="line">dlike, 6</span><br><span class="line">maiyude, 6</span><br><span class="line">steem-supporter, 6</span><br><span class="line">symbionts, 6</span><br><span class="line">steem-dragon, 4</span><br><span class="line">scissor.sisters, 4</span><br><span class="line">cryptoking777, 3</span><br><span class="line">hivei0, 3</span><br><span class="line">hoasen, 3</span><br><span class="line">juddsmith079, 3</span><br><span class="line">matreshka, 3</span><br><span class="line">protoss20, 3</span><br><span class="line">hinomaru-jp, 2</span><br><span class="line">inwi, 2</span><br><span class="line">rnt1, 2</span><br></pre></td></tr></tbody></table></figure><p></p>
<hr>

<p>Every little helps! I hope this helps!</p>
<p><strong>Steem On!~</strong></p>
<h2 id="Reposted-to-Blog"><a href="#Reposted-to-Blog" class="headerlink" title="Reposted to Blog"></a><em>Reposted to <a href="https://helloacm.com/are-top-20-witnesses-voting-each-other-introducing-witness-voting-factor/" target="_blank" rel="noopener">Blog</a></em></h2><p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/are-top-20-witnesses-voting-each-other-introducing-witness-voting-factor" target="_blank" rel="noopener">&#x2018;Are Top 20 Witnesses Voting Each Other? Introducing Witness-voting Factor&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/steemjs-how-many-witnesses-are-running-on-23-1/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmZcg5iThqQD4uUQwFsxtRBGm8DPxFP5q7ziRca1XJ9hnM/image.png" alt="SteemJs: How Many Witnesses are Running on 23.1?">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-06T18:52:03.000Z">2020-06-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/steemjs/">steemjs</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 429 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/steemjs-how-many-witnesses-are-running-on-23-1/">SteemJs: How Many Witnesses are Running on 23.1?</a>
            
        </h1>
        <div class="content">
            <p>How many <a href="https://steemyy.com/witness-ranking/" target="_blank" rel="noopener">witnesses</a> are running on 23.1 and how many of them are active? It turns out answering this question does not require preprocess blocks on steem blockchain e.g. SteemSQL. Rather, we can get the answer by pure SteemJS.</p>
<h1 id="Get-All-Witnesses"><a href="#Get-All-Witnesses" class="headerlink" title="Get All Witnesses"></a>Get All Witnesses</h1><p>First, we can use the <code>steemp.api.getWitnessCount</code> to return the list of all registered witnesses - which is a lot more than we thought, currently more than 1400 witnesses but of course many of them have been disabled or never produced a block.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getTotalWitnesses() {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">      steem.api.getWitnessCount(function(err, result) {</span><br><span class="line">          if (!err) {</span><br><span class="line">              resolve(result);</span><br><span class="line">          } else {</span><br><span class="line">              reject(err);</span><br><span class="line">          }</span><br><span class="line">      });</span><br><span class="line">    });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="Get-All-Witnesses-Accounts"><a href="#Get-All-Witnesses-Accounts" class="headerlink" title="Get All Witnesses Accounts"></a>Get All Witnesses Accounts</h1><p>Then, we can use <code>steem.api.getWitnesses</code> to retreive the witnesses information for multiple accounts at the same time. </p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getAllWitnessAccounts(total) {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">          steem.api.getWitnesses([...Array(total).keys()], function(err, result) {</span><br><span class="line">            if (!err) {</span><br><span class="line">                resolve(result);</span><br><span class="line">            } else {</span><br><span class="line">                reject(err);</span><br><span class="line">           }</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">}   </span><br><span class="line">`</span><br></pre></td></tr></tbody></table></figure>
<h1 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h1><p>Then, we can chain those two functions to filter out those witnesses that are running 23.1 and are active.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(async function () {</span><br><span class="line">    const totalWitnesses = await getTotalWitnesses();</span><br><span class="line">    let data = await getAllWitnessAccounts(totalWitnesses);</span><br><span class="line">    log(data.filter(x =&gt; {</span><br><span class="line">        return x.running_version === &quot;0.23.1&quot; &amp;&amp; (x.signing_key !== &quot;STM1111111111111111111111111111111114T1Anm&quot;);</span><br><span class="line">    }).length);</span><br><span class="line">})();</span><br></pre></td></tr></tbody></table></figure>
<h3 id="The-answer-is-46-witnesses-are-running-on-23-1-and-all-of-them-are-active"><a href="#The-answer-is-46-witnesses-are-running-on-23-1-and-all-of-them-are-active" class="headerlink" title="The answer is 46 witnesses are running on 23.1 and all of them are active."></a>The answer is 46 witnesses are running on 23.1 and all of them are active.</h3><p>If we point the RPC node to HIVE chain, we get 107 witnesses running on 23.0.</p>
<p>Run the code using <a href="https://steemyy.com/steemjs/?s=function%20getTotalWitnesses()%20%7B%0D%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20steem.api.getWitnessCount(function(err%2C%20result)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!err)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getAllWitnessAccounts(total)%20%7B%0D%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20steem.api.getWitnesses(%5B...Array(total).keys()%5D%2C%20function(err%2C%20result)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!err)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%20%20%20%0D%0A%0D%0A(async%20function%20()%20%7B%0D%0A%20%20%20%20const%20totalWitnesses%20%3D%20await%20getTotalWitnesses()%3B%0D%0A%20%20%20%20let%20data%20%3D%20await%20getAllWitnessAccounts(totalWitnesses)%3B%0D%0A%20%20%20%20log(data.filter(x%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20x.running_version%20%3D%3D%3D%20%220.23.1%22%20%26%26%20(x.signing_key%20!%3D%3D%20%22STM1111111111111111111111111111111114T1Anm%22)%3B%0D%0A%20%20%20%20%7D).length)%3B%0D%0A%7D)()%3B%0D%0A" target="_blank" rel="noopener">SteemJs</a></p>
<p>Slightly changing the query, we know:<br>There are 24 Witnesses running at 0.23.0 but they are disabled.<br>And there are 9 witnesses running at 0.23.0 and they are &#x2018;active&#x2019; which may be those HIVE witnesses who didn&#x2019;t take offline they witnesses.</p>
<p>BTW, i have added the dSteem into the SteemJs tool:  <a href="https://steemyy.com/steemjs/" target="_blank" rel="noopener">https://steemyy.com/steemjs/</a><br><img src="https://cdn.steemitimages.com/DQmZcg5iThqQD4uUQwFsxtRBGm8DPxFP5q7ziRca1XJ9hnM/image.png" alt="image.png"></p>
<hr>

<p>Every little helps! I hope this helps!</p>
<p><strong>Steem On!~</strong></p>
<h2 id="Reposted-to-Blog"><a href="#Reposted-to-Blog" class="headerlink" title="Reposted to Blog"></a><em>Reposted to <a href="https://helloacm.com/steemjs-how-many-witnesses-are-running-on-23-1/" target="_blank" rel="noopener">Blog</a></em></h2><p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/steemjs-how-many-witnesses-are-running-on-23-1" target="_blank" rel="noopener">&#x2018;SteemJs: How Many Witnesses are Running on 23.1?&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/new-tool-introducing-a-simple-steem-block-explorer/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmayYXuS9eo3FR1qLrz7mvCSjyNypK78U78c8Mw1FWvY1N/image.png" alt="New Tool: Introducing a Simple Steem Block Explorer">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-05T19:19:27.000Z">2020-06-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/whalepower/">whalepower</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 224 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/new-tool-introducing-a-simple-steem-block-explorer/">New Tool: Introducing a Simple Steem Block Explorer</a>
            
        </h1>
        <div class="content">
            <p>Hello,<br>I decide to write a simple steem block explorer. And viewing the transactions in a block is the first step.</p>
<p><a href="https://steemyy.com/block.php" target="_blank" rel="noopener">https://steemyy.com/block.php</a><br>Chinese: <a href="https://steemyy.com/steemit-tools/block.php" target="_blank" rel="noopener">https://steemyy.com/steemit-tools/block.php</a></p>
<p><img src="https://cdn.steemitimages.com/DQmayYXuS9eo3FR1qLrz7mvCSjyNypK78U78c8Mw1FWvY1N/image.png" alt="image.png"></p>
<h1 id="Known-Issues"><a href="#Known-Issues" class="headerlink" title="Known Issues"></a>Known Issues</h1><ol>
<li>Latest blocks are showing 0 transactions, please refresh in a few minutes (I am looking into solving this issue, any help would be appreciated). The Last Irreversible blocks are fine.</li>
<li>customizing known operations - I will gradually improve it.</li>
<li>showing account&#x2019;s history page</li>
<li>search field, filtering</li>
</ol>
<hr>

<p>Every little helps! I hope this helps!</p>
<p><strong>Steem On!~</strong></p>
<hr>
<p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/new-tool-introducing-a-simple-steem-block-explorer" target="_blank" rel="noopener">&#x2018;New Tool: Introducing a Simple Steem Block Explorer&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/illustrating-the-blockchain-via-steemjs-blocks-are-chained/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmXaJmxUfNazHDigysEw4A6upLxkUmQFPiM7AgVSPqXXpD/image.png" alt="Illustrating the Blockchain via SteemJs  - Blocks are Chained">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-04T20:56:33.000Z">2020-06-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/blockchain/">blockchain</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 803 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/illustrating-the-blockchain-via-steemjs-blocks-are-chained/">Illustrating the Blockchain via SteemJs  - Blocks are Chained</a>
            
        </h1>
        <div class="content">
            <p>Blockchain is a fancy word, and not many people understand it. If you want to explain this to your GF/partner, what would be the most simple way?</p>
<p>Right, blocks are chained in one way, as time goes on, in particular for STEEM blockchain, every 3 seconds, we append a new block to the end of the current chain. So the chain goes longer and longer each day.</p>
<p><img src="https://cdn.steemitimages.com/DQmXaJmxUfNazHDigysEw4A6upLxkUmQFPiM7AgVSPqXXpD/image.png" alt="image.png"></p>
<p>We need a way to tell if the current block can be attached (we can&#x2019;t just produce a random block and force appending it). For each block, we will have a unique block ID, and we will have a previous field that match the previous Block ID. The first block on steem blockchain has <code>previous</code> set to 0000000000000000000000000000000000000000. </p>
<p>Run this in <a href="https://steemyy.com/steemjs/?s=steem.api.getBlock(1%2C%20function(err%2C%20result)%20%7B%0D%0A%20%20log(result)%3B%0D%0A%7D)%3B" target="_blank" rel="noopener">SteemJS</a><br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const blockNum = 1;</span><br><span class="line">steem.api.getBlock(blockNum, function(err, result) {</span><br><span class="line">  console.log(err, result);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>You will see the block_id and previous value of the first block.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;previous&quot;:&quot;0000000000000000000000000000000000000000&quot;,&quot;timestamp&quot;:&quot;2016-03-24T16:05:00&quot;,&quot;witness&quot;:&quot;initminer&quot;,&quot;transaction_merkle_root&quot;:&quot;0000000000000000000000000000000000000000&quot;,&quot;extensions&quot;:[],&quot;witness_signature&quot;:&quot;204f8ad56a8f5cf722a02b035a61b500aa59b9519b2c33c77a80c0a714680a5a5a7a340d909d19996613c5e4ae92146b9add8a7a663eef37d837ef881477313043&quot;,&quot;transactions&quot;:[],&quot;block_id&quot;:&quot;0000000109833ce528d5bbfb3f6225b39ee10086&quot;,&quot;signing_key&quot;:&quot;STM8GC13uCZbP44HzMLV6zPZGwVQ8Nt4Kji8PapsPiNq1BK153XTX&quot;,&quot;transaction_ids&quot;:[]}</span><br></pre></td></tr></tbody></table></figure>
<p>And the second block gives:</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{&quot;previous&quot;:&quot;0000000109833ce528d5bbfb3f6225b39ee10086&quot;,&quot;timestamp&quot;:&quot;2016-03-24T16:05:36&quot;,&quot;witness&quot;:&quot;initminer&quot;,&quot;transaction_merkle_root&quot;:&quot;0000000000000000000000000000000000000000&quot;,&quot;extensions&quot;:[],&quot;witness_signature&quot;:&quot;1f3e85ab301a600f391f11e859240f090a9404f8ebf0bf98df58eb17f455156e2d16e1dcfc621acb3a7acbedc86b6d2560fdd87ce5709e80fa333a2bbb92966df3&quot;,&quot;transactions&quot;:[],&quot;block_id&quot;:&quot;00000002ed04e3c3def0238f693931ee7eebbdf1&quot;,&quot;signing_key&quot;:&quot;STM8GC13uCZbP44HzMLV6zPZGwVQ8Nt4Kji8PapsPiNq1BK153XTX&quot;,&quot;transaction_ids&quot;:[]}</span><br></pre></td></tr></tbody></table></figure>
<p>As you can see, the previous value is the same as the block_id for the Block 1. This goes on and on. Let&#x2019;s print the first 10 blocks&#x2019; previous and block_id:</p>
<p>Run the Code in <a href="https://steemyy.com/steemjs/?s=%0D%0Afunction%20getBlock(blockNum)%20%7B%0D%0A%20%20%20%20return%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20steem.api.getBlock(blockNum%2C%20function(err%2C%20result)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(err)%20reject(err)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%3A%20blockNum%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previous%3A%20result.previous%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block_id%3A%20result.block_id%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%20%20%20%20%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0A(async%20function()%20%7B%0D%0A%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%3D%2010%3B%20%2B%2B%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20log(await%20getBlock(i))%3B%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D)()%3B" target="_blank" rel="noopener">SteemJS</a><br></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function getBlock(blockNum) {</span><br><span class="line">    return new Promise((resolve, reject) =&gt; {</span><br><span class="line">        steem.api.getBlock(blockNum, function(err, result) {</span><br><span class="line">            if (err) reject(err);</span><br><span class="line">            resolve({</span><br><span class="line">                block: blockNum,</span><br><span class="line">                previous: result.previous,</span><br><span class="line">                block_id: result.block_id,</span><br><span class="line">            });</span><br><span class="line">        });    </span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(async function() {</span><br><span class="line">    for (let i = 1; i &lt;= 10; ++ i) {</span><br><span class="line">        log(await getBlock(i));    </span><br><span class="line">    }</span><br><span class="line">})();</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>And you will see the rule applies. In fact, this is the fundamental rule of the blockchain - the rule to chain the blocks.</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">{&quot;block&quot;:1,&quot;previous&quot;:&quot;0000000000000000000000000000000000000000&quot;,&quot;block_id&quot;:&quot;0000000109833ce528d5bbfb3f6225b39ee10086&quot;}</span><br><span class="line">{&quot;block&quot;:2,&quot;previous&quot;:&quot;0000000109833ce528d5bbfb3f6225b39ee10086&quot;,&quot;block_id&quot;:&quot;00000002ed04e3c3def0238f693931ee7eebbdf1&quot;}</span><br><span class="line">{&quot;block&quot;:3,&quot;previous&quot;:&quot;00000002ed04e3c3def0238f693931ee7eebbdf1&quot;,&quot;block_id&quot;:&quot;000000035b094a812646289c622dba0ba67d1ffe&quot;}</span><br><span class="line">{&quot;block&quot;:4,&quot;previous&quot;:&quot;000000035b094a812646289c622dba0ba67d1ffe&quot;,&quot;block_id&quot;:&quot;00000004f9de0cfeb08c9d7d9d1fe536d902dc4a&quot;}</span><br><span class="line">{&quot;block&quot;:5,&quot;previous&quot;:&quot;00000004f9de0cfeb08c9d7d9d1fe536d902dc4a&quot;,&quot;block_id&quot;:&quot;00000005014b5562a1133070d8bee536de615329&quot;}</span><br><span class="line">{&quot;block&quot;:6,&quot;previous&quot;:&quot;00000005014b5562a1133070d8bee536de615329&quot;,&quot;block_id&quot;:&quot;00000006e323e35687e160b8aec86f1e56d4c902&quot;}</span><br><span class="line">{&quot;block&quot;:7,&quot;previous&quot;:&quot;00000006e323e35687e160b8aec86f1e56d4c902&quot;,&quot;block_id&quot;:&quot;000000079ff02a2dea6c4d9a27f752233d4a66b4&quot;}</span><br><span class="line">{&quot;block&quot;:8,&quot;previous&quot;:&quot;000000079ff02a2dea6c4d9a27f752233d4a66b4&quot;,&quot;block_id&quot;:&quot;000000084f957cc170a27c8330293a3343f82c23&quot;}</span><br><span class="line">{&quot;block&quot;:9,&quot;previous&quot;:&quot;000000084f957cc170a27c8330293a3343f82c23&quot;,&quot;block_id&quot;:&quot;00000009f35198cfd8a866868538bed3482d61a4&quot;}</span><br><span class="line">{&quot;block&quot;:10,&quot;previous&quot;:&quot;00000009f35198cfd8a866868538bed3482d61a4&quot;,&quot;block_id&quot;:&quot;0000000aae44a2f4d57170dab16fb1619f9e1d0e&quot;}</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://helloacm.com/recursive-algorithm-to-get-proxy-votes-on-steem-blockchain/" target="_blank" rel="noopener">Steem Blockchain</a> is a public database. Every 3 seconds, <a href="https://steemyy.com/witness-ranking" target="_blank" rel="noopener">one witness</a> helps to package operations (comment, vote, transfer etc) into a block, seal it with the signing key, and finally push to the chain for a small reward.</p>
<p>As the blockchain gets bigger and bigger, it takes enormous efforts to alter the chain, as you will need to modify every prior blocks.</p>
<hr>

<p>Every little helps! I hope this helps!</p>
<p><strong>Steem On!~</strong></p>
<h2 id="Reposted-to-Blog"><a href="#Reposted-to-Blog" class="headerlink" title="Reposted to Blog"></a><em>Reposted to <a href="https://helloacm.com/illustrating-the-blockchain-via-steemjs-blocks-are-chained/" target="_blank" rel="noopener">Blog</a></em></h2><p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/illustrating-the-blockchain-via-steemjs-blocks-are-chained" target="_blank" rel="noopener">&#x2018;Illustrating the Blockchain via SteemJs  - Blocks are Chained&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/three-ways-of-running-a-continuous-nodejs-application-on-your-server/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmSTwjoWBZjLzuJ5HeTVvKCddGuyaiyqo2w4EzGshBpLFb/image.png" alt="Three ways of Running a continuous NodeJS Application on Your Server">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-03T17:52:30.000Z">2020-06-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/whalepower/">whalepower</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 616 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/three-ways-of-running-a-continuous-nodejs-application-on-your-server/">Three ways of Running a continuous NodeJS Application on Your Server</a>
            
        </h1>
        <div class="content">
            <p>Let&#x2019;s say, I have an application that is written in NodeJs, that process the latest blocks of the <a href="https://helloacm.com/recursive-algorithm-to-get-proxy-votes-on-steem-blockchain/" target="_blank" rel="noopener">steem blockchain</a> and write data into a database. I have three ways of running it on my server.</p>
<h1 id="Using-Screen"><a href="#Using-Screen" class="headerlink" title="Using Screen"></a>Using Screen</h1><p>As you probably know, when you are disconnected from a SSH session, the programs that are launched in the session will be terminated. There is any easy way to fix this. You can start a session by using command <code>screen -S name</code> before you run any long-running program e.g. system updates or a program that needs to run forever.</p>
<p>In case the <a href="https://helloacm.com/a-nice-alternative-for-putty-termius-a-very-nice-portable-ssh-connection-tool/" target="_blank" rel="noopener">SSH</a> is disconnected, the programs will be still running. And you can use command <code>screen -r name</code> to re-connect to the session. You can <code>screen -ls</code> to list the current sessions, and <code>screen -d name</code> to detach a session.</p>
<p>The advantage of using this method is:</p>
<ol>
<li>you can easily monitor the application (by seeing its output)</li>
<li>you can easily terminate or restart the application e.g. Ctrl + C</li>
<li>the application runs continuously, meaning that you can keep up to the latest blocks and provide a less than 3 second sync time.</li>
</ol>
<p>Some disadvantages:</p>
<ol>
<li>If the application exists abnormaly, it is not restarted automatically - thus you would need to add the error-handling in your code.</li>
<li>Long-running code may tend to have more problems: e.g. memory-leaks, crash at some point.</li>
</ol>
<h1 id="Putting-it-in-Crontab"><a href="#Putting-it-in-Crontab" class="headerlink" title="Putting it in Crontab"></a>Putting it in Crontab</h1><p>Another way is to run your program in <a href="https://helloacm.com/crontab-generator-secure-fast-handy-tool-to-generate-the-crontab-lines/" target="_blank" rel="noopener">crontab</a>. However, the finest granularity is every minute i.e. you can specify your application to run every minute.</p>
<p>Advantages are:</p>
<ol>
<li>You probably don&#x2019;t need to do error-handling. In case it fails, it fails. You can just wait for next minute (restart automatically).</li>
<li>Not to worry about memory leaks. It is less likely to go wrong due to memory issue.</li>
</ol>
<p>Disadvantages:</p>
<ol>
<li>Lose the ability to sync real-time with the blocks</li>
<li>Not easy to monitor the output (you can redirect the errors to files though)</li>
</ol>
<h1 id="Using-a-Process-Manager"><a href="#Using-a-Process-Manager" class="headerlink" title="Using a Process Manager"></a>Using a Process Manager</h1><p>You can combine the both advantages using a Process Manager. For example, if it is a NodeJs application, you can use <code>pm2</code> utility.</p>
<p>Advantages:</p>
<ol>
<li>automatically restart your application in case it crashes or some conditions are met e.g. memory constraints, age.</li>
<li>easy to monitor the output of each application e.g. you can <code>pm2 show app</code></li>
<li>easy to terminate <code>pm2 delete app</code> or restart <code>pm2 restart app</code></li>
<li>the application runs continuously</li>
<li>error-handling is optional - but considered a good practise not to let <code>pm2</code> restart your app.</li>
</ol>
<p><img src="https://cdn.steemitimages.com/DQmSTwjoWBZjLzuJ5HeTVvKCddGuyaiyqo2w4EzGshBpLFb/image.png" alt="image.png"></p>
<hr>

<p>Every little helps! I hope this helps!</p>
<p><strong>Steem On!~</strong></p>
<h2 id="Reposted-to-Blog"><a href="#Reposted-to-Blog" class="headerlink" title="Reposted to Blog"></a><em>Reposted to <a href="https://helloacm.com/three-ways-of-running-a-continuous-nodejs-application-on-your-server/" target="_blank" rel="noopener">Blog</a></em></h2><p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/three-ways-of-running-a-continuous-nodejs-application-on-your-server" target="_blank" rel="noopener">&#x2018;Three ways of Running a continuous NodeJS Application on Your Server&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/@justyy/new-page-added-steem-blockchain-overview/" class="image is-7by1">
            <img class="thumbnail" src="https://cdn.steemitimages.com/DQmUnkiPtRa4MYkTN4SdjBjSaVRpruhWfdhoEMPpbAk3E5D/image.png" alt="New Page Added: Steem Blockchain Overview">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-06-02T18:05:39.000Z">2020-06-02</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@justyy/categories/whalepower/">whalepower</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 219 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/@justyy/new-page-added-steem-blockchain-overview/">New Page Added: Steem Blockchain Overview</a>
            
        </h1>
        <div class="content">
            <p>I feel it is useful to make a page which has listed key-value information for the steem blockchain. There you go:</p>
<p><a href="https://steemyy.com/overview.php" target="_blank" rel="noopener">https://steemyy.com/overview.php</a><br>Chinese version: <a href="https://steemyy.com/steemit-tools/overview.php" target="_blank" rel="noopener">https://steemyy.com/steemit-tools/overview.php</a></p>
<p>It may not be so much interesting for ordinary users (if you are not really into the programming stuffs), but in case you need these information, you can Ctrl+F to search in the page.</p>
<p><img src="https://cdn.steemitimages.com/DQmUnkiPtRa4MYkTN4SdjBjSaVRpruhWfdhoEMPpbAk3E5D/image.png" alt="image.png"></p>
<p>It is based on Steem-JS:</p>
<ul>
<li>getChainProperties</li>
<li>getTicker</li>
<li>getVersion</li>
<li>getHardforkVersion</li>
<li>getNextScheduledHardfork</li>
<li>getWitnessCount</li>
<li>getDynamicGlobalProperties</li>
<li>getConfig</li>
</ul>
<hr>

<p>Every little helps! I hope this helps!</p>
<h2 id="Steem-On"><a href="#Steem-On" class="headerlink" title="Steem On!~"></a><strong>Steem On!~</strong></h2><p>If you like my work, please consider voting for me, thanks!<br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong>justyy</strong> and click <strong><em>VOTE</em></strong><br><img src="https://steemyy.com/images/vote-for-justyy.jpg" alt=""></p>
<p><br><br><strong>Alternatively, you could <a href="https://steemyy.com/witness-voting/?witness=justyy&amp;action=proxy" target="_blank" rel="noopener">proxy to me</a>  if you are too lazy to vote!</strong></p>
<p>Also: you can vote me at the tool I made:  <a href="https://steemyy.com/witness-voting/?witness=justyy" target="_blank" rel="noopener">https://steemyy.com/witness-voting/?witness=justyy</a></p>
<h3 id="Visit-me-at-https-steemyy-com"><a href="#Visit-me-at-https-steemyy-com" class="headerlink" title="Visit me at:  https://steemyy.com"></a>Visit me at:  <a href="https://steemyy.com" target="_blank" rel="noopener">https://steemyy.com</a></h3><hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@justyy/new-page-added-steem-blockchain-overview" target="_blank" rel="noopener">&#x2018;New Page Added: Steem Blockchain Overview&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/@justyy/page/4/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/@justyy/page/6/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/@justyy/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@justyy/page/4/">4</a></li>
            
            <li><a class="pagination-link is-current" href="/@justyy/page/5/">5</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@justyy/page/6/">6</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/@justyy/page/291/">291</a></li>
            
        </ul>
    </nav>
</div>
</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@justyy/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="justyy" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 justyy&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@justyy/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/@justyy/content.json"};</script>



    
<script src="/@justyy/js/bundle.js" defer></script></body>
</html>

