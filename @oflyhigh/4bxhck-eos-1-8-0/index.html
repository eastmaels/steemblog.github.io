
<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>升级本地节点到EOS 1.8.0 - oflyhigh</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<link rel="icon" href="https://www.easyicon.net/api/resizeApi.php?id=1185564&size=32">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    




    
    

    
    
    
    

    
    

<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/@oflyhigh/css/style.css">

<link rel="stylesheet" href="/@oflyhigh/css/bundle.css"></head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/@oflyhigh/">
            
                <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="oflyhigh" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/@oflyhigh/">Home</a>
                
                <a class="navbar-item" href="/@oflyhigh/archives">Archives</a>
                
                <a class="navbar-item" href="/@oflyhigh/categories">Categories</a>
                
                <a class="navbar-item" href="/@oflyhigh/tags">Tags</a>
                
                <a class="navbar-item" href="/@oflyhigh/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                

                





<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Catalogue
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#&#x5220;&#x9664;bnet-plugin&#x8BBE;&#x7F6E;">
        <span class="has-mr-6">1</span>
        <span>&#x5220;&#x9664;bnet plugin&#x8BBE;&#x7F6E;</span>
        </a></li><li>
        <a class="is-flex" href="#&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;">
        <span class="has-mr-6">2</span>
        <span>&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;</span>
        </a></li><li>
        <a class="is-flex" href="#Replay">
        <span class="has-mr-6">3</span>
        <span>Replay</span>
        </a></li><li>
        <a class="is-flex" href="#&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;">
        <span class="has-mr-6">4</span>
        <span>&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;</span>
        </a></li><li>
        <a class="is-flex" href="#&#x76F8;&#x5173;&#x94FE;&#x63A5;">
        <span class="has-mr-6">5</span>
        <span>&#x76F8;&#x5173;&#x94FE;&#x63A5;</span>
        </a></li></ul>
        </div>
    </div>
</div>


    
    
</div>


                <script src="/@oflyhigh/js/pjax-widget.js"></script>

                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png" alt="升级本地节点到EOS 1.8.0">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-01T02:06:15.000Z">2019-07-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/@oflyhigh/categories/cn/">cn</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 653 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                升级本地节点到EOS 1.8.0
            
        </h1>
        <div class="content">
            <p>&#x6628;&#x5929;&#x7684;&#x5E16;&#x5B50;&#x63D0;&#x5230;<a href="https://steemit.com/cn/@oflyhigh/eos-1-8-0" target="_blank" rel="noopener">&#x7F16;&#x8BD1;&#x4E86; EOS 1.8.0</a>&#xFF0C;&#x4F46;&#x662F;&#x5355;&#x5355;&#x7F16;&#x8BD1;&#x53EF;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x8FD8;&#x8981;&#x5C06;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x7684;v1.7.4&#x7248;&#x672C;&#x7684;&#x8282;&#x70B9;&#x5347;&#x7EA7;&#x5230;v1.8.0&#x624D;&#x884C;&#x3002;</p>
<p><img src="https://steemitimages.com/DQmRkLq6rRew3mHfx4vYGWyqpC8wSebLPeC2iZCXAdpuGkR/image.png" alt=""><br>(&#x56FE;&#x6E90; &#xFF1A;<a href="https://pixabay.com/" target="_blank" rel="noopener">pixabay</a>)</p>
<p>&#x4E0D;&#x8FC7;&#x56E0;&#x4E3A;&#x8FD9;&#x6B21;&#x662F;&#x5171;&#x8BC6;&#x5347;&#x7EA7;(&#x786C;&#x5206;&#x53C9;)&#x7248;&#x672C;&#xFF0C;&#x6240;&#x4EE5;&#x4EE5;&#x5F80;&#x7684;&#x76F4;&#x63A5;&#x66FF;&#x6362;&#x662F;&#x884C;&#x4E0D;&#x901A;&#x7684;&#x5566;&#x3002;</p>
<h1 id="&#x5220;&#x9664;bnet-plugin&#x8BBE;&#x7F6E;"><a href="#&#x5220;&#x9664;bnet-plugin&#x8BBE;&#x7F6E;" class="headerlink" title="&#x5220;&#x9664;bnet plugin&#x8BBE;&#x7F6E;"></a>&#x5220;&#x9664;bnet plugin&#x8BBE;&#x7F6E;</h1><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x8981;&#x5220;&#x9664;&#x4E4B;&#x524D;bnet&#x76F8;&#x5173;&#x8BBE;&#x7F6E;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;v1.8.0&#x4E2D;bnet&#x5DF2;&#x7ECF;&#x5F7B;&#x5E95;&#x4E0D;&#x88AB;&#x652F;&#x6301;&#x5566;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x76F8;&#x5173;&#x8BBE;&#x7F6E;&#xFF0C;&#x8FD0;&#x884C;v1.8.0&#x7248;&#x672C;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;<code>unrecognised option</code>&#x9519;&#x8BEF;&#xFF1A;</p>
<blockquote>
<p>error 2019-06-30T01:39:04.740 nodeos    main.cpp:120                  main                 ] Throw location unknown (consider using BOOST_THROW_EXCEPTION)<br>Dynamic exception type: boost::wrapexcept<boost::program_options::unknown_option><br>std::exception::what: unrecognised option &#x2018;bnet-follow-irreversible&#x2019;</boost::program_options::unknown_option></p>
</blockquote>
<h1 id="&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;"><a href="#&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;" class="headerlink" title="&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;"></a>&#x5220;&#x9664;&#x76F8;&#x5173;&#x76EE;&#x5F55;</h1><p>&#x56E0;&#x4E3A;&#x662F;&#x5171;&#x8BC6;&#x534F;&#x8BAE;&#x5347;&#x7EA7;&#xFF0C;&#x6240;&#x4EE5;&#x65B0;&#x7248;&#x672C;&#x7684;chainbase&#x548C;&#x4E4B;&#x524D;&#x7248;&#x672C;chainbase&#x662F;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#xFF0C;&#x5728;&#x8FD0;&#x884C;&#x65B0;&#x7248;&#x672C;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5220;&#x9664;<code>data&#x76EE;&#x5F55;&#x4E0B;</code>&#x7684;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<ul>
<li>blocks/reversible directory</li>
<li>state-history directory</li>
<li>state directory</li>
</ul>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x4E0A;&#x8FF0;&#x76EE;&#x5F55;&#x5C31;&#x5F00;&#x59CB;&#x8FD0;&#x884C;v1.8.0&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;</p>
<blockquote>
<p>N5boost10wrapexceptISt13runtime_errorEE: chainbase database format not compatible with this version of chainbase.</p>
</blockquote>
<p><img src="https://cdn.steemitimages.com/DQmdc9fqsRfqLMcAxQX9h6AUreJQhQo7kKF3fuJP71td6sV/image.png" alt=""></p>
<h1 id="Replay"><a href="#Replay" class="headerlink" title="Replay"></a>Replay</h1><p>&#x5F53;&#x505A;&#x5B8C;&#x4E0A;&#x8FF0;&#x5DE5;&#x4F5C;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x91CD;&#x542F;v1.8.0&#x7684;nodeos&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x884C;replay&#x3002;</p>
<p><img src="https://cdn.steemitimages.com/DQmUM5N6Ju2W1R5kaWdFyFWyg8EtRfosj4hswyGgvZ4jLc7/image.png" alt=""></p>
<p>&#x4E0D;&#x8FC7;&#x770B;&#x8D77;&#x6765;&#xFF0C;replay&#x662F;&#x4E00;&#x4E2A;&#x6F2B;&#x957F;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x6211;&#x8FD9;&#x8DD1;&#x4E86;&#x7EA6;12&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x624D;&#x5C06;&#x5C06;&#x5B8C;&#x6210;1/4&#xFF0C;&#x76EE;&#x6D4B;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#xFF0C;&#x9700;&#x8981;2&#x5929;&#x4EE5;&#x4E0A;&#x3002;</p>
<h1 id="&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;"><a href="#&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;" class="headerlink" title="&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;"></a>&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;</h1><p>&#x628A;&#x5347;&#x7EA7;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x9644;&#x4E00;&#x4EFD;&#xFF0C;&#x4F9B;&#x5927;&#x5BB6;&#x53C2;&#x8003;&#x3002;</p>
<blockquote>
<ul>
<li><p>Ensure that their existing node is running the most recent stable release (1.7) of nodeos and then shut down nodeos.</p>
</li>
<li><p>Make a backup and delete the blocks/reversible directory, state-history directory, and state directory within the data directory.</p>
</li>
<li><p>Replace their old version of nodeos with the new release.</p>
</li>
<li><p>Start the new 1.8 release of nodeos and let it complete replay from genesis and catch up with syncing with the network. The node should receive blocks and LIB should advance. Nodes running v1.8 and v1.7 will continue to coexist in the same network prior to the activation of the first protocol upgrade feature.</p>
</li>
</ul>
</blockquote>
<h1 id="&#x76F8;&#x5173;&#x94FE;&#x63A5;"><a href="#&#x76F8;&#x5173;&#x94FE;&#x63A5;" class="headerlink" title="&#x76F8;&#x5173;&#x94FE;&#x63A5;"></a>&#x76F8;&#x5173;&#x94FE;&#x63A5;</h1><ul>
<li><a href="https://steemit.com/cn/@oflyhigh/eos-1-8-0" target="_blank" rel="noopener">&#x7F16;&#x8BD1; EOS 1.8.0</a></li>
<li><a href="https://github.com/EOSIO/eos/releases/tag/v1.8.0" target="_blank" rel="noopener">EOSIO v1.8.0 Release Notes</a></li>
<li><a href="https://github.com/EOSIO/eos/issues/7237" target="_blank" rel="noopener">Consensus Protocol Upgrade Process #7237</a></li>
<li><a href="https://developers.eos.io/eosio-nodeos/docs/consensus-protocol-upgrade-process" target="_blank" rel="noopener">1.8: Consensus Protocol Upgrade Process</a></li>
</ul>
<hr>
<center><strong>Vote For Me As Witness</strong><br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener">https://steemit.com/~witnesses</a> type in <strong><code>oflyhigh</code></strong> and click <strong><em><code>VOTE</code></em></strong><br><a href="https://steemit.com/~witnesses" target="_blank" rel="noopener"><img src="https://cdn.steemitimages.com/DQmX5NysqT44FBa3bhuWqQ69nAbseu8Nt5YQPn2pYejPVxA/image.png" alt=""></a><br><a href="https://steemconnect.com/sign/account-witness-vote?witness=oflyhigh&amp;approve=1" target="_blank" rel="noopener">Vote @oflyhigh via Steemconnect</a><br><strong>Thank you!</strong></center>

<hr>
<p>This page is synchronized from the post: <a href="https://steemit.com/@oflyhigh/4bxhck-eos-1-8-0" target="_blank" rel="noopener">&#x2018;&#x5347;&#x7EA7;&#x672C;&#x5730;&#x8282;&#x70B9;&#x5230;EOS 1.8.0&#x2019;</a></p>
<script>document.querySelectorAll(".not-gallery-item").forEach(e=>{if(!e.dataset.src)return;const t=document.createElement("img");t.style="display:none !important;",t.src=e.dataset.src,t.addEventListener("error",()=>{t.remove(),e.style.color="inherit",e.style.backgroundImage="none",e.style.background="none"}),t.addEventListener("load",()=>{t.remove()}),document.body.appendChild(t)});</script>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/@oflyhigh/tags/cn/">cn</a>, <a class="has-link-grey -link" href="/@oflyhigh/tags/eos/">eos</a>, <a class="has-link-grey -link" href="/@oflyhigh/tags/nodeos/">nodeos</a>, <a class="has-link-grey -link" href="/@oflyhigh/tags/sct/">sct</a>, <a class="has-link-grey -link" href="/@oflyhigh/tags/study/">study</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ab6f60ace89f00013641890&amp;product=inline-share-buttons" async="async"></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/@oflyhigh/--verbena-hybrida-voss--hemerocallis-citrina-baroni-2019-07-01/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">美女樱与忘忧草 / Verbena hybrida Voss &amp; Hemerocallis citrina Baroni </span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/@oflyhigh/--the-rainbow-2019-06-30/">
                <span class="level-item">雨后彩虹🌈 / The rainbow</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/@oflyhigh/">
                
                    <img src="https://avatars0.githubusercontent.com/u/50857551?s=200&v=4" alt="oflyhigh" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 oflyhigh&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en_US.UTF-8");</script>


    
    
    
    <script src="/@oflyhigh/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})});</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})});</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>



    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    
    

    
    
    





    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/@oflyhigh/content.json"};</script>



    
<script src="/@oflyhigh/js/bundle.js" defer></script></body>
</html>

